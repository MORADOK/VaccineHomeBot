<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö RegispatientHome</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #333;
            margin: 0 0 10px;
            font-size: 28px;
        }
        .header p {
            color: #666;
            margin: 0;
            font-size: 16px;
        }
        .test-section {
            margin: 25px 0;
            padding: 20px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            background: #f8f9fa;
        }
        .test-section h3 {
            margin: 0 0 15px;
            color: #333;
            font-size: 18px;
        }
        .test-result {
            padding: 10px 15px;
            margin: 8px 0;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Sarabun', sans-serif;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }
        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            text-align: center;
        }
        .stat {
            padding: 15px;
            border-radius: 10px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            flex: 1;
            margin: 0 10px;
        }
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        .stat-label {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        .phone-test {
            margin: 15px 0;
        }
        .phone-input {
            width: 200px;
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            margin-right: 10px;
        }
        .phone-result {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            margin-left: 10px;
        }
        .valid {
            background: #d4edda;
            color: #155724;
        }
        .invalid {
            background: #f8d7da;
            color: #721c24;
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #007bff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö RegispatientHome</h1>
            <p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô</p>
        </div>

        <div class="stats">
            <div class="stat">
                <div class="stat-number" id="totalTests">0</div>
                <div class="stat-label">Total Tests</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="passedTests">0</div>
                <div class="stat-label">Passed</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="failedTests">0</div>
                <div class="stat-label">Failed</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="successRate">0%</div>
                <div class="stat-label">Success Rate</div>
            </div>
        </div>

        <div style="text-align: center; margin: 20px 0;">
            <button class="btn" onclick="runAllTests()">üß™ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö</button>
            <button class="btn" onclick="clearResults()">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</button>
            <button class="btn" onclick="exportResults()">üìÑ Export ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</button>
        </div>

        <!-- Configuration Check -->
        <div class="test-section">
            <h3>‚öôÔ∏è ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Configuration</h3>
            <div id="configResults"></div>
        </div>

        <!-- Service Initialization -->
        <div class="test-section">
            <h3>üîß ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Services</h3>
            <div id="serviceResults"></div>
        </div>

        <!-- Phone Validation Tests -->
        <div class="test-section">
            <h3>üì± ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</h3>
            <div id="phoneResults"></div>
            
            <div class="phone-test">
                <h4>üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö Real-time:</h4>
                <input type="tel" class="phone-input" id="livePhoneTest" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå">
                <span id="livePhoneResult" class="phone-result"></span>
            </div>
        </div>

        <!-- Name Validation Tests -->
        <div class="test-section">
            <h3>üë§ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠</h3>
            <div id="nameResults"></div>
        </div>

        <!-- Integration Tests -->
        <div class="test-section">
            <h3>üîó ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô</h3>
            <div id="integrationResults"></div>
        </div>

        <!-- System Health -->
        <div class="test-section">
            <h3>üíö ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏ö</h3>
            <div id="healthResults"></div>
        </div>
    </div>

    <!-- Load Scripts -->
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="./config.js"></script>
    <script src="./supabase-client.js"></script>
    <script src="./validation.js"></script>
    <script src="./ui-components.js"></script>

    <script>
        let testResults = [];
        let totalTests = 0;
        let passedTests = 0;
        let failedTests = 0;

        // Test utilities
        function addResult(section, test, status, message, details = null) {
            const result = { section, test, status, message, details, timestamp: new Date() };
            testResults.push(result);
            
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-result ${status}`;
            resultDiv.innerHTML = `
                <strong>${test}:</strong> ${message}
                ${details ? `<br><small>${details}</small>` : ''}
            `;
            
            document.getElementById(section + 'Results').appendChild(resultDiv);
            
            totalTests++;
            if (status === 'success') passedTests++;
            else if (status === 'error') failedTests++;
            
            updateStats();
        }

        function updateStats() {
            document.getElementById('totalTests').textContent = totalTests;
            document.getElementById('passedTests').textContent = passedTests;
            document.getElementById('failedTests').textContent = failedTests;
            
            const successRate = totalTests > 0 ? Math.round((passedTests / totalTests) * 100) : 0;
            document.getElementById('successRate').textContent = successRate + '%';
        }

        function clearResults() {
            testResults = [];
            totalTests = 0;
            passedTests = 0;
            failedTests = 0;
            
            ['config', 'service', 'phone', 'name', 'integration', 'health'].forEach(section => {
                document.getElementById(section + 'Results').innerHTML = '';
            });
            
            updateStats();
        }

        function exportResults() {
            const data = {
                timestamp: new Date().toISOString(),
                summary: {
                    total: totalTests,
                    passed: passedTests,
                    failed: failedTests,
                    successRate: totalTests > 0 ? Math.round((passedTests / totalTests) * 100) : 0
                },
                results: testResults
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `regispatient-test-results-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Configuration Tests
        async function testConfiguration() {
            try {
                // Test CONFIG object
                if (typeof window.CONFIG !== 'undefined') {
                    addResult('config', 'CONFIG Object', 'success', 'CONFIG object loaded successfully');
                    
                    // Test Supabase config
                    if (window.CONFIG.SUPABASE && window.CONFIG.SUPABASE.URL) {
                        addResult('config', 'Supabase Config', 'success', 'Supabase configuration found');
                    } else {
                        addResult('config', 'Supabase Config', 'warning', 'Supabase configuration missing or incomplete');
                    }
                    
                    // Test LIFF config
                    if (window.CONFIG.LIFF && window.CONFIG.LIFF.ID) {
                        addResult('config', 'LIFF Config', 'success', 'LIFF configuration found');
                    } else {
                        addResult('config', 'LIFF Config', 'warning', 'LIFF configuration missing');
                    }
                } else {
                    addResult('config', 'CONFIG Object', 'error', 'CONFIG object not found');
                }

                // Test VCHomeConfig object
                if (typeof window.VCHomeConfig !== 'undefined') {
                    addResult('config', 'VCHomeConfig Object', 'success', 'VCHomeConfig object loaded successfully');
                } else {
                    addResult('config', 'VCHomeConfig Object', 'warning', 'VCHomeConfig object not found');
                }

            } catch (error) {
                addResult('config', 'Configuration Test', 'error', 'Configuration test failed', error.message);
            }
        }

        // Service Tests
        async function testServices() {
            try {
                // Test SupabaseClient
                if (typeof window.SupabaseClient !== 'undefined') {
                    const supabaseClient = new SupabaseClient();
                    addResult('service', 'SupabaseClient', 'success', 'SupabaseClient initialized successfully');
                    
                    // Test health check
                    try {
                        const health = await supabaseClient.healthCheck();
                        if (health.status === 'healthy') {
                            addResult('service', 'Supabase Health', 'success', 'Supabase connection healthy');
                        } else {
                            addResult('service', 'Supabase Health', 'warning', 'Supabase connection issues', health.error);
                        }
                    } catch (error) {
                        addResult('service', 'Supabase Health', 'warning', 'Health check failed', error.message);
                    }
                } else {
                    addResult('service', 'SupabaseClient', 'error', 'SupabaseClient not found');
                }

                // Test ValidationService
                if (typeof window.ValidationService !== 'undefined') {
                    const validationService = new ValidationService();
                    addResult('service', 'ValidationService', 'success', 'ValidationService initialized successfully');
                } else {
                    addResult('service', 'ValidationService', 'error', 'ValidationService not found');
                }

                // Test UIComponents
                if (typeof window.UIComponents !== 'undefined') {
                    const uiComponents = new UIComponents();
                    addResult('service', 'UIComponents', 'success', 'UIComponents initialized successfully');
                } else {
                    addResult('service', 'UIComponents', 'error', 'UIComponents not found');
                }

            } catch (error) {
                addResult('service', 'Service Test', 'error', 'Service test failed', error.message);
            }
        }

        // Phone Validation Tests
        async function testPhoneValidation() {
            if (typeof window.ValidationService === 'undefined') {
                addResult('phone', 'Phone Validation', 'error', 'ValidationService not available');
                return;
            }

            const validationService = new ValidationService();
            
            const testCases = [
                { input: '0812345678', expected: true, description: 'Standard mobile number' },
                { input: '812345678', expected: true, description: '9 digits (auto-add 0)' },
                { input: '0912345678', expected: true, description: '09 mobile number' },
                { input: '0612345678', expected: true, description: '06 mobile number' },
                { input: '+66812345678', expected: true, description: 'International format' },
                { input: '66812345678', expected: true, description: 'Country code format' },
                { input: '08-1234-5678', expected: true, description: 'Formatted input' },
                { input: '0712345678', expected: false, description: 'Landline number (should fail)' },
                { input: '081234567', expected: false, description: 'Too short (should fail)' },
                { input: '08123456789', expected: false, description: 'Too long (should fail)' },
                { input: 'abc', expected: false, description: 'Non-numeric (should fail)' },
                { input: '', expected: false, description: 'Empty input (should fail)' }
            ];

            testCases.forEach(testCase => {
                try {
                    const result = validationService.validatePhoneNumber(testCase.input);
                    const passed = result.isValid === testCase.expected;
                    
                    addResult('phone', 
                        testCase.description, 
                        passed ? 'success' : 'error',
                        `Input: "${testCase.input}" ‚Üí ${result.isValid ? 'Valid' : 'Invalid'}`,
                        passed ? null : `Expected: ${testCase.expected}, Got: ${result.isValid}`
                    );
                } catch (error) {
                    addResult('phone', testCase.description, 'error', 'Test failed', error.message);
                }
            });
        }

        // Name Validation Tests
        async function testNameValidation() {
            if (typeof window.ValidationService === 'undefined') {
                addResult('name', 'Name Validation', 'error', 'ValidationService not available');
                return;
            }

            const validationService = new ValidationService();
            
            const testCases = [
                { input: '‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ', expected: true, description: 'Thai name' },
                { input: 'John Smith', expected: true, description: 'English name' },
                { input: '‡∏™‡∏°‡∏ä‡∏≤‡∏¢ Smith', expected: true, description: 'Mixed Thai-English' },
                { input: '‡∏ô‡∏≤‡∏¢ ‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ', expected: true, description: 'Name with title' },
                { input: '‡∏™.‡πÉ‡∏à‡∏î‡∏µ', expected: true, description: 'Name with abbreviation' },
                { input: 'A', expected: false, description: 'Too short (should fail)' },
                { input: '', expected: false, description: 'Empty name (should fail)' },
                { input: '123', expected: false, description: 'Numbers only (should fail)' },
                { input: 'Name@123', expected: false, description: 'Invalid characters (should fail)' }
            ];

            testCases.forEach(testCase => {
                try {
                    const result = validationService.validatePatientName(testCase.input);
                    const passed = result.isValid === testCase.expected;
                    
                    addResult('name', 
                        testCase.description, 
                        passed ? 'success' : 'error',
                        `Input: "${testCase.input}" ‚Üí ${result.isValid ? 'Valid' : 'Invalid'}`,
                        passed ? null : `Expected: ${testCase.expected}, Got: ${result.isValid}`
                    );
                } catch (error) {
                    addResult('name', testCase.description, 'error', 'Test failed', error.message);
                }
            });
        }

        // Integration Tests
        async function testIntegration() {
            try {
                if (typeof window.ValidationService === 'undefined') {
                    addResult('integration', 'Integration Test', 'error', 'ValidationService not available');
                    return;
                }

                const validationService = new ValidationService();
                
                // Test full registration data validation
                const testData = {
                    patientName: '‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ',
                    phoneNumber: '0812345678',
                    lineUserId: 'U1234567890abcdef1234567890abcdef12'
                };

                const result = validationService.validateRegistrationData(testData);
                
                if (result.isValid) {
                    addResult('integration', 'Full Registration Validation', 'success', 
                        'Registration data validation passed',
                        `Name: ${result.sanitizedData.patientName}, Phone: ${result.sanitizedData.phoneNumber}`
                    );
                } else {
                    addResult('integration', 'Full Registration Validation', 'error', 
                        'Registration data validation failed',
                        result.errors.join(', ')
                    );
                }

                // Test rate limiting
                const rateLimitResult = validationService.checkRateLimit('test-user');
                addResult('integration', 'Rate Limiting', 'success', 
                    `Rate limit check: ${rateLimitResult.allowed ? 'Allowed' : 'Blocked'}`
                );

            } catch (error) {
                addResult('integration', 'Integration Test', 'error', 'Integration test failed', error.message);
            }
        }

        // System Health Tests
        async function testSystemHealth() {
            try {
                // Test DOM elements
                const requiredElements = ['regForm', 'fullName', 'phone', 'consent', 'submitBtn'];
                let domElementsFound = 0;
                
                requiredElements.forEach(elementId => {
                    if (document.getElementById(elementId)) {
                        domElementsFound++;
                    }
                });

                if (domElementsFound === requiredElements.length) {
                    addResult('health', 'DOM Elements', 'success', 'All required DOM elements found');
                } else {
                    addResult('health', 'DOM Elements', 'warning', 
                        `${domElementsFound}/${requiredElements.length} DOM elements found`
                    );
                }

                // Test LIFF SDK
                if (typeof liff !== 'undefined') {
                    addResult('health', 'LIFF SDK', 'success', 'LIFF SDK loaded successfully');
                } else {
                    addResult('health', 'LIFF SDK', 'warning', 'LIFF SDK not loaded');
                }

                // Test Supabase SDK
                if (typeof supabase !== 'undefined') {
                    addResult('health', 'Supabase SDK', 'success', 'Supabase SDK loaded successfully');
                } else {
                    addResult('health', 'Supabase SDK', 'warning', 'Supabase SDK not loaded');
                }

                // Test browser compatibility
                const features = {
                    'localStorage': typeof Storage !== 'undefined',
                    'fetch': typeof fetch !== 'undefined',
                    'Promise': typeof Promise !== 'undefined',
                    'async/await': (async () => {})().constructor.name === 'AsyncFunction'
                };

                let compatibleFeatures = 0;
                Object.entries(features).forEach(([feature, supported]) => {
                    if (supported) compatibleFeatures++;
                });

                if (compatibleFeatures === Object.keys(features).length) {
                    addResult('health', 'Browser Compatibility', 'success', 'All required features supported');
                } else {
                    addResult('health', 'Browser Compatibility', 'warning', 
                        `${compatibleFeatures}/${Object.keys(features).length} features supported`
                    );
                }

            } catch (error) {
                addResult('health', 'System Health', 'error', 'System health check failed', error.message);
            }
        }

        // Live phone testing
        document.addEventListener('DOMContentLoaded', () => {
            const livePhoneInput = document.getElementById('livePhoneTest');
            const livePhoneResult = document.getElementById('livePhoneResult');

            if (livePhoneInput && livePhoneResult) {
                livePhoneInput.addEventListener('input', (e) => {
                    if (typeof window.ValidationService !== 'undefined') {
                        const validationService = new ValidationService();
                        const result = validationService.validatePhoneNumber(e.target.value);
                        
                        livePhoneResult.textContent = result.isValid ? '‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á' : '‚ùå ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á';
                        livePhoneResult.className = `phone-result ${result.isValid ? 'valid' : 'invalid'}`;
                        
                        if (!result.isValid && result.errors.length > 0) {
                            livePhoneResult.textContent += ` (${result.errors[0]})`;
                        }
                    }
                });
            }
        });

        // Main test runner
        async function runAllTests() {
            clearResults();
            
            const testButton = document.querySelector('button[onclick="runAllTests()"]');
            testButton.disabled = true;
            testButton.innerHTML = '<span class="loading"></span> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...';

            try {
                await testConfiguration();
                await testServices();
                await testPhoneValidation();
                await testNameValidation();
                await testIntegration();
                await testSystemHealth();

                // Show summary
                const successRate = totalTests > 0 ? Math.round((passedTests / totalTests) * 100) : 0;
                let summaryMessage = `‚úÖ ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô: ${passedTests}/${totalTests} ‡∏ú‡πà‡∏≤‡∏ô (${successRate}%)`;
                
                if (successRate >= 90) {
                    summaryMessage = 'üéâ ' + summaryMessage + ' - ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!';
                } else if (successRate >= 70) {
                    summaryMessage = '‚ö†Ô∏è ' + summaryMessage + ' - ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á';
                } else {
                    summaryMessage = '‚ùå ' + summaryMessage + ' - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç';
                }

                alert(summaryMessage);

            } catch (error) {
                addResult('health', 'Test Runner', 'error', 'Test execution failed', error.message);
            } finally {
                testButton.disabled = false;
                testButton.innerHTML = 'üß™ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö';
            }
        }
    </script>
</body>
</html>