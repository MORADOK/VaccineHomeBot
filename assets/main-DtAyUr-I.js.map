{"version":3,"file":"main-DtAyUr-I.js","sources":["../../node_modules/react-dom/client.js","../../src/hooks/use-toast.ts","../../node_modules/@radix-ui/react-toast/dist/index.mjs","../../node_modules/class-variance-authority/dist/index.mjs","../../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../../src/lib/utils.ts","../../src/components/ui/toast.tsx","../../src/components/ui/toaster.tsx","../../node_modules/next-themes/dist/index.mjs","../../node_modules/sonner/dist/index.mjs","../../src/components/ui/sonner.tsx","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/primitive/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-compose-refs/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-context/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-slot/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-primitive/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-use-escape-keydown/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-id/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-arrow/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-use-size/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-popper/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-presence/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-visually-hidden/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/dist/index.mjs","../../src/components/ui/tooltip.tsx","../../src/components/ui/card.tsx","../../src/components/ui/button.tsx","../../src/components/ui/alert.tsx","../../src/components/ErrorBoundary.tsx","../../src/components/ui/tabs.tsx","../../src/components/ui/badge.tsx","../../src/components/ui/textarea.tsx","../../node_modules/@radix-ui/react-separator/dist/index.mjs","../../src/components/ui/separator.tsx","../../src/components/SmartRoutingGenerator.tsx","../../src/components/WorkflowAnalyzer.tsx","../../src/components/VaccineWorkflowDesigner.tsx","../../src/components/ui/input.tsx","../../node_modules/@radix-ui/react-label/dist/index.mjs","../../src/components/ui/label.tsx","../../src/components/ui/select.tsx","../../src/components/StaffDashboard.tsx","../../src/components/PatientRegistration.tsx","../../src/components/SetupGuide.tsx","../../src/components/LineBot.tsx","../../src/integrations/supabase/client.ts","../../src/components/PatientNextAppointment.tsx","../../src/components/PatientPortal.tsx","../../src/hooks/use-admin-auth.ts","../../src/components/AdminLogin.tsx","../../src/components/ProtectedRoute.tsx","../../src/components/VaccineSettings.tsx","../../src/components/StaffPortal.tsx","../../src/components/GoogleSheetsIntegration.tsx","../../src/pages/Index.tsx","../../src/pages/NotFound.tsx","../../src/pages/LineBotPage.tsx","../../src/pages/PatientPortalPage.tsx","../../node_modules/@radix-ui/react-checkbox/dist/index.mjs","../../src/components/ui/checkbox.tsx","../../node_modules/date-fns/toDate.mjs","../../node_modules/date-fns/constructFrom.mjs","../../node_modules/date-fns/addDays.mjs","../../node_modules/date-fns/addMonths.mjs","../../node_modules/date-fns/constants.mjs","../../node_modules/date-fns/_lib/defaultOptions.mjs","../../node_modules/date-fns/startOfWeek.mjs","../../node_modules/date-fns/startOfISOWeek.mjs","../../node_modules/date-fns/getISOWeekYear.mjs","../../node_modules/date-fns/startOfDay.mjs","../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs","../../node_modules/date-fns/differenceInCalendarDays.mjs","../../node_modules/date-fns/startOfISOWeekYear.mjs","../../node_modules/date-fns/addWeeks.mjs","../../node_modules/date-fns/addYears.mjs","../../node_modules/date-fns/max.mjs","../../node_modules/date-fns/min.mjs","../../node_modules/date-fns/isSameDay.mjs","../../node_modules/date-fns/isDate.mjs","../../node_modules/date-fns/isValid.mjs","../../node_modules/date-fns/differenceInCalendarMonths.mjs","../../node_modules/date-fns/differenceInCalendarWeeks.mjs","../../node_modules/date-fns/differenceInDays.mjs","../../node_modules/date-fns/endOfMonth.mjs","../../node_modules/date-fns/startOfMonth.mjs","../../node_modules/date-fns/startOfYear.mjs","../../node_modules/date-fns/endOfWeek.mjs","../../node_modules/date-fns/endOfISOWeek.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs","../../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs","../../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/localize.mjs","../../node_modules/date-fns/locale/_lib/buildMatchFn.mjs","../../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/match.mjs","../../node_modules/date-fns/locale/en-US.mjs","../../node_modules/date-fns/getDayOfYear.mjs","../../node_modules/date-fns/getISOWeek.mjs","../../node_modules/date-fns/getWeekYear.mjs","../../node_modules/date-fns/startOfWeekYear.mjs","../../node_modules/date-fns/getWeek.mjs","../../node_modules/date-fns/_lib/addLeadingZeros.mjs","../../node_modules/date-fns/_lib/format/lightFormatters.mjs","../../node_modules/date-fns/_lib/format/formatters.mjs","../../node_modules/date-fns/_lib/format/longFormatters.mjs","../../node_modules/date-fns/_lib/protectedTokens.mjs","../../node_modules/date-fns/format.mjs","../../node_modules/date-fns/getDaysInMonth.mjs","../../node_modules/date-fns/getUnixTime.mjs","../../node_modules/date-fns/lastDayOfMonth.mjs","../../node_modules/date-fns/getWeeksInMonth.mjs","../../node_modules/date-fns/isAfter.mjs","../../node_modules/date-fns/isBefore.mjs","../../node_modules/date-fns/isSameMonth.mjs","../../node_modules/date-fns/isSameYear.mjs","../../node_modules/date-fns/subDays.mjs","../../node_modules/date-fns/parseISO.mjs","../../node_modules/date-fns/setMonth.mjs","../../node_modules/date-fns/setYear.mjs","../../node_modules/date-fns/locale/th/_lib/formatDistance.mjs","../../node_modules/date-fns/locale/th/_lib/formatLong.mjs","../../node_modules/date-fns/locale/th/_lib/formatRelative.mjs","../../node_modules/date-fns/locale/th/_lib/localize.mjs","../../node_modules/date-fns/locale/th/_lib/match.mjs","../../node_modules/date-fns/locale/th.mjs","../../node_modules/react-day-picker/dist/index.esm.js","../../src/components/ui/calendar.tsx","../../src/components/VaccineScheduleCalculator.tsx","../../src/components/PatientRegistrationsList.tsx","../../src/components/NextAppointments.tsx","../../src/components/PastVaccinations.tsx","../../src/components/AutoNotificationSystem.tsx","../../src/components/EditPatientAppointment.tsx","../../src/components/NotificationTestPanel.tsx","../../src/components/UserRoleManager.tsx","../../src/components/AuthenticatedStaffPortal.tsx","../../src/pages/StaffPortalPage.tsx","../../src/components/HospitalLogo.tsx","../../src/hooks/use-mobile.tsx","../../src/components/ui/sheet.tsx","../../src/components/ui/skeleton.tsx","../../src/components/ui/sidebar.tsx","../../src/components/AppSidebar.tsx","../../src/components/AppLayout.tsx","../../src/pages/HomePage.tsx","../../src/pages/AuthPage.tsx","../../src/pages/SimpleAuthPage.tsx","../../src/pages/LoadingPage.tsx","../../src/pages/FastIndexPage.tsx","../../src/components/LiffPatientPortal.tsx","../../src/pages/LiffPatientPortalPage.tsx","../../src/components/VaccineStatusChecker.tsx","../../src/pages/VaccineStatusPage.tsx","../../src/pages/DownloadPage.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","\"use client\";\n\n// packages/react/toast/src/Toast.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport * as DismissableLayer from \"@radix-ui/react-dismissable-layer\";\nimport { Portal } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar PROVIDER_NAME = \"ToastProvider\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(\"Toast\");\nvar [createToastContext, createToastScope] = createContextScope(\"Toast\", [createCollectionScope]);\nvar [ToastProviderProvider, useToastProviderContext] = createToastContext(PROVIDER_NAME);\nvar ToastProvider = (props) => {\n  const {\n    __scopeToast,\n    label = \"Notification\",\n    duration = 5e3,\n    swipeDirection = \"right\",\n    swipeThreshold = 50,\n    children\n  } = props;\n  const [viewport, setViewport] = React.useState(null);\n  const [toastCount, setToastCount] = React.useState(0);\n  const isFocusedToastEscapeKeyDownRef = React.useRef(false);\n  const isClosePausedRef = React.useRef(false);\n  if (!label.trim()) {\n    console.error(\n      `Invalid prop \\`label\\` supplied to \\`${PROVIDER_NAME}\\`. Expected non-empty \\`string\\`.`\n    );\n  }\n  return /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeToast, children: /* @__PURE__ */ jsx(\n    ToastProviderProvider,\n    {\n      scope: __scopeToast,\n      label,\n      duration,\n      swipeDirection,\n      swipeThreshold,\n      toastCount,\n      viewport,\n      onViewportChange: setViewport,\n      onToastAdd: React.useCallback(() => setToastCount((prevCount) => prevCount + 1), []),\n      onToastRemove: React.useCallback(() => setToastCount((prevCount) => prevCount - 1), []),\n      isFocusedToastEscapeKeyDownRef,\n      isClosePausedRef,\n      children\n    }\n  ) });\n};\nToastProvider.displayName = PROVIDER_NAME;\nvar VIEWPORT_NAME = \"ToastViewport\";\nvar VIEWPORT_DEFAULT_HOTKEY = [\"F8\"];\nvar VIEWPORT_PAUSE = \"toast.viewportPause\";\nvar VIEWPORT_RESUME = \"toast.viewportResume\";\nvar ToastViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeToast,\n      hotkey = VIEWPORT_DEFAULT_HOTKEY,\n      label = \"Notifications ({hotkey})\",\n      ...viewportProps\n    } = props;\n    const context = useToastProviderContext(VIEWPORT_NAME, __scopeToast);\n    const getItems = useCollection(__scopeToast);\n    const wrapperRef = React.useRef(null);\n    const headFocusProxyRef = React.useRef(null);\n    const tailFocusProxyRef = React.useRef(null);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    const hotkeyLabel = hotkey.join(\"+\").replace(/Key/g, \"\").replace(/Digit/g, \"\");\n    const hasToasts = context.toastCount > 0;\n    React.useEffect(() => {\n      const handleKeyDown = (event) => {\n        const isHotkeyPressed = hotkey.length !== 0 && hotkey.every((key) => event[key] || event.code === key);\n        if (isHotkeyPressed) ref.current?.focus();\n      };\n      document.addEventListener(\"keydown\", handleKeyDown);\n      return () => document.removeEventListener(\"keydown\", handleKeyDown);\n    }, [hotkey]);\n    React.useEffect(() => {\n      const wrapper = wrapperRef.current;\n      const viewport = ref.current;\n      if (hasToasts && wrapper && viewport) {\n        const handlePause = () => {\n          if (!context.isClosePausedRef.current) {\n            const pauseEvent = new CustomEvent(VIEWPORT_PAUSE);\n            viewport.dispatchEvent(pauseEvent);\n            context.isClosePausedRef.current = true;\n          }\n        };\n        const handleResume = () => {\n          if (context.isClosePausedRef.current) {\n            const resumeEvent = new CustomEvent(VIEWPORT_RESUME);\n            viewport.dispatchEvent(resumeEvent);\n            context.isClosePausedRef.current = false;\n          }\n        };\n        const handleFocusOutResume = (event) => {\n          const isFocusMovingOutside = !wrapper.contains(event.relatedTarget);\n          if (isFocusMovingOutside) handleResume();\n        };\n        const handlePointerLeaveResume = () => {\n          const isFocusInside = wrapper.contains(document.activeElement);\n          if (!isFocusInside) handleResume();\n        };\n        wrapper.addEventListener(\"focusin\", handlePause);\n        wrapper.addEventListener(\"focusout\", handleFocusOutResume);\n        wrapper.addEventListener(\"pointermove\", handlePause);\n        wrapper.addEventListener(\"pointerleave\", handlePointerLeaveResume);\n        window.addEventListener(\"blur\", handlePause);\n        window.addEventListener(\"focus\", handleResume);\n        return () => {\n          wrapper.removeEventListener(\"focusin\", handlePause);\n          wrapper.removeEventListener(\"focusout\", handleFocusOutResume);\n          wrapper.removeEventListener(\"pointermove\", handlePause);\n          wrapper.removeEventListener(\"pointerleave\", handlePointerLeaveResume);\n          window.removeEventListener(\"blur\", handlePause);\n          window.removeEventListener(\"focus\", handleResume);\n        };\n      }\n    }, [hasToasts, context.isClosePausedRef]);\n    const getSortedTabbableCandidates = React.useCallback(\n      ({ tabbingDirection }) => {\n        const toastItems = getItems();\n        const tabbableCandidates = toastItems.map((toastItem) => {\n          const toastNode = toastItem.ref.current;\n          const toastTabbableCandidates = [toastNode, ...getTabbableCandidates(toastNode)];\n          return tabbingDirection === \"forwards\" ? toastTabbableCandidates : toastTabbableCandidates.reverse();\n        });\n        return (tabbingDirection === \"forwards\" ? tabbableCandidates.reverse() : tabbableCandidates).flat();\n      },\n      [getItems]\n    );\n    React.useEffect(() => {\n      const viewport = ref.current;\n      if (viewport) {\n        const handleKeyDown = (event) => {\n          const isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n          const isTabKey = event.key === \"Tab\" && !isMetaKey;\n          if (isTabKey) {\n            const focusedElement = document.activeElement;\n            const isTabbingBackwards = event.shiftKey;\n            const targetIsViewport = event.target === viewport;\n            if (targetIsViewport && isTabbingBackwards) {\n              headFocusProxyRef.current?.focus();\n              return;\n            }\n            const tabbingDirection = isTabbingBackwards ? \"backwards\" : \"forwards\";\n            const sortedCandidates = getSortedTabbableCandidates({ tabbingDirection });\n            const index = sortedCandidates.findIndex((candidate) => candidate === focusedElement);\n            if (focusFirst(sortedCandidates.slice(index + 1))) {\n              event.preventDefault();\n            } else {\n              isTabbingBackwards ? headFocusProxyRef.current?.focus() : tailFocusProxyRef.current?.focus();\n            }\n          }\n        };\n        viewport.addEventListener(\"keydown\", handleKeyDown);\n        return () => viewport.removeEventListener(\"keydown\", handleKeyDown);\n      }\n    }, [getItems, getSortedTabbableCandidates]);\n    return /* @__PURE__ */ jsxs(\n      DismissableLayer.Branch,\n      {\n        ref: wrapperRef,\n        role: \"region\",\n        \"aria-label\": label.replace(\"{hotkey}\", hotkeyLabel),\n        tabIndex: -1,\n        style: { pointerEvents: hasToasts ? void 0 : \"none\" },\n        children: [\n          hasToasts && /* @__PURE__ */ jsx(\n            FocusProxy,\n            {\n              ref: headFocusProxyRef,\n              onFocusFromOutsideViewport: () => {\n                const tabbableCandidates = getSortedTabbableCandidates({\n                  tabbingDirection: \"forwards\"\n                });\n                focusFirst(tabbableCandidates);\n              }\n            }\n          ),\n          /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeToast, children: /* @__PURE__ */ jsx(Primitive.ol, { tabIndex: -1, ...viewportProps, ref: composedRefs }) }),\n          hasToasts && /* @__PURE__ */ jsx(\n            FocusProxy,\n            {\n              ref: tailFocusProxyRef,\n              onFocusFromOutsideViewport: () => {\n                const tabbableCandidates = getSortedTabbableCandidates({\n                  tabbingDirection: \"backwards\"\n                });\n                focusFirst(tabbableCandidates);\n              }\n            }\n          )\n        ]\n      }\n    );\n  }\n);\nToastViewport.displayName = VIEWPORT_NAME;\nvar FOCUS_PROXY_NAME = \"ToastFocusProxy\";\nvar FocusProxy = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, onFocusFromOutsideViewport, ...proxyProps } = props;\n    const context = useToastProviderContext(FOCUS_PROXY_NAME, __scopeToast);\n    return /* @__PURE__ */ jsx(\n      VisuallyHidden,\n      {\n        \"aria-hidden\": true,\n        tabIndex: 0,\n        ...proxyProps,\n        ref: forwardedRef,\n        style: { position: \"fixed\" },\n        onFocus: (event) => {\n          const prevFocusedElement = event.relatedTarget;\n          const isFocusFromOutsideViewport = !context.viewport?.contains(prevFocusedElement);\n          if (isFocusFromOutsideViewport) onFocusFromOutsideViewport();\n        }\n      }\n    );\n  }\n);\nFocusProxy.displayName = FOCUS_PROXY_NAME;\nvar TOAST_NAME = \"Toast\";\nvar TOAST_SWIPE_START = \"toast.swipeStart\";\nvar TOAST_SWIPE_MOVE = \"toast.swipeMove\";\nvar TOAST_SWIPE_CANCEL = \"toast.swipeCancel\";\nvar TOAST_SWIPE_END = \"toast.swipeEnd\";\nvar Toast = React.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, open: openProp, defaultOpen, onOpenChange, ...toastProps } = props;\n    const [open = true, setOpen] = useControllableState({\n      prop: openProp,\n      defaultProp: defaultOpen,\n      onChange: onOpenChange\n    });\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || open, children: /* @__PURE__ */ jsx(\n      ToastImpl,\n      {\n        open,\n        ...toastProps,\n        ref: forwardedRef,\n        onClose: () => setOpen(false),\n        onPause: useCallbackRef(props.onPause),\n        onResume: useCallbackRef(props.onResume),\n        onSwipeStart: composeEventHandlers(props.onSwipeStart, (event) => {\n          event.currentTarget.setAttribute(\"data-swipe\", \"start\");\n        }),\n        onSwipeMove: composeEventHandlers(props.onSwipeMove, (event) => {\n          const { x, y } = event.detail.delta;\n          event.currentTarget.setAttribute(\"data-swipe\", \"move\");\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-move-x\", `${x}px`);\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-move-y\", `${y}px`);\n        }),\n        onSwipeCancel: composeEventHandlers(props.onSwipeCancel, (event) => {\n          event.currentTarget.setAttribute(\"data-swipe\", \"cancel\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-y\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-end-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-end-y\");\n        }),\n        onSwipeEnd: composeEventHandlers(props.onSwipeEnd, (event) => {\n          const { x, y } = event.detail.delta;\n          event.currentTarget.setAttribute(\"data-swipe\", \"end\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-y\");\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-end-x\", `${x}px`);\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-end-y\", `${y}px`);\n          setOpen(false);\n        })\n      }\n    ) });\n  }\n);\nToast.displayName = TOAST_NAME;\nvar [ToastInteractiveProvider, useToastInteractiveContext] = createToastContext(TOAST_NAME, {\n  onClose() {\n  }\n});\nvar ToastImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeToast,\n      type = \"foreground\",\n      duration: durationProp,\n      open,\n      onClose,\n      onEscapeKeyDown,\n      onPause,\n      onResume,\n      onSwipeStart,\n      onSwipeMove,\n      onSwipeCancel,\n      onSwipeEnd,\n      ...toastProps\n    } = props;\n    const context = useToastProviderContext(TOAST_NAME, __scopeToast);\n    const [node, setNode] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node2) => setNode(node2));\n    const pointerStartRef = React.useRef(null);\n    const swipeDeltaRef = React.useRef(null);\n    const duration = durationProp || context.duration;\n    const closeTimerStartTimeRef = React.useRef(0);\n    const closeTimerRemainingTimeRef = React.useRef(duration);\n    const closeTimerRef = React.useRef(0);\n    const { onToastAdd, onToastRemove } = context;\n    const handleClose = useCallbackRef(() => {\n      const isFocusInToast = node?.contains(document.activeElement);\n      if (isFocusInToast) context.viewport?.focus();\n      onClose();\n    });\n    const startTimer = React.useCallback(\n      (duration2) => {\n        if (!duration2 || duration2 === Infinity) return;\n        window.clearTimeout(closeTimerRef.current);\n        closeTimerStartTimeRef.current = (/* @__PURE__ */ new Date()).getTime();\n        closeTimerRef.current = window.setTimeout(handleClose, duration2);\n      },\n      [handleClose]\n    );\n    React.useEffect(() => {\n      const viewport = context.viewport;\n      if (viewport) {\n        const handleResume = () => {\n          startTimer(closeTimerRemainingTimeRef.current);\n          onResume?.();\n        };\n        const handlePause = () => {\n          const elapsedTime = (/* @__PURE__ */ new Date()).getTime() - closeTimerStartTimeRef.current;\n          closeTimerRemainingTimeRef.current = closeTimerRemainingTimeRef.current - elapsedTime;\n          window.clearTimeout(closeTimerRef.current);\n          onPause?.();\n        };\n        viewport.addEventListener(VIEWPORT_PAUSE, handlePause);\n        viewport.addEventListener(VIEWPORT_RESUME, handleResume);\n        return () => {\n          viewport.removeEventListener(VIEWPORT_PAUSE, handlePause);\n          viewport.removeEventListener(VIEWPORT_RESUME, handleResume);\n        };\n      }\n    }, [context.viewport, duration, onPause, onResume, startTimer]);\n    React.useEffect(() => {\n      if (open && !context.isClosePausedRef.current) startTimer(duration);\n    }, [open, duration, context.isClosePausedRef, startTimer]);\n    React.useEffect(() => {\n      onToastAdd();\n      return () => onToastRemove();\n    }, [onToastAdd, onToastRemove]);\n    const announceTextContent = React.useMemo(() => {\n      return node ? getAnnounceTextContent(node) : null;\n    }, [node]);\n    if (!context.viewport) return null;\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      announceTextContent && /* @__PURE__ */ jsx(\n        ToastAnnounce,\n        {\n          __scopeToast,\n          role: \"status\",\n          \"aria-live\": type === \"foreground\" ? \"assertive\" : \"polite\",\n          \"aria-atomic\": true,\n          children: announceTextContent\n        }\n      ),\n      /* @__PURE__ */ jsx(ToastInteractiveProvider, { scope: __scopeToast, onClose: handleClose, children: ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(Collection.ItemSlot, { scope: __scopeToast, children: /* @__PURE__ */ jsx(\n          DismissableLayer.Root,\n          {\n            asChild: true,\n            onEscapeKeyDown: composeEventHandlers(onEscapeKeyDown, () => {\n              if (!context.isFocusedToastEscapeKeyDownRef.current) handleClose();\n              context.isFocusedToastEscapeKeyDownRef.current = false;\n            }),\n            children: /* @__PURE__ */ jsx(\n              Primitive.li,\n              {\n                role: \"status\",\n                \"aria-live\": \"off\",\n                \"aria-atomic\": true,\n                tabIndex: 0,\n                \"data-state\": open ? \"open\" : \"closed\",\n                \"data-swipe-direction\": context.swipeDirection,\n                ...toastProps,\n                ref: composedRefs,\n                style: { userSelect: \"none\", touchAction: \"none\", ...props.style },\n                onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n                  if (event.key !== \"Escape\") return;\n                  onEscapeKeyDown?.(event.nativeEvent);\n                  if (!event.nativeEvent.defaultPrevented) {\n                    context.isFocusedToastEscapeKeyDownRef.current = true;\n                    handleClose();\n                  }\n                }),\n                onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n                  if (event.button !== 0) return;\n                  pointerStartRef.current = { x: event.clientX, y: event.clientY };\n                }),\n                onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n                  if (!pointerStartRef.current) return;\n                  const x = event.clientX - pointerStartRef.current.x;\n                  const y = event.clientY - pointerStartRef.current.y;\n                  const hasSwipeMoveStarted = Boolean(swipeDeltaRef.current);\n                  const isHorizontalSwipe = [\"left\", \"right\"].includes(context.swipeDirection);\n                  const clamp = [\"left\", \"up\"].includes(context.swipeDirection) ? Math.min : Math.max;\n                  const clampedX = isHorizontalSwipe ? clamp(0, x) : 0;\n                  const clampedY = !isHorizontalSwipe ? clamp(0, y) : 0;\n                  const moveStartBuffer = event.pointerType === \"touch\" ? 10 : 2;\n                  const delta = { x: clampedX, y: clampedY };\n                  const eventDetail = { originalEvent: event, delta };\n                  if (hasSwipeMoveStarted) {\n                    swipeDeltaRef.current = delta;\n                    handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE, onSwipeMove, eventDetail, {\n                      discrete: false\n                    });\n                  } else if (isDeltaInDirection(delta, context.swipeDirection, moveStartBuffer)) {\n                    swipeDeltaRef.current = delta;\n                    handleAndDispatchCustomEvent(TOAST_SWIPE_START, onSwipeStart, eventDetail, {\n                      discrete: false\n                    });\n                    event.target.setPointerCapture(event.pointerId);\n                  } else if (Math.abs(x) > moveStartBuffer || Math.abs(y) > moveStartBuffer) {\n                    pointerStartRef.current = null;\n                  }\n                }),\n                onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n                  const delta = swipeDeltaRef.current;\n                  const target = event.target;\n                  if (target.hasPointerCapture(event.pointerId)) {\n                    target.releasePointerCapture(event.pointerId);\n                  }\n                  swipeDeltaRef.current = null;\n                  pointerStartRef.current = null;\n                  if (delta) {\n                    const toast = event.currentTarget;\n                    const eventDetail = { originalEvent: event, delta };\n                    if (isDeltaInDirection(delta, context.swipeDirection, context.swipeThreshold)) {\n                      handleAndDispatchCustomEvent(TOAST_SWIPE_END, onSwipeEnd, eventDetail, {\n                        discrete: true\n                      });\n                    } else {\n                      handleAndDispatchCustomEvent(\n                        TOAST_SWIPE_CANCEL,\n                        onSwipeCancel,\n                        eventDetail,\n                        {\n                          discrete: true\n                        }\n                      );\n                    }\n                    toast.addEventListener(\"click\", (event2) => event2.preventDefault(), {\n                      once: true\n                    });\n                  }\n                })\n              }\n            )\n          }\n        ) }),\n        context.viewport\n      ) })\n    ] });\n  }\n);\nvar ToastAnnounce = (props) => {\n  const { __scopeToast, children, ...announceProps } = props;\n  const context = useToastProviderContext(TOAST_NAME, __scopeToast);\n  const [renderAnnounceText, setRenderAnnounceText] = React.useState(false);\n  const [isAnnounced, setIsAnnounced] = React.useState(false);\n  useNextFrame(() => setRenderAnnounceText(true));\n  React.useEffect(() => {\n    const timer = window.setTimeout(() => setIsAnnounced(true), 1e3);\n    return () => window.clearTimeout(timer);\n  }, []);\n  return isAnnounced ? null : /* @__PURE__ */ jsx(Portal, { asChild: true, children: /* @__PURE__ */ jsx(VisuallyHidden, { ...announceProps, children: renderAnnounceText && /* @__PURE__ */ jsxs(Fragment, { children: [\n    context.label,\n    \" \",\n    children\n  ] }) }) });\n};\nvar TITLE_NAME = \"ToastTitle\";\nvar ToastTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...titleProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...titleProps, ref: forwardedRef });\n  }\n);\nToastTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"ToastDescription\";\nvar ToastDescription = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...descriptionProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...descriptionProps, ref: forwardedRef });\n  }\n);\nToastDescription.displayName = DESCRIPTION_NAME;\nvar ACTION_NAME = \"ToastAction\";\nvar ToastAction = React.forwardRef(\n  (props, forwardedRef) => {\n    const { altText, ...actionProps } = props;\n    if (!altText.trim()) {\n      console.error(\n        `Invalid prop \\`altText\\` supplied to \\`${ACTION_NAME}\\`. Expected non-empty \\`string\\`.`\n      );\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ToastAnnounceExclude, { altText, asChild: true, children: /* @__PURE__ */ jsx(ToastClose, { ...actionProps, ref: forwardedRef }) });\n  }\n);\nToastAction.displayName = ACTION_NAME;\nvar CLOSE_NAME = \"ToastClose\";\nvar ToastClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...closeProps } = props;\n    const interactiveContext = useToastInteractiveContext(CLOSE_NAME, __scopeToast);\n    return /* @__PURE__ */ jsx(ToastAnnounceExclude, { asChild: true, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, interactiveContext.onClose)\n      }\n    ) });\n  }\n);\nToastClose.displayName = CLOSE_NAME;\nvar ToastAnnounceExclude = React.forwardRef((props, forwardedRef) => {\n  const { __scopeToast, altText, ...announceExcludeProps } = props;\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"data-radix-toast-announce-exclude\": \"\",\n      \"data-radix-toast-announce-alt\": altText || void 0,\n      ...announceExcludeProps,\n      ref: forwardedRef\n    }\n  );\n});\nfunction getAnnounceTextContent(container) {\n  const textContent = [];\n  const childNodes = Array.from(container.childNodes);\n  childNodes.forEach((node) => {\n    if (node.nodeType === node.TEXT_NODE && node.textContent) textContent.push(node.textContent);\n    if (isHTMLElement(node)) {\n      const isHidden = node.ariaHidden || node.hidden || node.style.display === \"none\";\n      const isExcluded = node.dataset.radixToastAnnounceExclude === \"\";\n      if (!isHidden) {\n        if (isExcluded) {\n          const altText = node.dataset.radixToastAnnounceAlt;\n          if (altText) textContent.push(altText);\n        } else {\n          textContent.push(...getAnnounceTextContent(node));\n        }\n      }\n    }\n  });\n  return textContent;\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail, { discrete }) {\n  const currentTarget = detail.originalEvent.currentTarget;\n  const event = new CustomEvent(name, { bubbles: true, cancelable: true, detail });\n  if (handler) currentTarget.addEventListener(name, handler, { once: true });\n  if (discrete) {\n    dispatchDiscreteCustomEvent(currentTarget, event);\n  } else {\n    currentTarget.dispatchEvent(event);\n  }\n}\nvar isDeltaInDirection = (delta, direction, threshold = 0) => {\n  const deltaX = Math.abs(delta.x);\n  const deltaY = Math.abs(delta.y);\n  const isDeltaX = deltaX > deltaY;\n  if (direction === \"left\" || direction === \"right\") {\n    return isDeltaX && deltaX > threshold;\n  } else {\n    return !isDeltaX && deltaY > threshold;\n  }\n};\nfunction useNextFrame(callback = () => {\n}) {\n  const fn = useCallbackRef(callback);\n  useLayoutEffect(() => {\n    let raf1 = 0;\n    let raf2 = 0;\n    raf1 = window.requestAnimationFrame(() => raf2 = window.requestAnimationFrame(fn));\n    return () => {\n      window.cancelAnimationFrame(raf1);\n      window.cancelAnimationFrame(raf2);\n    };\n  }, [fn]);\n}\nfunction isHTMLElement(node) {\n  return node.nodeType === node.ELEMENT_NODE;\n}\nfunction getTabbableCandidates(container) {\n  const nodes = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node) => {\n      const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n      if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    }\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode);\n  return nodes;\n}\nfunction focusFirst(candidates) {\n  const previouslyFocusedElement = document.activeElement;\n  return candidates.some((candidate) => {\n    if (candidate === previouslyFocusedElement) return true;\n    candidate.focus();\n    return document.activeElement !== previouslyFocusedElement;\n  });\n}\nvar Provider = ToastProvider;\nvar Viewport = ToastViewport;\nvar Root2 = Toast;\nvar Title = ToastTitle;\nvar Description = ToastDescription;\nvar Action = ToastAction;\nvar Close = ToastClose;\nexport {\n  Action,\n  Close,\n  Description,\n  Provider,\n  Root2 as Root,\n  Title,\n  Toast,\n  ToastAction,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n  Viewport,\n  createToastScope\n};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    prefix\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  const prefixedClassGroupEntries = getPrefixedClassGroupEntries(Object.entries(config.classGroups), prefix);\n  prefixedClassGroupEntries.forEach(([classGroupId, classGroup]) => {\n    processClassesRecursively(classGroup, classMap, classGroupId, theme);\n  });\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\nconst getPrefixedClassGroupEntries = (classGroupEntries, prefix) => {\n  if (!prefix) {\n    return classGroupEntries;\n  }\n  return classGroupEntries.map(([classGroupId, classGroup]) => {\n    const prefixedClassGroup = classGroup.map(classDefinition => {\n      if (typeof classDefinition === 'string') {\n        return prefix + classDefinition;\n      }\n      if (typeof classDefinition === 'object') {\n        return Object.fromEntries(Object.entries(classDefinition).map(([key, value]) => [prefix + key, value]));\n      }\n      return classDefinition;\n    });\n    return [classGroupId, prefixedClassGroup];\n  });\n};\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst createParseClassName = config => {\n  const {\n    separator,\n    experimentalParseClassName\n  } = config;\n  const isSeparatorSingleCharacter = separator.length === 1;\n  const firstSeparatorCharacter = separator[0];\n  const separatorLength = separator.length;\n  // parseClassName inspired by https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n  const parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0) {\n        if (currentCharacter === firstSeparatorCharacter && (isSeparatorSingleCharacter || className.slice(index, index + separatorLength) === separator)) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + separatorLength;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const hasImportantModifier = baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER);\n    const baseClassName = hasImportantModifier ? baseClassNameWithImportantModifier.substring(1) : baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (experimentalParseClassName) {\n    return className => experimentalParseClassName({\n      className,\n      parseClassName\n    });\n  }\n  return parseClassName;\n};\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst sortModifiers = modifiers => {\n  if (modifiers.length <= 1) {\n    return modifiers;\n  }\n  const sortedModifiers = [];\n  let unsortedModifiers = [];\n  modifiers.forEach(modifier => {\n    const isArbitraryVariant = modifier[0] === '[';\n    if (isArbitraryVariant) {\n      sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n      unsortedModifiers = [];\n    } else {\n      unsortedModifiers.push(modifier);\n    }\n  });\n  sortedModifiers.push(...unsortedModifiers.sort());\n  return sortedModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    let hasPostfixModifier = Boolean(maybePostfixModifierPosition);\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:([a-z-]+):)?(.+)\\]$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst stringLengths = /*#__PURE__*/new Set(['px', 'full', 'screen']);\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isLength = value => isNumber(value) || stringLengths.has(value) || fractionRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, 'length', isLengthOnly);\nconst isNumber = value => Boolean(value) && !Number.isNaN(Number(value));\nconst isArbitraryNumber = value => getIsArbitraryValue(value, 'number', isNumber);\nconst isInteger = value => Boolean(value) && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst sizeLabels = /*#__PURE__*/new Set(['length', 'size', 'percentage']);\nconst isArbitrarySize = value => getIsArbitraryValue(value, sizeLabels, isNever);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, 'position', isNever);\nconst imageLabels = /*#__PURE__*/new Set(['image', 'url']);\nconst isArbitraryImage = value => getIsArbitraryValue(value, imageLabels, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, '', isShadow);\nconst isAny = () => true;\nconst getIsArbitraryValue = (value, label, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return typeof label === 'string' ? result[1] === label : label.has(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isInteger,\n  isLength,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  const colors = fromTheme('colors');\n  const spacing = fromTheme('spacing');\n  const blur = fromTheme('blur');\n  const brightness = fromTheme('brightness');\n  const borderColor = fromTheme('borderColor');\n  const borderRadius = fromTheme('borderRadius');\n  const borderSpacing = fromTheme('borderSpacing');\n  const borderWidth = fromTheme('borderWidth');\n  const contrast = fromTheme('contrast');\n  const grayscale = fromTheme('grayscale');\n  const hueRotate = fromTheme('hueRotate');\n  const invert = fromTheme('invert');\n  const gap = fromTheme('gap');\n  const gradientColorStops = fromTheme('gradientColorStops');\n  const gradientColorStopPositions = fromTheme('gradientColorStopPositions');\n  const inset = fromTheme('inset');\n  const margin = fromTheme('margin');\n  const opacity = fromTheme('opacity');\n  const padding = fromTheme('padding');\n  const saturate = fromTheme('saturate');\n  const scale = fromTheme('scale');\n  const sepia = fromTheme('sepia');\n  const skew = fromTheme('skew');\n  const space = fromTheme('space');\n  const translate = fromTheme('translate');\n  const getOverscroll = () => ['auto', 'contain', 'none'];\n  const getOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const getSpacingWithAutoAndArbitrary = () => ['auto', isArbitraryValue, spacing];\n  const getSpacingWithArbitrary = () => [isArbitraryValue, spacing];\n  const getLengthWithEmptyAndArbitrary = () => ['', isLength, isArbitraryLength];\n  const getNumberWithAutoAndArbitrary = () => ['auto', isNumber, isArbitraryValue];\n  const getPositions = () => ['bottom', 'center', 'left', 'left-bottom', 'left-top', 'right', 'right-bottom', 'right-top', 'top'];\n  const getLineStyles = () => ['solid', 'dashed', 'dotted', 'double', 'none'];\n  const getBlendModes = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const getAlign = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch'];\n  const getZeroAndEmpty = () => ['', '0', isArbitraryValue];\n  const getBreaks = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const getNumberAndArbitrary = () => [isNumber, isArbitraryValue];\n  return {\n    cacheSize: 500,\n    separator: ':',\n    theme: {\n      colors: [isAny],\n      spacing: [isLength, isArbitraryLength],\n      blur: ['none', '', isTshirtSize, isArbitraryValue],\n      brightness: getNumberAndArbitrary(),\n      borderColor: [colors],\n      borderRadius: ['none', '', 'full', isTshirtSize, isArbitraryValue],\n      borderSpacing: getSpacingWithArbitrary(),\n      borderWidth: getLengthWithEmptyAndArbitrary(),\n      contrast: getNumberAndArbitrary(),\n      grayscale: getZeroAndEmpty(),\n      hueRotate: getNumberAndArbitrary(),\n      invert: getZeroAndEmpty(),\n      gap: getSpacingWithArbitrary(),\n      gradientColorStops: [colors],\n      gradientColorStopPositions: [isPercent, isArbitraryLength],\n      inset: getSpacingWithAutoAndArbitrary(),\n      margin: getSpacingWithAutoAndArbitrary(),\n      opacity: getNumberAndArbitrary(),\n      padding: getSpacingWithArbitrary(),\n      saturate: getNumberAndArbitrary(),\n      scale: getNumberAndArbitrary(),\n      sepia: getZeroAndEmpty(),\n      skew: getNumberAndArbitrary(),\n      space: getSpacingWithArbitrary(),\n      translate: getSpacingWithArbitrary()\n    },\n    classGroups: {\n      // Layout\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', 'video', isArbitraryValue]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isTshirtSize]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': getBreaks()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': getBreaks()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: [...getPositions(), isArbitraryValue]\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: getOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': getOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': getOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': getOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: [inset]\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': [inset]\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': [inset]\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: [inset]\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: [inset]\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: [inset]\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: [inset]\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: [inset]\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: [inset]\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: ['auto', isInteger, isArbitraryValue]\n      }],\n      // Flexbox and Grid\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: getSpacingWithAutoAndArbitrary()\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['wrap', 'wrap-reverse', 'nowrap']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: ['1', 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: getZeroAndEmpty()\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: getZeroAndEmpty()\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: ['first', 'last', 'none', isInteger, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': [isAny]\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: ['auto', {\n          span: ['full', isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': [isAny]\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: ['auto', {\n          span: [isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: [gap]\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': [gap]\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': [gap]\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: ['normal', ...getAlign()]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': ['start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...getAlign(), 'baseline']\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', 'start', 'end', 'center', 'stretch', 'baseline']\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': [...getAlign(), 'baseline']\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: [padding]\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: [padding]\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: [padding]\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: [padding]\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: [padding]\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: [padding]\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: [padding]\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: [padding]\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: [padding]\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: [margin]\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: [margin]\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: [margin]\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: [margin]\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: [margin]\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: [margin]\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: [margin]\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: [margin]\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: [margin]\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x': [{\n        'space-x': [space]\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y': [{\n        'space-y': [space]\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // Sizing\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: ['auto', 'min', 'max', 'fit', 'svw', 'lvw', 'dvw', isArbitraryValue, spacing]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [isArbitraryValue, spacing, 'min', 'max', 'fit']\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [isArbitraryValue, spacing, 'none', 'full', 'min', 'max', 'fit', 'prose', {\n          screen: [isTshirtSize]\n        }, isTshirtSize]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/size\n       */\n      size: [{\n        size: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit']\n      }],\n      // Typography\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', isTshirtSize, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black', isArbitraryNumber]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isAny]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractons'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest', isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': ['none', isNumber, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose', isLength, isArbitraryValue]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryValue]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['none', 'disc', 'decimal', isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: [colors]\n      }],\n      /**\n       * Placeholder Opacity\n       * @see https://tailwindcss.com/docs/placeholder-opacity\n       */\n      'placeholder-opacity': [{\n        'placeholder-opacity': [opacity]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: [colors]\n      }],\n      /**\n       * Text Opacity\n       * @see https://tailwindcss.com/docs/text-opacity\n       */\n      'text-opacity': [{\n        'text-opacity': [opacity]\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...getLineStyles(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: ['auto', 'from-font', isLength, isArbitraryLength]\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': ['auto', isLength, isArbitraryValue]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: [colors]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: getSpacingWithArbitrary()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryValue]\n      }],\n      // Backgrounds\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Opacity\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/background-opacity\n       */\n      'bg-opacity': [{\n        'bg-opacity': [opacity]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: [...getPositions(), isArbitraryPosition]\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: ['no-repeat', {\n          repeat: ['', 'x', 'y', 'round', 'space']\n        }]\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: ['auto', 'cover', 'contain', isArbitrarySize]\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          'gradient-to': ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n        }, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: [colors]\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: [gradientColorStops]\n      }],\n      // Borders\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: [borderRadius]\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': [borderRadius]\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': [borderRadius]\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': [borderRadius]\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': [borderRadius]\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': [borderRadius]\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': [borderRadius]\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': [borderRadius]\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': [borderRadius]\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': [borderRadius]\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: [borderWidth]\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': [borderWidth]\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': [borderWidth]\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': [borderWidth]\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': [borderWidth]\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': [borderWidth]\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': [borderWidth]\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': [borderWidth]\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': [borderWidth]\n      }],\n      /**\n       * Border Opacity\n       * @see https://tailwindcss.com/docs/border-opacity\n       */\n      'border-opacity': [{\n        'border-opacity': [opacity]\n      }],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...getLineStyles(), 'hidden']\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x': [{\n        'divide-x': [borderWidth]\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y': [{\n        'divide-y': [borderWidth]\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Divide Opacity\n       * @see https://tailwindcss.com/docs/divide-opacity\n       */\n      'divide-opacity': [{\n        'divide-opacity': [opacity]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/divide-style\n       */\n      'divide-style': [{\n        divide: getLineStyles()\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: [borderColor]\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': [borderColor]\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': [borderColor]\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': [borderColor]\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': [borderColor]\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': [borderColor]\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': [borderColor]\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': [borderColor]\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': [borderColor]\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: [borderColor]\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: ['', ...getLineStyles()]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isLength, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: [isLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: [colors]\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w': [{\n        ring: getLengthWithEmptyAndArbitrary()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/ring-color\n       */\n      'ring-color': [{\n        ring: [colors]\n      }],\n      /**\n       * Ring Opacity\n       * @see https://tailwindcss.com/docs/ring-opacity\n       */\n      'ring-opacity': [{\n        'ring-opacity': [opacity]\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://tailwindcss.com/docs/ring-offset-width\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isLength, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://tailwindcss.com/docs/ring-offset-color\n       */\n      'ring-offset-color': [{\n        'ring-offset': [colors]\n      }],\n      // Effects\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: ['', 'inner', 'none', isTshirtSize, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow-color\n       */\n      'shadow-color': [{\n        shadow: [isAny]\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [opacity]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...getBlendModes(), 'plus-lighter', 'plus-darker']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': getBlendModes()\n      }],\n      // Filters\n      /**\n       * Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: ['', 'none']\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: [blur]\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [brightness]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [contrast]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': ['', 'none', isTshirtSize, isArbitraryValue]\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [grayscale]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [hueRotate]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [invert]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [saturate]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [sepia]\n      }],\n      /**\n       * Backdrop Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': ['', 'none']\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': [blur]\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [brightness]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [contrast]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': [grayscale]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [hueRotate]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': [invert]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [opacity]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [saturate]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': [sepia]\n      }],\n      // Tables\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': [borderSpacing]\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': [borderSpacing]\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': [borderSpacing]\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // Transitions and Animation\n      /**\n       * Tranisition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['none', 'all', '', 'colors', 'opacity', 'shadow', 'transform', isArbitraryValue]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: getNumberAndArbitrary()\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'in', 'out', 'in-out', isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: getNumberAndArbitrary()\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', 'spin', 'ping', 'pulse', 'bounce', isArbitraryValue]\n      }],\n      // Transforms\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: ['', 'gpu', 'none']\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: [scale]\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': [scale]\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': [scale]\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: [isInteger, isArbitraryValue]\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': [translate]\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': [translate]\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': [skew]\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': [skew]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: ['center', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left', isArbitraryValue]\n      }],\n      // Interactivity\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: ['auto', colors]\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryValue]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: [colors]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['none', 'auto']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', 'y', 'x', '']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryValue]\n      }],\n      // SVG\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [colors, 'none']\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [colors, 'none']\n      }],\n      // Accessibility\n      /**\n       * Screen Readers\n       * @see https://tailwindcss.com/docs/screen-readers\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    }\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  separator,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'separator', separator);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  for (const configKey in override) {\n    overrideConfigProperties(baseConfig[configKey], override[configKey]);\n  }\n  for (const key in extend) {\n    mergeConfigProperties(baseConfig[key], extend[key]);\n  }\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      const mergeValue = mergeObject[key];\n      if (mergeValue !== undefined) {\n        baseObject[key] = (baseObject[key] || []).concat(mergeValue);\n      }\n    }\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","\"use client\";import*as t from\"react\";var P=[\"light\",\"dark\"],E=\"(prefers-color-scheme: dark)\",Q=typeof window==\"undefined\",L=t.createContext(void 0),D={setTheme:e=>{},themes:[]},j=()=>{var e;return(e=t.useContext(L))!=null?e:D},z=e=>t.useContext(L)?e.children:t.createElement(O,{...e}),N=[\"light\",\"dark\"],O=({forcedTheme:e,disableTransitionOnChange:a=!1,enableSystem:n=!0,enableColorScheme:g=!0,storageKey:m=\"theme\",themes:c=N,defaultTheme:o=n?\"system\":\"light\",attribute:y=\"data-theme\",value:h,children:k,nonce:w})=>{let[i,d]=t.useState(()=>M(m,o)),[S,l]=t.useState(()=>M(m)),u=h?Object.values(h):c,R=t.useCallback(s=>{let r=s;if(!r)return;s===\"system\"&&n&&(r=T());let v=h?h[r]:r,C=a?_():null,x=document.documentElement;if(y===\"class\"?(x.classList.remove(...u),v&&x.classList.add(v)):v?x.setAttribute(y,v):x.removeAttribute(y),g){let I=P.includes(o)?o:null,A=P.includes(r)?r:I;x.style.colorScheme=A}C==null||C()},[]),f=t.useCallback(s=>{let r=typeof s==\"function\"?s(s):s;d(r);try{localStorage.setItem(m,r)}catch(v){}},[e]),p=t.useCallback(s=>{let r=T(s);l(r),i===\"system\"&&n&&!e&&R(\"system\")},[i,e]);t.useEffect(()=>{let s=window.matchMedia(E);return s.addListener(p),p(s),()=>s.removeListener(p)},[p]),t.useEffect(()=>{let s=r=>{if(r.key!==m)return;let v=r.newValue||o;f(v)};return window.addEventListener(\"storage\",s),()=>window.removeEventListener(\"storage\",s)},[f]),t.useEffect(()=>{R(e!=null?e:i)},[e,i]);let $=t.useMemo(()=>({theme:i,setTheme:f,forcedTheme:e,resolvedTheme:i===\"system\"?S:i,themes:n?[...c,\"system\"]:c,systemTheme:n?S:void 0}),[i,f,e,S,n,c]);return t.createElement(L.Provider,{value:$},t.createElement(U,{forcedTheme:e,disableTransitionOnChange:a,enableSystem:n,enableColorScheme:g,storageKey:m,themes:c,defaultTheme:o,attribute:y,value:h,children:k,attrs:u,nonce:w}),k)},U=t.memo(({forcedTheme:e,storageKey:a,attribute:n,enableSystem:g,enableColorScheme:m,defaultTheme:c,value:o,attrs:y,nonce:h})=>{let k=c===\"system\",w=n===\"class\"?`var d=document.documentElement,c=d.classList;${`c.remove(${y.map(u=>`'${u}'`).join(\",\")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,i=m?(P.includes(c)?c:null)?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:\"if(e==='light'||e==='dark')d.style.colorScheme=e\":\"\",d=(l,u=!1,R=!0)=>{let f=o?o[l]:l,p=u?l+\"|| ''\":`'${f}'`,$=\"\";return m&&R&&!u&&P.includes(l)&&($+=`d.style.colorScheme = '${l}';`),n===\"class\"?u||f?$+=`c.add(${p})`:$+=\"null\":f&&($+=`d[s](n,${p})`),$},S=e?`!function(){${w}${d(e)}}()`:g?`!function(){try{${w}var e=localStorage.getItem('${a}');if('system'===e||(!e&&${k})){var t='${E}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d(\"dark\")}}else{${d(\"light\")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:\"\"}${d(o?\"x[e]\":\"e\",!0)}}${k?\"\":\"else{\"+d(c,!1,!1)+\"}\"}${i}}catch(e){}}()`:`!function(){try{${w}var e=localStorage.getItem('${a}');if(e){${o?`var x=${JSON.stringify(o)};`:\"\"}${d(o?\"x[e]\":\"e\",!0)}}else{${d(c,!1,!1)};}${i}}catch(t){}}();`;return t.createElement(\"script\",{nonce:h,dangerouslySetInnerHTML:{__html:S}})}),M=(e,a)=>{if(Q)return;let n;try{n=localStorage.getItem(e)||void 0}catch(g){}return n||a},_=()=>{let e=document.createElement(\"style\");return e.appendChild(document.createTextNode(\"*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}\")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},T=e=>(e||(e=window.matchMedia(E)),e.matches?\"dark\":\"light\");export{z as ThemeProvider,j as useTheme};\n","\"use client\";import e from\"react\";import Gt from\"react-dom\";import E from\"react\";var Ct=s=>{switch(s){case\"success\":return $t;case\"info\":return _t;case\"warning\":return Wt;case\"error\":return Ut;default:return null}},Ft=Array(12).fill(0),It=({visible:s})=>E.createElement(\"div\",{className:\"sonner-loading-wrapper\",\"data-visible\":s},E.createElement(\"div\",{className:\"sonner-spinner\"},Ft.map((o,t)=>E.createElement(\"div\",{className:\"sonner-loading-bar\",key:`spinner-bar-${t}`})))),$t=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",height:\"20\",width:\"20\"},E.createElement(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z\",clipRule:\"evenodd\"})),Wt=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"currentColor\",height:\"20\",width:\"20\"},E.createElement(\"path\",{fillRule:\"evenodd\",d:\"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z\",clipRule:\"evenodd\"})),_t=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",height:\"20\",width:\"20\"},E.createElement(\"path\",{fillRule:\"evenodd\",d:\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\",clipRule:\"evenodd\"})),Ut=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",height:\"20\",width:\"20\"},E.createElement(\"path\",{fillRule:\"evenodd\",d:\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z\",clipRule:\"evenodd\"}));import kt from\"react\";var Dt=()=>{let[s,o]=kt.useState(document.hidden);return kt.useEffect(()=>{let t=()=>{o(document.hidden)};return document.addEventListener(\"visibilitychange\",t),()=>window.removeEventListener(\"visibilitychange\",t)},[]),s};var ct=1,ut=class{constructor(){this.subscribe=o=>(this.subscribers.push(o),()=>{let t=this.subscribers.indexOf(o);this.subscribers.splice(t,1)});this.publish=o=>{this.subscribers.forEach(t=>t(o))};this.addToast=o=>{this.publish(o),this.toasts=[...this.toasts,o]};this.create=o=>{var b;let{message:t,...n}=o,h=typeof(o==null?void 0:o.id)==\"number\"||((b=o.id)==null?void 0:b.length)>0?o.id:ct++,u=this.toasts.find(d=>d.id===h),g=o.dismissible===void 0?!0:o.dismissible;return u?this.toasts=this.toasts.map(d=>d.id===h?(this.publish({...d,...o,id:h,title:t}),{...d,...o,id:h,dismissible:g,title:t}):d):this.addToast({title:t,...n,dismissible:g,id:h}),h};this.dismiss=o=>(o||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:o,dismiss:!0})),o);this.message=(o,t)=>this.create({...t,message:o});this.error=(o,t)=>this.create({...t,message:o,type:\"error\"});this.success=(o,t)=>this.create({...t,type:\"success\",message:o});this.info=(o,t)=>this.create({...t,type:\"info\",message:o});this.warning=(o,t)=>this.create({...t,type:\"warning\",message:o});this.loading=(o,t)=>this.create({...t,type:\"loading\",message:o});this.promise=(o,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:o,type:\"loading\",message:t.loading,description:typeof t.description!=\"function\"?t.description:void 0}));let h=o instanceof Promise?o:o(),u=n!==void 0;return h.then(async g=>{if(Ot(g)&&!g.ok){u=!1;let b=typeof t.error==\"function\"?await t.error(`HTTP error! status: ${g.status}`):t.error,d=typeof t.description==\"function\"?await t.description(`HTTP error! status: ${g.status}`):t.description;this.create({id:n,type:\"error\",message:b,description:d})}else if(t.success!==void 0){u=!1;let b=typeof t.success==\"function\"?await t.success(g):t.success,d=typeof t.description==\"function\"?await t.description(g):t.description;this.create({id:n,type:\"success\",message:b,description:d})}}).catch(async g=>{if(t.error!==void 0){u=!1;let b=typeof t.error==\"function\"?await t.error(g):t.error,d=typeof t.description==\"function\"?await t.description(g):t.description;this.create({id:n,type:\"error\",message:b,description:d})}}).finally(()=>{var g;u&&(this.dismiss(n),n=void 0),(g=t.finally)==null||g.call(t)}),n};this.custom=(o,t)=>{let n=(t==null?void 0:t.id)||ct++;return this.create({jsx:o(n),id:n,...t}),n};this.subscribers=[],this.toasts=[]}},v=new ut,Vt=(s,o)=>{let t=(o==null?void 0:o.id)||ct++;return v.addToast({title:s,...o,id:t}),t},Ot=s=>s&&typeof s==\"object\"&&\"ok\"in s&&typeof s.ok==\"boolean\"&&\"status\"in s&&typeof s.status==\"number\",Kt=Vt,Xt=()=>v.toasts,Jt=Object.assign(Kt,{success:v.success,info:v.info,warning:v.warning,error:v.error,custom:v.custom,message:v.message,promise:v.promise,dismiss:v.dismiss,loading:v.loading},{getHistory:Xt});function ft(s,{insertAt:o}={}){if(!s||typeof document==\"undefined\")return;let t=document.head||document.getElementsByTagName(\"head\")[0],n=document.createElement(\"style\");n.type=\"text/css\",o===\"top\"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s))}ft(`:where(html[dir=\"ltr\"]),:where([data-sonner-toaster][dir=\"ltr\"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir=\"rtl\"]),:where([data-sonner-toaster][dir=\"rtl\"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position=\"right\"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position=\"left\"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position=\"center\"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position=\"top\"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position=\"bottom\"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled=\"true\"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position=\"top\"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position=\"bottom\"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise=\"true\"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme=\"dark\"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled=\"true\"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping=\"true\"]):before{content:\"\";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position=\"top\"][data-swiping=\"true\"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position=\"bottom\"][data-swiping=\"true\"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping=\"false\"][data-removed=\"true\"]):before{content:\"\";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:\"\";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted=\"true\"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded=\"false\"][data-front=\"false\"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded=\"false\"][data-front=\"false\"][data-styled=\"true\"])>*{opacity:0}:where([data-sonner-toast][data-visible=\"false\"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted=\"true\"][data-expanded=\"true\"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed=\"true\"][data-front=\"true\"][data-swipe-out=\"false\"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed=\"true\"][data-front=\"false\"][data-swipe-out=\"false\"][data-expanded=\"true\"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed=\"true\"][data-front=\"false\"][data-swipe-out=\"false\"][data-expanded=\"false\"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed=\"true\"][data-front=\"false\"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n`);function U(s){return s.label!==void 0}var qt=3,Qt=\"32px\",Zt=4e3,te=356,ee=14,oe=20,ae=200;function ne(...s){return s.filter(Boolean).join(\" \")}var se=s=>{var yt,xt,vt,wt,Tt,St,Rt,Et,Nt,Pt;let{invert:o,toast:t,unstyled:n,interacting:h,setHeights:u,visibleToasts:g,heights:b,index:d,toasts:q,expanded:$,removeToast:V,defaultRichColors:Q,closeButton:i,style:O,cancelButtonStyle:K,actionButtonStyle:Z,className:tt=\"\",descriptionClassName:et=\"\",duration:X,position:ot,gap:w,loadingIcon:j,expandByDefault:W,classNames:r,icons:I,closeButtonAriaLabel:at=\"Close toast\",pauseWhenPageIsHidden:k,cn:T}=s,[z,nt]=e.useState(!1),[D,H]=e.useState(!1),[st,N]=e.useState(!1),[M,rt]=e.useState(!1),[c,m]=e.useState(0),[y,S]=e.useState(0),A=e.useRef(null),l=e.useRef(null),_=d===0,J=d+1<=g,x=t.type,P=t.dismissible!==!1,Mt=t.className||\"\",At=t.descriptionClassName||\"\",G=e.useMemo(()=>b.findIndex(a=>a.toastId===t.id)||0,[b,t.id]),Lt=e.useMemo(()=>{var a;return(a=t.closeButton)!=null?a:i},[t.closeButton,i]),mt=e.useMemo(()=>t.duration||X||Zt,[t.duration,X]),it=e.useRef(0),Y=e.useRef(0),pt=e.useRef(0),F=e.useRef(null),[gt,zt]=ot.split(\"-\"),ht=e.useMemo(()=>b.reduce((a,f,p)=>p>=G?a:a+f.height,0),[b,G]),bt=Dt(),jt=t.invert||o,lt=x===\"loading\";Y.current=e.useMemo(()=>G*w+ht,[G,ht]),e.useEffect(()=>{nt(!0)},[]),e.useLayoutEffect(()=>{if(!z)return;let a=l.current,f=a.style.height;a.style.height=\"auto\";let p=a.getBoundingClientRect().height;a.style.height=f,S(p),u(B=>B.find(R=>R.toastId===t.id)?B.map(R=>R.toastId===t.id?{...R,height:p}:R):[{toastId:t.id,height:p,position:t.position},...B])},[z,t.title,t.description,u,t.id]);let L=e.useCallback(()=>{H(!0),m(Y.current),u(a=>a.filter(f=>f.toastId!==t.id)),setTimeout(()=>{V(t)},ae)},[t,V,u,Y]);e.useEffect(()=>{if(t.promise&&x===\"loading\"||t.duration===1/0||t.type===\"loading\")return;let a,f=mt;return $||h||k&&bt?(()=>{if(pt.current<it.current){let C=new Date().getTime()-it.current;f=f-C}pt.current=new Date().getTime()})():(()=>{f!==1/0&&(it.current=new Date().getTime(),a=setTimeout(()=>{var C;(C=t.onAutoClose)==null||C.call(t,t),L()},f))})(),()=>clearTimeout(a)},[$,h,W,t,mt,L,t.promise,x,k,bt]),e.useEffect(()=>{let a=l.current;if(a){let f=a.getBoundingClientRect().height;return S(f),u(p=>[{toastId:t.id,height:f,position:t.position},...p]),()=>u(p=>p.filter(B=>B.toastId!==t.id))}},[u,t.id]),e.useEffect(()=>{t.delete&&L()},[L,t.delete]);function Yt(){return I!=null&&I.loading?e.createElement(\"div\",{className:\"sonner-loader\",\"data-visible\":x===\"loading\"},I.loading):j?e.createElement(\"div\",{className:\"sonner-loader\",\"data-visible\":x===\"loading\"},j):e.createElement(It,{visible:x===\"loading\"})}return e.createElement(\"li\",{\"aria-live\":t.important?\"assertive\":\"polite\",\"aria-atomic\":\"true\",role:\"status\",tabIndex:0,ref:l,className:T(tt,Mt,r==null?void 0:r.toast,(yt=t==null?void 0:t.classNames)==null?void 0:yt.toast,r==null?void 0:r.default,r==null?void 0:r[x],(xt=t==null?void 0:t.classNames)==null?void 0:xt[x]),\"data-sonner-toast\":\"\",\"data-rich-colors\":(vt=t.richColors)!=null?vt:Q,\"data-styled\":!(t.jsx||t.unstyled||n),\"data-mounted\":z,\"data-promise\":!!t.promise,\"data-removed\":D,\"data-visible\":J,\"data-y-position\":gt,\"data-x-position\":zt,\"data-index\":d,\"data-front\":_,\"data-swiping\":st,\"data-dismissible\":P,\"data-type\":x,\"data-invert\":jt,\"data-swipe-out\":M,\"data-expanded\":!!($||W&&z),style:{\"--index\":d,\"--toasts-before\":d,\"--z-index\":q.length-d,\"--offset\":`${D?c:Y.current}px`,\"--initial-height\":W?\"auto\":`${y}px`,...O,...t.style},onPointerDown:a=>{lt||!P||(A.current=new Date,m(Y.current),a.target.setPointerCapture(a.pointerId),a.target.tagName!==\"BUTTON\"&&(N(!0),F.current={x:a.clientX,y:a.clientY}))},onPointerUp:()=>{var B,C,R,dt;if(M||!P)return;F.current=null;let a=Number(((B=l.current)==null?void 0:B.style.getPropertyValue(\"--swipe-amount\").replace(\"px\",\"\"))||0),f=new Date().getTime()-((C=A.current)==null?void 0:C.getTime()),p=Math.abs(a)/f;if(Math.abs(a)>=oe||p>.11){m(Y.current),(R=t.onDismiss)==null||R.call(t,t),L(),rt(!0);return}(dt=l.current)==null||dt.style.setProperty(\"--swipe-amount\",\"0px\"),N(!1)},onPointerMove:a=>{var Bt;if(!F.current||!P)return;let f=a.clientY-F.current.y,p=a.clientX-F.current.x,C=(gt===\"top\"?Math.min:Math.max)(0,f),R=a.pointerType===\"touch\"?10:2;Math.abs(C)>R?(Bt=l.current)==null||Bt.style.setProperty(\"--swipe-amount\",`${f}px`):Math.abs(p)>R&&(F.current=null)}},Lt&&!t.jsx?e.createElement(\"button\",{\"aria-label\":at,\"data-disabled\":lt,\"data-close-button\":!0,onClick:lt||!P?()=>{}:()=>{var a;L(),(a=t.onDismiss)==null||a.call(t,t)},className:T(r==null?void 0:r.closeButton,(wt=t==null?void 0:t.classNames)==null?void 0:wt.closeButton)},e.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"12\",height:\"12\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},e.createElement(\"line\",{x1:\"18\",y1:\"6\",x2:\"6\",y2:\"18\"}),e.createElement(\"line\",{x1:\"6\",y1:\"6\",x2:\"18\",y2:\"18\"}))):null,t.jsx||e.isValidElement(t.title)?t.jsx||t.title:e.createElement(e.Fragment,null,x||t.icon||t.promise?e.createElement(\"div\",{\"data-icon\":\"\",className:T(r==null?void 0:r.icon,(Tt=t==null?void 0:t.classNames)==null?void 0:Tt.icon)},t.promise||t.type===\"loading\"&&!t.icon?t.icon||Yt():null,t.type!==\"loading\"?t.icon||(I==null?void 0:I[x])||Ct(x):null):null,e.createElement(\"div\",{\"data-content\":\"\",className:T(r==null?void 0:r.content,(St=t==null?void 0:t.classNames)==null?void 0:St.content)},e.createElement(\"div\",{\"data-title\":\"\",className:T(r==null?void 0:r.title,(Rt=t==null?void 0:t.classNames)==null?void 0:Rt.title)},t.title),t.description?e.createElement(\"div\",{\"data-description\":\"\",className:T(et,At,r==null?void 0:r.description,(Et=t==null?void 0:t.classNames)==null?void 0:Et.description)},t.description):null),e.isValidElement(t.cancel)?t.cancel:t.cancel&&U(t.cancel)?e.createElement(\"button\",{\"data-button\":!0,\"data-cancel\":!0,style:t.cancelButtonStyle||K,onClick:a=>{var f,p;U(t.cancel)&&P&&((p=(f=t.cancel).onClick)==null||p.call(f,a),L())},className:T(r==null?void 0:r.cancelButton,(Nt=t==null?void 0:t.classNames)==null?void 0:Nt.cancelButton)},t.cancel.label):null,e.isValidElement(t.action)?t.action:t.action&&U(t.action)?e.createElement(\"button\",{\"data-button\":!0,\"data-action\":!0,style:t.actionButtonStyle||Z,onClick:a=>{var f,p;U(t.action)&&(a.defaultPrevented||((p=(f=t.action).onClick)==null||p.call(f,a),L()))},className:T(r==null?void 0:r.actionButton,(Pt=t==null?void 0:t.classNames)==null?void 0:Pt.actionButton)},t.action.label):null))};function Ht(){if(typeof window==\"undefined\"||typeof document==\"undefined\")return\"ltr\";let s=document.documentElement.getAttribute(\"dir\");return s===\"auto\"||!s?window.getComputedStyle(document.documentElement).direction:s}function we(){let[s,o]=e.useState([]);return e.useEffect(()=>v.subscribe(t=>{o(n=>{if(\"dismiss\"in t&&t.dismiss)return n.filter(u=>u.id!==t.id);let h=n.findIndex(u=>u.id===t.id);if(h!==-1){let u=[...n];return u[h]={...u[h],...t},u}else return[t,...n]})}),[]),{toasts:s}}var Te=s=>{let{invert:o,position:t=\"bottom-right\",hotkey:n=[\"altKey\",\"KeyT\"],expand:h,closeButton:u,className:g,offset:b,theme:d=\"light\",richColors:q,duration:$,style:V,visibleToasts:Q=qt,toastOptions:i,dir:O=Ht(),gap:K=ee,loadingIcon:Z,icons:tt,containerAriaLabel:et=\"Notifications\",pauseWhenPageIsHidden:X,cn:ot=ne}=s,[w,j]=e.useState([]),W=e.useMemo(()=>Array.from(new Set([t].concat(w.filter(c=>c.position).map(c=>c.position)))),[w,t]),[r,I]=e.useState([]),[at,k]=e.useState(!1),[T,z]=e.useState(!1),[nt,D]=e.useState(d!==\"system\"?d:typeof window!=\"undefined\"&&window.matchMedia&&window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"dark\":\"light\"),H=e.useRef(null),st=n.join(\"+\").replace(/Key/g,\"\").replace(/Digit/g,\"\"),N=e.useRef(null),M=e.useRef(!1),rt=e.useCallback(c=>{var m;(m=w.find(y=>y.id===c.id))!=null&&m.delete||v.dismiss(c.id),j(y=>y.filter(({id:S})=>S!==c.id))},[w]);return e.useEffect(()=>v.subscribe(c=>{if(c.dismiss){j(m=>m.map(y=>y.id===c.id?{...y,delete:!0}:y));return}setTimeout(()=>{Gt.flushSync(()=>{j(m=>{let y=m.findIndex(S=>S.id===c.id);return y!==-1?[...m.slice(0,y),{...m[y],...c},...m.slice(y+1)]:[c,...m]})})})}),[]),e.useEffect(()=>{if(d!==\"system\"){D(d);return}d===\"system\"&&(window.matchMedia&&window.matchMedia(\"(prefers-color-scheme: dark)\").matches?D(\"dark\"):D(\"light\")),typeof window!=\"undefined\"&&window.matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\",({matches:c})=>{D(c?\"dark\":\"light\")})},[d]),e.useEffect(()=>{w.length<=1&&k(!1)},[w]),e.useEffect(()=>{let c=m=>{var S,A;n.every(l=>m[l]||m.code===l)&&(k(!0),(S=H.current)==null||S.focus()),m.code===\"Escape\"&&(document.activeElement===H.current||(A=H.current)!=null&&A.contains(document.activeElement))&&k(!1)};return document.addEventListener(\"keydown\",c),()=>document.removeEventListener(\"keydown\",c)},[n]),e.useEffect(()=>{if(H.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,M.current=!1)}},[H.current]),w.length?e.createElement(\"section\",{\"aria-label\":`${et} ${st}`,tabIndex:-1},W.map((c,m)=>{var A;let[y,S]=c.split(\"-\");return e.createElement(\"ol\",{key:c,dir:O===\"auto\"?Ht():O,tabIndex:-1,ref:H,className:g,\"data-sonner-toaster\":!0,\"data-theme\":nt,\"data-y-position\":y,\"data-x-position\":S,style:{\"--front-toast-height\":`${((A=r[0])==null?void 0:A.height)||0}px`,\"--offset\":typeof b==\"number\"?`${b}px`:b||Qt,\"--width\":`${te}px`,\"--gap\":`${K}px`,...V},onBlur:l=>{M.current&&!l.currentTarget.contains(l.relatedTarget)&&(M.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:l=>{l.target instanceof HTMLElement&&l.target.dataset.dismissible===\"false\"||M.current||(M.current=!0,N.current=l.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{T||k(!1)},onPointerDown:l=>{l.target instanceof HTMLElement&&l.target.dataset.dismissible===\"false\"||z(!0)},onPointerUp:()=>z(!1)},w.filter(l=>!l.position&&m===0||l.position===c).map((l,_)=>{var J,x;return e.createElement(se,{key:l.id,icons:tt,index:_,toast:l,defaultRichColors:q,duration:(J=i==null?void 0:i.duration)!=null?J:$,className:i==null?void 0:i.className,descriptionClassName:i==null?void 0:i.descriptionClassName,invert:o,visibleToasts:Q,closeButton:(x=i==null?void 0:i.closeButton)!=null?x:u,interacting:T,position:c,style:i==null?void 0:i.style,unstyled:i==null?void 0:i.unstyled,classNames:i==null?void 0:i.classNames,cancelButtonStyle:i==null?void 0:i.cancelButtonStyle,actionButtonStyle:i==null?void 0:i.actionButtonStyle,removeToast:rt,toasts:w.filter(P=>P.position==l.position),heights:r.filter(P=>P.position==l.position),setHeights:I,expandByDefault:h,gap:K,loadingIcon:Z,expanded:at,pauseWhenPageIsHidden:X,cn:ot})}))})):null};export{Te as Toaster,Jt as toast,we as useSonner};\n//# sourceMappingURL=index.mjs.map","import { useTheme } from \"next-themes\"\nimport { Toaster as Sonner, toast } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster, toast }\n","// src/primitive.tsx\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\nfunction getOwnerWindow(element) {\n  if (!canUseDOM) {\n    throw new Error(\"Cannot access window outside of the DOM\");\n  }\n  return element?.ownerDocument?.defaultView ?? window;\n}\nfunction getOwnerDocument(element) {\n  if (!canUseDOM) {\n    throw new Error(\"Cannot access document outside of the DOM\");\n  }\n  return element?.ownerDocument ?? document;\n}\nfunction getActiveElement(node, activeDescendant = false) {\n  const { activeElement } = getOwnerDocument(node);\n  if (!activeElement?.nodeName) {\n    return null;\n  }\n  if (isFrame(activeElement) && activeElement.contentDocument) {\n    return getActiveElement(activeElement.contentDocument.body, activeDescendant);\n  }\n  if (activeDescendant) {\n    const id = activeElement.getAttribute(\"aria-activedescendant\");\n    if (id) {\n      const element = getOwnerDocument(activeElement).getElementById(id);\n      if (element) {\n        return element;\n      }\n    }\n  }\n  return activeElement;\n}\nfunction isFrame(element) {\n  return element.tagName === \"IFRAME\";\n}\nexport {\n  canUseDOM,\n  composeEventHandlers,\n  getActiveElement,\n  getOwnerDocument,\n  getOwnerWindow,\n  isFrame\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/compose-refs/src/compose-refs.tsx\nimport * as React from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    return ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == \"function\") {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == \"function\") {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\nfunction useComposedRefs(...refs) {\n  return React.useCallback(composeRefs(...refs), refs);\n}\nexport {\n  composeRefs,\n  useComposedRefs\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/context/src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-callback-ref/src/use-callback-ref.tsx\nimport * as React from \"react\";\nfunction useCallbackRef(callback) {\n  const callbackRef = React.useRef(callback);\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n  return React.useMemo(() => (...args) => callbackRef.current?.(...args), []);\n}\nexport {\n  useCallbackRef\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-escape-keydown/src/use-escape-keydown.tsx\nimport * as React from \"react\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nfunction useEscapeKeydown(onEscapeKeyDownProp, ownerDocument = globalThis?.document) {\n  const onEscapeKeyDown = useCallbackRef(onEscapeKeyDownProp);\n  React.useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === \"Escape\") {\n        onEscapeKeyDown(event);\n      }\n    };\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => ownerDocument.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n  }, [onEscapeKeyDown, ownerDocument]);\n}\nexport {\n  useEscapeKeydown\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/dismissable-layer.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useEscapeKeydown } from \"@radix-ui/react-use-escape-keydown\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DISMISSABLE_LAYER_NAME = \"DismissableLayer\";\nvar CONTEXT_UPDATE = \"dismissableLayer.update\";\nvar POINTER_DOWN_OUTSIDE = \"dismissableLayer.pointerDownOutside\";\nvar FOCUS_OUTSIDE = \"dismissableLayer.focusOutside\";\nvar originalBodyPointerEvents;\nvar DismissableLayerContext = React.createContext({\n  layers: /* @__PURE__ */ new Set(),\n  layersWithOutsidePointerEventsDisabled: /* @__PURE__ */ new Set(),\n  branches: /* @__PURE__ */ new Set()\n});\nvar DismissableLayer = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      disableOutsidePointerEvents = false,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      ...layerProps\n    } = props;\n    const context = React.useContext(DismissableLayerContext);\n    const [node, setNode] = React.useState(null);\n    const ownerDocument = node?.ownerDocument ?? globalThis?.document;\n    const [, force] = React.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, (node2) => setNode(node2));\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [...context.layersWithOutsidePointerEventsDisabled].slice(-1);\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled);\n    const index = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n    const pointerDownOutside = usePointerDownOutside((event) => {\n      const target = event.target;\n      const isPointerDownOnBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n      onPointerDownOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n    const focusOutside = useFocusOutside((event) => {\n      const target = event.target;\n      const isFocusInBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (isFocusInBranch) return;\n      onFocusOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n    useEscapeKeydown((event) => {\n      const isHighestLayer = index === context.layers.size - 1;\n      if (!isHighestLayer) return;\n      onEscapeKeyDown?.(event);\n      if (!event.defaultPrevented && onDismiss) {\n        event.preventDefault();\n        onDismiss();\n      }\n    }, ownerDocument);\n    React.useEffect(() => {\n      if (!node) return;\n      if (disableOutsidePointerEvents) {\n        if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n          originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n          ownerDocument.body.style.pointerEvents = \"none\";\n        }\n        context.layersWithOutsidePointerEventsDisabled.add(node);\n      }\n      context.layers.add(node);\n      dispatchUpdate();\n      return () => {\n        if (disableOutsidePointerEvents && context.layersWithOutsidePointerEventsDisabled.size === 1) {\n          ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n        }\n      };\n    }, [node, ownerDocument, disableOutsidePointerEvents, context]);\n    React.useEffect(() => {\n      return () => {\n        if (!node) return;\n        context.layers.delete(node);\n        context.layersWithOutsidePointerEventsDisabled.delete(node);\n        dispatchUpdate();\n      };\n    }, [node, context]);\n    React.useEffect(() => {\n      const handleUpdate = () => force({});\n      document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n      return () => document.removeEventListener(CONTEXT_UPDATE, handleUpdate);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        ...layerProps,\n        ref: composedRefs,\n        style: {\n          pointerEvents: isBodyPointerEventsDisabled ? isPointerEventsEnabled ? \"auto\" : \"none\" : void 0,\n          ...props.style\n        },\n        onFocusCapture: composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture),\n        onBlurCapture: composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture),\n        onPointerDownCapture: composeEventHandlers(\n          props.onPointerDownCapture,\n          pointerDownOutside.onPointerDownCapture\n        )\n      }\n    );\n  }\n);\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\nvar BRANCH_NAME = \"DismissableLayerBranch\";\nvar DismissableLayerBranch = React.forwardRef((props, forwardedRef) => {\n  const context = React.useContext(DismissableLayerContext);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      context.branches.add(node);\n      return () => {\n        context.branches.delete(node);\n      };\n    }\n  }, [context.branches]);\n  return /* @__PURE__ */ jsx(Primitive.div, { ...props, ref: composedRefs });\n});\nDismissableLayerBranch.displayName = BRANCH_NAME;\nfunction usePointerDownOutside(onPointerDownOutside, ownerDocument = globalThis?.document) {\n  const handlePointerDownOutside = useCallbackRef(onPointerDownOutside);\n  const isPointerInsideReactTreeRef = React.useRef(false);\n  const handleClickRef = React.useRef(() => {\n  });\n  React.useEffect(() => {\n    const handlePointerDown = (event) => {\n      if (event.target && !isPointerInsideReactTreeRef.current) {\n        let handleAndDispatchPointerDownOutsideEvent2 = function() {\n          handleAndDispatchCustomEvent(\n            POINTER_DOWN_OUTSIDE,\n            handlePointerDownOutside,\n            eventDetail,\n            { discrete: true }\n          );\n        };\n        var handleAndDispatchPointerDownOutsideEvent = handleAndDispatchPointerDownOutsideEvent2;\n        const eventDetail = { originalEvent: event };\n        if (event.pointerType === \"touch\") {\n          ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n          handleClickRef.current = handleAndDispatchPointerDownOutsideEvent2;\n          ownerDocument.addEventListener(\"click\", handleClickRef.current, { once: true });\n        } else {\n          handleAndDispatchPointerDownOutsideEvent2();\n        }\n      } else {\n        ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n      }\n      isPointerInsideReactTreeRef.current = false;\n    };\n    const timerId = window.setTimeout(() => {\n      ownerDocument.addEventListener(\"pointerdown\", handlePointerDown);\n    }, 0);\n    return () => {\n      window.clearTimeout(timerId);\n      ownerDocument.removeEventListener(\"pointerdown\", handlePointerDown);\n      ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n    };\n  }, [ownerDocument, handlePointerDownOutside]);\n  return {\n    // ensures we check React component tree (not just DOM tree)\n    onPointerDownCapture: () => isPointerInsideReactTreeRef.current = true\n  };\n}\nfunction useFocusOutside(onFocusOutside, ownerDocument = globalThis?.document) {\n  const handleFocusOutside = useCallbackRef(onFocusOutside);\n  const isFocusInsideReactTreeRef = React.useRef(false);\n  React.useEffect(() => {\n    const handleFocus = (event) => {\n      if (event.target && !isFocusInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        handleAndDispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n          discrete: false\n        });\n      }\n    };\n    ownerDocument.addEventListener(\"focusin\", handleFocus);\n    return () => ownerDocument.removeEventListener(\"focusin\", handleFocus);\n  }, [ownerDocument, handleFocusOutside]);\n  return {\n    onFocusCapture: () => isFocusInsideReactTreeRef.current = true,\n    onBlurCapture: () => isFocusInsideReactTreeRef.current = false\n  };\n}\nfunction dispatchUpdate() {\n  const event = new CustomEvent(CONTEXT_UPDATE);\n  document.dispatchEvent(event);\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail, { discrete }) {\n  const target = detail.originalEvent.target;\n  const event = new CustomEvent(name, { bubbles: false, cancelable: true, detail });\n  if (handler) target.addEventListener(name, handler, { once: true });\n  if (discrete) {\n    dispatchDiscreteCustomEvent(target, event);\n  } else {\n    target.dispatchEvent(event);\n  }\n}\nvar Root = DismissableLayer;\nvar Branch = DismissableLayerBranch;\nexport {\n  Branch,\n  DismissableLayer,\n  DismissableLayerBranch,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-layout-effect/src/use-layout-effect.tsx\nimport * as React from \"react\";\nvar useLayoutEffect2 = globalThis?.document ? React.useLayoutEffect : () => {\n};\nexport {\n  useLayoutEffect2 as useLayoutEffect\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/id/src/id.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nvar useReactId = React[\" useId \".trim().toString()] || (() => void 0);\nvar count = 0;\nfunction useId(deterministicId) {\n  const [id, setId] = React.useState(useReactId());\n  useLayoutEffect(() => {\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId]);\n  return deterministicId || (id ? `radix-${id}` : \"\");\n}\nexport {\n  useId\n};\n//# sourceMappingURL=index.mjs.map\n","// src/arrow.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Arrow\";\nvar Arrow = React.forwardRef((props, forwardedRef) => {\n  const { children, width = 10, height = 5, ...arrowProps } = props;\n  return /* @__PURE__ */ jsx(\n    Primitive.svg,\n    {\n      ...arrowProps,\n      ref: forwardedRef,\n      width,\n      height,\n      viewBox: \"0 0 30 10\",\n      preserveAspectRatio: \"none\",\n      children: props.asChild ? children : /* @__PURE__ */ jsx(\"polygon\", { points: \"0,0 30,0 15,10\" })\n    }\n  );\n});\nArrow.displayName = NAME;\nvar Root = Arrow;\nexport {\n  Arrow,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-size/src/use-size.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nfunction useSize(element) {\n  const [size, setSize] = React.useState(void 0);\n  useLayoutEffect(() => {\n    if (element) {\n      setSize({ width: element.offsetWidth, height: element.offsetHeight });\n      const resizeObserver = new ResizeObserver((entries) => {\n        if (!Array.isArray(entries)) {\n          return;\n        }\n        if (!entries.length) {\n          return;\n        }\n        const entry = entries[0];\n        let width;\n        let height;\n        if (\"borderBoxSize\" in entry) {\n          const borderSizeEntry = entry[\"borderBoxSize\"];\n          const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n          width = borderSize[\"inlineSize\"];\n          height = borderSize[\"blockSize\"];\n        } else {\n          width = element.offsetWidth;\n          height = element.offsetHeight;\n        }\n        setSize({ width, height });\n      });\n      resizeObserver.observe(element, { box: \"border-box\" });\n      return () => resizeObserver.unobserve(element);\n    } else {\n      setSize(void 0);\n    }\n  }, [element]);\n  return size;\n}\nexport {\n  useSize\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/popper.tsx\nimport * as React from \"react\";\nimport {\n  useFloating,\n  autoUpdate,\n  offset,\n  shift,\n  limitShift,\n  hide,\n  arrow as floatingUIarrow,\n  flip,\n  size\n} from \"@floating-ui/react-dom\";\nimport * as ArrowPrimitive from \"@radix-ui/react-arrow\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SIDE_OPTIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nvar ALIGN_OPTIONS = [\"start\", \"center\", \"end\"];\nvar POPPER_NAME = \"Popper\";\nvar [createPopperContext, createPopperScope] = createContextScope(POPPER_NAME);\nvar [PopperProvider, usePopperContext] = createPopperContext(POPPER_NAME);\nvar Popper = (props) => {\n  const { __scopePopper, children } = props;\n  const [anchor, setAnchor] = React.useState(null);\n  return /* @__PURE__ */ jsx(PopperProvider, { scope: __scopePopper, anchor, onAnchorChange: setAnchor, children });\n};\nPopper.displayName = POPPER_NAME;\nvar ANCHOR_NAME = \"PopperAnchor\";\nvar PopperAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopper, virtualRef, ...anchorProps } = props;\n    const context = usePopperContext(ANCHOR_NAME, __scopePopper);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const anchorRef = React.useRef(null);\n    React.useEffect(() => {\n      const previousAnchor = anchorRef.current;\n      anchorRef.current = virtualRef?.current || ref.current;\n      if (previousAnchor !== anchorRef.current) {\n        context.onAnchorChange(anchorRef.current);\n      }\n    });\n    return virtualRef ? null : /* @__PURE__ */ jsx(Primitive.div, { ...anchorProps, ref: composedRefs });\n  }\n);\nPopperAnchor.displayName = ANCHOR_NAME;\nvar CONTENT_NAME = \"PopperContent\";\nvar [PopperContentProvider, useContentContext] = createPopperContext(CONTENT_NAME);\nvar PopperContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopper,\n      side = \"bottom\",\n      sideOffset = 0,\n      align = \"center\",\n      alignOffset = 0,\n      arrowPadding = 0,\n      avoidCollisions = true,\n      collisionBoundary = [],\n      collisionPadding: collisionPaddingProp = 0,\n      sticky = \"partial\",\n      hideWhenDetached = false,\n      updatePositionStrategy = \"optimized\",\n      onPlaced,\n      ...contentProps\n    } = props;\n    const context = usePopperContext(CONTENT_NAME, __scopePopper);\n    const [content, setContent] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [arrow, setArrow] = React.useState(null);\n    const arrowSize = useSize(arrow);\n    const arrowWidth = arrowSize?.width ?? 0;\n    const arrowHeight = arrowSize?.height ?? 0;\n    const desiredPlacement = side + (align !== \"center\" ? \"-\" + align : \"\");\n    const collisionPadding = typeof collisionPaddingProp === \"number\" ? collisionPaddingProp : { top: 0, right: 0, bottom: 0, left: 0, ...collisionPaddingProp };\n    const boundary = Array.isArray(collisionBoundary) ? collisionBoundary : [collisionBoundary];\n    const hasExplicitBoundaries = boundary.length > 0;\n    const detectOverflowOptions = {\n      padding: collisionPadding,\n      boundary: boundary.filter(isNotNull),\n      // with `strategy: 'fixed'`, this is the only way to get it to respect boundaries\n      altBoundary: hasExplicitBoundaries\n    };\n    const { refs, floatingStyles, placement, isPositioned, middlewareData } = useFloating({\n      // default to `fixed` strategy so users don't have to pick and we also avoid focus scroll issues\n      strategy: \"fixed\",\n      placement: desiredPlacement,\n      whileElementsMounted: (...args) => {\n        const cleanup = autoUpdate(...args, {\n          animationFrame: updatePositionStrategy === \"always\"\n        });\n        return cleanup;\n      },\n      elements: {\n        reference: context.anchor\n      },\n      middleware: [\n        offset({ mainAxis: sideOffset + arrowHeight, alignmentAxis: alignOffset }),\n        avoidCollisions && shift({\n          mainAxis: true,\n          crossAxis: false,\n          limiter: sticky === \"partial\" ? limitShift() : void 0,\n          ...detectOverflowOptions\n        }),\n        avoidCollisions && flip({ ...detectOverflowOptions }),\n        size({\n          ...detectOverflowOptions,\n          apply: ({ elements, rects, availableWidth, availableHeight }) => {\n            const { width: anchorWidth, height: anchorHeight } = rects.reference;\n            const contentStyle = elements.floating.style;\n            contentStyle.setProperty(\"--radix-popper-available-width\", `${availableWidth}px`);\n            contentStyle.setProperty(\"--radix-popper-available-height\", `${availableHeight}px`);\n            contentStyle.setProperty(\"--radix-popper-anchor-width\", `${anchorWidth}px`);\n            contentStyle.setProperty(\"--radix-popper-anchor-height\", `${anchorHeight}px`);\n          }\n        }),\n        arrow && floatingUIarrow({ element: arrow, padding: arrowPadding }),\n        transformOrigin({ arrowWidth, arrowHeight }),\n        hideWhenDetached && hide({ strategy: \"referenceHidden\", ...detectOverflowOptions })\n      ]\n    });\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const handlePlaced = useCallbackRef(onPlaced);\n    useLayoutEffect(() => {\n      if (isPositioned) {\n        handlePlaced?.();\n      }\n    }, [isPositioned, handlePlaced]);\n    const arrowX = middlewareData.arrow?.x;\n    const arrowY = middlewareData.arrow?.y;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const [contentZIndex, setContentZIndex] = React.useState();\n    useLayoutEffect(() => {\n      if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n    }, [content]);\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        ref: refs.setFloating,\n        \"data-radix-popper-content-wrapper\": \"\",\n        style: {\n          ...floatingStyles,\n          transform: isPositioned ? floatingStyles.transform : \"translate(0, -200%)\",\n          // keep off the page when measuring\n          minWidth: \"max-content\",\n          zIndex: contentZIndex,\n          [\"--radix-popper-transform-origin\"]: [\n            middlewareData.transformOrigin?.x,\n            middlewareData.transformOrigin?.y\n          ].join(\" \"),\n          // hide the content if using the hide middleware and should be hidden\n          // set visibility to hidden and disable pointer events so the UI behaves\n          // as if the PopperContent isn't there at all\n          ...middlewareData.hide?.referenceHidden && {\n            visibility: \"hidden\",\n            pointerEvents: \"none\"\n          }\n        },\n        dir: props.dir,\n        children: /* @__PURE__ */ jsx(\n          PopperContentProvider,\n          {\n            scope: __scopePopper,\n            placedSide,\n            onArrowChange: setArrow,\n            arrowX,\n            arrowY,\n            shouldHideArrow: cannotCenterArrow,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                \"data-side\": placedSide,\n                \"data-align\": placedAlign,\n                ...contentProps,\n                ref: composedRefs,\n                style: {\n                  ...contentProps.style,\n                  // if the PopperContent hasn't been placed yet (not all measurements done)\n                  // we prevent animations so that users's animation don't kick in too early referring wrong sides\n                  animation: !isPositioned ? \"none\" : void 0\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nPopperContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"PopperArrow\";\nvar OPPOSITE_SIDE = {\n  top: \"bottom\",\n  right: \"left\",\n  bottom: \"top\",\n  left: \"right\"\n};\nvar PopperArrow = React.forwardRef(function PopperArrow2(props, forwardedRef) {\n  const { __scopePopper, ...arrowProps } = props;\n  const contentContext = useContentContext(ARROW_NAME, __scopePopper);\n  const baseSide = OPPOSITE_SIDE[contentContext.placedSide];\n  return (\n    // we have to use an extra wrapper because `ResizeObserver` (used by `useSize`)\n    // doesn't report size as we'd expect on SVG elements.\n    // it reports their bounding box which is effectively the largest path inside the SVG.\n    /* @__PURE__ */ jsx(\n      \"span\",\n      {\n        ref: contentContext.onArrowChange,\n        style: {\n          position: \"absolute\",\n          left: contentContext.arrowX,\n          top: contentContext.arrowY,\n          [baseSide]: 0,\n          transformOrigin: {\n            top: \"\",\n            right: \"0 0\",\n            bottom: \"center 0\",\n            left: \"100% 0\"\n          }[contentContext.placedSide],\n          transform: {\n            top: \"translateY(100%)\",\n            right: \"translateY(50%) rotate(90deg) translateX(-50%)\",\n            bottom: `rotate(180deg)`,\n            left: \"translateY(50%) rotate(-90deg) translateX(50%)\"\n          }[contentContext.placedSide],\n          visibility: contentContext.shouldHideArrow ? \"hidden\" : void 0\n        },\n        children: /* @__PURE__ */ jsx(\n          ArrowPrimitive.Root,\n          {\n            ...arrowProps,\n            ref: forwardedRef,\n            style: {\n              ...arrowProps.style,\n              // ensures the element can be measured correctly (mostly for if SVG)\n              display: \"block\"\n            }\n          }\n        )\n      }\n    )\n  );\n});\nPopperArrow.displayName = ARROW_NAME;\nfunction isNotNull(value) {\n  return value !== null;\n}\nvar transformOrigin = (options) => ({\n  name: \"transformOrigin\",\n  options,\n  fn(data) {\n    const { placement, rects, middlewareData } = data;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const isArrowHidden = cannotCenterArrow;\n    const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;\n    const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const noArrowAlign = { start: \"0%\", center: \"50%\", end: \"100%\" }[placedAlign];\n    const arrowXCenter = (middlewareData.arrow?.x ?? 0) + arrowWidth / 2;\n    const arrowYCenter = (middlewareData.arrow?.y ?? 0) + arrowHeight / 2;\n    let x = \"\";\n    let y = \"\";\n    if (placedSide === \"bottom\") {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${-arrowHeight}px`;\n    } else if (placedSide === \"top\") {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${rects.floating.height + arrowHeight}px`;\n    } else if (placedSide === \"right\") {\n      x = `${-arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    } else if (placedSide === \"left\") {\n      x = `${rects.floating.width + arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    }\n    return { data: { x, y } };\n  }\n});\nfunction getSideAndAlignFromPlacement(placement) {\n  const [side, align = \"center\"] = placement.split(\"-\");\n  return [side, align];\n}\nvar Root2 = Popper;\nvar Anchor = PopperAnchor;\nvar Content = PopperContent;\nvar Arrow = PopperArrow;\nexport {\n  ALIGN_OPTIONS,\n  Anchor,\n  Arrow,\n  Content,\n  Popper,\n  PopperAnchor,\n  PopperArrow,\n  PopperContent,\n  Root2 as Root,\n  SIDE_OPTIONS,\n  createPopperScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/presence.tsx\nimport * as React2 from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\n\n// src/use-state-machine.tsx\nimport * as React from \"react\";\nfunction useStateMachine(initialState, machine) {\n  return React.useReducer((state, event) => {\n    const nextState = machine[state][event];\n    return nextState ?? state;\n  }, initialState);\n}\n\n// src/presence.tsx\nvar Presence = (props) => {\n  const { present, children } = props;\n  const presence = usePresence(present);\n  const child = typeof children === \"function\" ? children({ present: presence.isPresent }) : React2.Children.only(children);\n  const ref = useComposedRefs(presence.ref, getElementRef(child));\n  const forceMount = typeof children === \"function\";\n  return forceMount || presence.isPresent ? React2.cloneElement(child, { ref }) : null;\n};\nPresence.displayName = \"Presence\";\nfunction usePresence(present) {\n  const [node, setNode] = React2.useState();\n  const stylesRef = React2.useRef(null);\n  const prevPresentRef = React2.useRef(present);\n  const prevAnimationNameRef = React2.useRef(\"none\");\n  const initialState = present ? \"mounted\" : \"unmounted\";\n  const [state, send] = useStateMachine(initialState, {\n    mounted: {\n      UNMOUNT: \"unmounted\",\n      ANIMATION_OUT: \"unmountSuspended\"\n    },\n    unmountSuspended: {\n      MOUNT: \"mounted\",\n      ANIMATION_END: \"unmounted\"\n    },\n    unmounted: {\n      MOUNT: \"mounted\"\n    }\n  });\n  React2.useEffect(() => {\n    const currentAnimationName = getAnimationName(stylesRef.current);\n    prevAnimationNameRef.current = state === \"mounted\" ? currentAnimationName : \"none\";\n  }, [state]);\n  useLayoutEffect(() => {\n    const styles = stylesRef.current;\n    const wasPresent = prevPresentRef.current;\n    const hasPresentChanged = wasPresent !== present;\n    if (hasPresentChanged) {\n      const prevAnimationName = prevAnimationNameRef.current;\n      const currentAnimationName = getAnimationName(styles);\n      if (present) {\n        send(\"MOUNT\");\n      } else if (currentAnimationName === \"none\" || styles?.display === \"none\") {\n        send(\"UNMOUNT\");\n      } else {\n        const isAnimating = prevAnimationName !== currentAnimationName;\n        if (wasPresent && isAnimating) {\n          send(\"ANIMATION_OUT\");\n        } else {\n          send(\"UNMOUNT\");\n        }\n      }\n      prevPresentRef.current = present;\n    }\n  }, [present, send]);\n  useLayoutEffect(() => {\n    if (node) {\n      let timeoutId;\n      const ownerWindow = node.ownerDocument.defaultView ?? window;\n      const handleAnimationEnd = (event) => {\n        const currentAnimationName = getAnimationName(stylesRef.current);\n        const isCurrentAnimation = currentAnimationName.includes(CSS.escape(event.animationName));\n        if (event.target === node && isCurrentAnimation) {\n          send(\"ANIMATION_END\");\n          if (!prevPresentRef.current) {\n            const currentFillMode = node.style.animationFillMode;\n            node.style.animationFillMode = \"forwards\";\n            timeoutId = ownerWindow.setTimeout(() => {\n              if (node.style.animationFillMode === \"forwards\") {\n                node.style.animationFillMode = currentFillMode;\n              }\n            });\n          }\n        }\n      };\n      const handleAnimationStart = (event) => {\n        if (event.target === node) {\n          prevAnimationNameRef.current = getAnimationName(stylesRef.current);\n        }\n      };\n      node.addEventListener(\"animationstart\", handleAnimationStart);\n      node.addEventListener(\"animationcancel\", handleAnimationEnd);\n      node.addEventListener(\"animationend\", handleAnimationEnd);\n      return () => {\n        ownerWindow.clearTimeout(timeoutId);\n        node.removeEventListener(\"animationstart\", handleAnimationStart);\n        node.removeEventListener(\"animationcancel\", handleAnimationEnd);\n        node.removeEventListener(\"animationend\", handleAnimationEnd);\n      };\n    } else {\n      send(\"ANIMATION_END\");\n    }\n  }, [node, send]);\n  return {\n    isPresent: [\"mounted\", \"unmountSuspended\"].includes(state),\n    ref: React2.useCallback((node2) => {\n      stylesRef.current = node2 ? getComputedStyle(node2) : null;\n      setNode(node2);\n    }, [])\n  };\n}\nfunction getAnimationName(styles) {\n  return styles?.animationName || \"none\";\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nvar Root = Presence;\nexport {\n  Presence,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// src/use-controllable-state.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nvar useInsertionEffect = React[\" useInsertionEffect \".trim().toString()] || useLayoutEffect;\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {\n  },\n  caller\n}) {\n  const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== void 0;\n  const value = isControlled ? prop : uncontrolledProp;\n  if (true) {\n    const isControlledRef = React.useRef(prop !== void 0);\n    React.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const setValue = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n        if (value2 !== prop) {\n          onChangeRef.current?.(value2);\n        }\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, onChangeRef]\n  );\n  return [value, setValue];\n}\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  const [value, setValue] = React.useState(defaultProp);\n  const prevValueRef = React.useRef(value);\n  const onChangeRef = React.useRef(onChange);\n  useInsertionEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      onChangeRef.current?.(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef]);\n  return [value, setValue, onChangeRef];\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\n// src/use-controllable-state-reducer.tsx\nimport * as React2 from \"react\";\nimport { useEffectEvent } from \"@radix-ui/react-use-effect-event\";\nvar SYNC_STATE = Symbol(\"RADIX:SYNC_STATE\");\nfunction useControllableStateReducer(reducer, userArgs, initialArg, init) {\n  const { prop: controlledState, defaultProp, onChange: onChangeProp, caller } = userArgs;\n  const isControlled = controlledState !== void 0;\n  const onChange = useEffectEvent(onChangeProp);\n  if (true) {\n    const isControlledRef = React2.useRef(controlledState !== void 0);\n    React2.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const args = [{ ...initialArg, state: defaultProp }];\n  if (init) {\n    args.push(init);\n  }\n  const [internalState, dispatch] = React2.useReducer(\n    (state2, action) => {\n      if (action.type === SYNC_STATE) {\n        return { ...state2, state: action.state };\n      }\n      const next = reducer(state2, action);\n      if (isControlled && !Object.is(next.state, state2.state)) {\n        onChange(next.state);\n      }\n      return next;\n    },\n    ...args\n  );\n  const uncontrolledState = internalState.state;\n  const prevValueRef = React2.useRef(uncontrolledState);\n  React2.useEffect(() => {\n    if (prevValueRef.current !== uncontrolledState) {\n      prevValueRef.current = uncontrolledState;\n      if (!isControlled) {\n        onChange(uncontrolledState);\n      }\n    }\n  }, [onChange, uncontrolledState, prevValueRef, isControlled]);\n  const state = React2.useMemo(() => {\n    const isControlled2 = controlledState !== void 0;\n    if (isControlled2) {\n      return { ...internalState, state: controlledState };\n    }\n    return internalState;\n  }, [internalState, controlledState]);\n  React2.useEffect(() => {\n    if (isControlled && !Object.is(controlledState, internalState.state)) {\n      dispatch({ type: SYNC_STATE, state: controlledState });\n    }\n  }, [controlledState, internalState.state, isControlled]);\n  return [state, dispatch];\n}\nexport {\n  useControllableState,\n  useControllableStateReducer\n};\n//# sourceMappingURL=index.mjs.map\n","// src/visually-hidden.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar VISUALLY_HIDDEN_STYLES = Object.freeze({\n  // See: https://github.com/twbs/bootstrap/blob/main/scss/mixins/_visually-hidden.scss\n  position: \"absolute\",\n  border: 0,\n  width: 1,\n  height: 1,\n  padding: 0,\n  margin: -1,\n  overflow: \"hidden\",\n  clip: \"rect(0, 0, 0, 0)\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n});\nvar NAME = \"VisuallyHidden\";\nvar VisuallyHidden = React.forwardRef(\n  (props, forwardedRef) => {\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...props,\n        ref: forwardedRef,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style }\n      }\n    );\n  }\n);\nVisuallyHidden.displayName = NAME;\nvar Root = VisuallyHidden;\nexport {\n  Root,\n  VISUALLY_HIDDEN_STYLES,\n  VisuallyHidden\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/tooltip.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport * as VisuallyHiddenPrimitive from \"@radix-ui/react-visually-hidden\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar [createTooltipContext, createTooltipScope] = createContextScope(\"Tooltip\", [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar PROVIDER_NAME = \"TooltipProvider\";\nvar DEFAULT_DELAY_DURATION = 700;\nvar TOOLTIP_OPEN = \"tooltip.open\";\nvar [TooltipProviderContextProvider, useTooltipProviderContext] = createTooltipContext(PROVIDER_NAME);\nvar TooltipProvider = (props) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    disableHoverableContent = false,\n    children\n  } = props;\n  const isOpenDelayedRef = React.useRef(true);\n  const isPointerInTransitRef = React.useRef(false);\n  const skipDelayTimerRef = React.useRef(0);\n  React.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n  return /* @__PURE__ */ jsx(\n    TooltipProviderContextProvider,\n    {\n      scope: __scopeTooltip,\n      isOpenDelayedRef,\n      delayDuration,\n      onOpen: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        isOpenDelayedRef.current = false;\n      }, []),\n      onClose: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => isOpenDelayedRef.current = true,\n          skipDelayDuration\n        );\n      }, [skipDelayDuration]),\n      isPointerInTransitRef,\n      onPointerInTransitChange: React.useCallback((inTransit) => {\n        isPointerInTransitRef.current = inTransit;\n      }, []),\n      disableHoverableContent,\n      children\n    }\n  );\n};\nTooltipProvider.displayName = PROVIDER_NAME;\nvar TOOLTIP_NAME = \"Tooltip\";\nvar [TooltipContextProvider, useTooltipContext] = createTooltipContext(TOOLTIP_NAME);\nvar Tooltip = (props) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    disableHoverableContent: disableHoverableContentProp,\n    delayDuration: delayDurationProp\n  } = props;\n  const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props.__scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React.useState(null);\n  const contentId = useId();\n  const openTimerRef = React.useRef(0);\n  const disableHoverableContent = disableHoverableContentProp ?? providerContext.disableHoverableContent;\n  const delayDuration = delayDurationProp ?? providerContext.delayDuration;\n  const wasOpenDelayedRef = React.useRef(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: (open2) => {\n      if (open2) {\n        providerContext.onOpen();\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        providerContext.onClose();\n      }\n      onOpenChange?.(open2);\n    },\n    caller: TOOLTIP_NAME\n  });\n  const stateAttribute = React.useMemo(() => {\n    return open ? wasOpenDelayedRef.current ? \"delayed-open\" : \"instant-open\" : \"closed\";\n  }, [open]);\n  const handleOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n  const handleClose = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n  const handleDelayedOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n  React.useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    TooltipContextProvider,\n    {\n      scope: __scopeTooltip,\n      contentId,\n      open,\n      stateAttribute,\n      trigger,\n      onTriggerChange: setTrigger,\n      onTriggerEnter: React.useCallback(() => {\n        if (providerContext.isOpenDelayedRef.current) handleDelayedOpen();\n        else handleOpen();\n      }, [providerContext.isOpenDelayedRef, handleDelayedOpen, handleOpen]),\n      onTriggerLeave: React.useCallback(() => {\n        if (disableHoverableContent) {\n          handleClose();\n        } else {\n          window.clearTimeout(openTimerRef.current);\n          openTimerRef.current = 0;\n        }\n      }, [handleClose, disableHoverableContent]),\n      onOpen: handleOpen,\n      onClose: handleClose,\n      disableHoverableContent,\n      children\n    }\n  ) });\n};\nTooltip.displayName = TOOLTIP_NAME;\nvar TRIGGER_NAME = \"TooltipTrigger\";\nvar TooltipTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = React.useRef(false);\n    const hasPointerMoveOpenedRef = React.useRef(false);\n    const handlePointerUp = React.useCallback(() => isPointerDownRef.current = false, []);\n    React.useEffect(() => {\n      return () => document.removeEventListener(\"pointerup\", handlePointerUp);\n    }, [handlePointerUp]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        \"aria-describedby\": context.open ? context.contentId : void 0,\n        \"data-state\": context.stateAttribute,\n        ...triggerProps,\n        ref: composedRefs,\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          if (event.pointerType === \"touch\") return;\n          if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n            context.onTriggerEnter();\n            hasPointerMoveOpenedRef.current = true;\n          }\n        }),\n        onPointerLeave: composeEventHandlers(props.onPointerLeave, () => {\n          context.onTriggerLeave();\n          hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, () => {\n          if (context.open) {\n            context.onClose();\n          }\n          isPointerDownRef.current = true;\n          document.addEventListener(\"pointerup\", handlePointerUp, { once: true });\n        }),\n        onFocus: composeEventHandlers(props.onFocus, () => {\n          if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: composeEventHandlers(props.onBlur, context.onClose),\n        onClick: composeEventHandlers(props.onClick, context.onClose)\n      }\n    ) });\n  }\n);\nTooltipTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"TooltipPortal\";\nvar [PortalProvider, usePortalContext] = createTooltipContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar TooltipPortal = (props) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeTooltip, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nTooltipPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"TooltipContent\";\nvar TooltipContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = \"top\", ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.disableHoverableContent ? /* @__PURE__ */ jsx(TooltipContentImpl, { side, ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(TooltipContentHoverable, { side, ...contentProps, ref: forwardedRef }) });\n  }\n);\nvar TooltipContentHoverable = React.forwardRef((props, forwardedRef) => {\n  const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n  const providerContext = useTooltipProviderContext(CONTENT_NAME, props.__scopeTooltip);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const [pointerGraceArea, setPointerGraceArea] = React.useState(null);\n  const { trigger, onClose } = context;\n  const content = ref.current;\n  const { onPointerInTransitChange } = providerContext;\n  const handleRemoveGraceArea = React.useCallback(() => {\n    setPointerGraceArea(null);\n    onPointerInTransitChange(false);\n  }, [onPointerInTransitChange]);\n  const handleCreateGraceArea = React.useCallback(\n    (event, hoverTarget) => {\n      const currentTarget = event.currentTarget;\n      const exitPoint = { x: event.clientX, y: event.clientY };\n      const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n      const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n      const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n      const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n      setPointerGraceArea(graceArea);\n      onPointerInTransitChange(true);\n    },\n    [onPointerInTransitChange]\n  );\n  React.useEffect(() => {\n    return () => handleRemoveGraceArea();\n  }, [handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (trigger && content) {\n      const handleTriggerLeave = (event) => handleCreateGraceArea(event, content);\n      const handleContentLeave = (event) => handleCreateGraceArea(event, trigger);\n      trigger.addEventListener(\"pointerleave\", handleTriggerLeave);\n      content.addEventListener(\"pointerleave\", handleContentLeave);\n      return () => {\n        trigger.removeEventListener(\"pointerleave\", handleTriggerLeave);\n        content.removeEventListener(\"pointerleave\", handleContentLeave);\n      };\n    }\n  }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (pointerGraceArea) {\n      const handleTrackPointerGrace = (event) => {\n        const target = event.target;\n        const pointerPosition = { x: event.clientX, y: event.clientY };\n        const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n        if (hasEnteredTarget) {\n          handleRemoveGraceArea();\n        } else if (isPointerOutsideGraceArea) {\n          handleRemoveGraceArea();\n          onClose();\n        }\n      };\n      document.addEventListener(\"pointermove\", handleTrackPointerGrace);\n      return () => document.removeEventListener(\"pointermove\", handleTrackPointerGrace);\n    }\n  }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n  return /* @__PURE__ */ jsx(TooltipContentImpl, { ...props, ref: composedRefs });\n});\nvar [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, { isInside: false });\nvar Slottable = createSlottable(\"TooltipContent\");\nvar TooltipContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      \"aria-label\": ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n    React.useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n    React.useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event) => {\n          const target = event.target;\n          if (target?.contains(context.trigger)) onClose();\n        };\n        window.addEventListener(\"scroll\", handleScroll, { capture: true });\n        return () => window.removeEventListener(\"scroll\", handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n    return /* @__PURE__ */ jsx(\n      DismissableLayer,\n      {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown,\n        onPointerDownOutside,\n        onFocusOutside: (event) => event.preventDefault(),\n        onDismiss: onClose,\n        children: /* @__PURE__ */ jsxs(\n          PopperPrimitive.Content,\n          {\n            \"data-state\": context.stateAttribute,\n            ...popperScope,\n            ...contentProps,\n            ref: forwardedRef,\n            style: {\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                \"--radix-tooltip-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-tooltip-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-tooltip-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-tooltip-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-tooltip-trigger-height\": \"var(--radix-popper-anchor-height)\"\n              }\n            },\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(VisuallyHiddenContentContextProvider, { scope: __scopeTooltip, isInside: true, children: /* @__PURE__ */ jsx(VisuallyHiddenPrimitive.Root, { id: context.contentId, role: \"tooltip\", children: ariaLabel || children }) })\n            ]\n          }\n        )\n      }\n    );\n  }\n);\nTooltipContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"TooltipArrow\";\nvar TooltipArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(\n      ARROW_NAME,\n      __scopeTooltip\n    );\n    return visuallyHiddenContentContext.isInside ? null : /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nTooltipArrow.displayName = ARROW_NAME;\nfunction getExitSideFromRect(point, rect) {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return \"left\";\n    case right:\n      return \"right\";\n    case top:\n      return \"top\";\n    case bottom:\n      return \"bottom\";\n    default:\n      throw new Error(\"unreachable\");\n  }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n  const paddedExitPoints = [];\n  switch (exitSide) {\n    case \"top\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"bottom\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding }\n      );\n      break;\n    case \"left\":\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"right\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding }\n      );\n      break;\n  }\n  return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom }\n  ];\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction getHull(points) {\n  const newPoints = points.slice();\n  newPoints.sort((a, b) => {\n    if (a.x < b.x) return -1;\n    else if (a.x > b.x) return 1;\n    else if (a.y < b.y) return -1;\n    else if (a.y > b.y) return 1;\n    else return 0;\n  });\n  return getHullPresorted(newPoints);\n}\nfunction getHullPresorted(points) {\n  if (points.length <= 1) return points.slice();\n  const upperHull = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n      else break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n  const lowerHull = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n      else break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n  if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n}\nvar Provider = TooltipProvider;\nvar Root3 = Tooltip;\nvar Trigger = TooltipTrigger;\nvar Portal = TooltipPortal;\nvar Content2 = TooltipContent;\nvar Arrow2 = TooltipArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Portal,\n  Provider,\n  Root3 as Root,\n  Tooltip,\n  TooltipArrow,\n  TooltipContent,\n  TooltipPortal,\n  TooltipProvider,\n  TooltipTrigger,\n  Trigger,\n  createTooltipScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","import React, { Component, ReactNode } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { AlertTriangle, RefreshCw } from 'lucide-react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n  errorInfo?: React.ErrorInfo;\n}\n\nclass ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    this.setState({\n      error,\n      errorInfo\n    });\n  }\n\n  handleReset = () => {\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"min-h-screen flex items-center justify-center p-4 bg-muted/30\">\n          <Card className=\"max-w-md w-full\">\n            <CardHeader className=\"text-center\">\n              <div className=\"flex justify-center mb-4\">\n                <AlertTriangle className=\"h-12 w-12 text-destructive\" />\n              </div>\n              <CardTitle className=\"text-destructive\">เกิดข้อผิดพลาด</CardTitle>\n              <CardDescription>\n                ขออภัย แอปพลิเคชันเกิดข้อผิดพลาดที่ไม่คาดคิด\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <Alert variant=\"destructive\">\n                <AlertTriangle className=\"h-4 w-4\" />\n                <AlertDescription>\n                  {this.state.error?.message || 'Unknown error occurred'}\n                </AlertDescription>\n              </Alert>\n              \n              <div className=\"space-y-2\">\n                <Button \n                  onClick={this.handleReset}\n                  className=\"w-full\"\n                  variant=\"outline\"\n                >\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\n                  ลองใหม่อีกครั้ง\n                </Button>\n                \n                <Button \n                  onClick={() => window.location.reload()}\n                  className=\"w-full\"\n                  variant=\"secondary\"\n                >\n                  รีโหลดหน้าเว็บ\n                </Button>\n              </div>\n\n              {process.env.NODE_ENV === 'development' && this.state.error && (\n                <details className=\"mt-4\">\n                  <summary className=\"text-sm font-medium cursor-pointer text-muted-foreground\">\n                    Debug Information\n                  </summary>\n                  <pre className=\"mt-2 text-xs bg-muted p-2 rounded overflow-auto max-h-40\">\n                    {this.state.error.stack}\n                    {this.state.errorInfo?.componentStack}\n                  </pre>\n                </details>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;","import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","// packages/react/separator/src/Separator.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Separator\";\nvar DEFAULT_ORIENTATION = \"horizontal\";\nvar ORIENTATIONS = [\"horizontal\", \"vertical\"];\nvar Separator = React.forwardRef((props, forwardedRef) => {\n  const { decorative, orientation: orientationProp = DEFAULT_ORIENTATION, ...domProps } = props;\n  const orientation = isValidOrientation(orientationProp) ? orientationProp : DEFAULT_ORIENTATION;\n  const ariaOrientation = orientation === \"vertical\" ? orientation : void 0;\n  const semanticProps = decorative ? { role: \"none\" } : { \"aria-orientation\": ariaOrientation, role: \"separator\" };\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"data-orientation\": orientation,\n      ...semanticProps,\n      ...domProps,\n      ref: forwardedRef\n    }\n  );\n});\nSeparator.displayName = NAME;\nfunction isValidOrientation(orientation) {\n  return ORIENTATIONS.includes(orientation);\n}\nvar Root = Separator;\nexport {\n  Root,\n  Separator\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","import { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Separator } from '@/components/ui/separator';\nimport { Textarea } from '@/components/ui/textarea';\nimport { useToast } from '@/hooks/use-toast';\nimport { Zap, Copy, CheckCircle, ArrowRight, Bot, Settings, Code, Download, FileDown } from 'lucide-react';\n\ninterface SmartRoutingNode {\n  id: string;\n  name: string;\n  type: 'ai-router' | 'response-generator' | 'context-manager';\n  code: string;\n  description: string;\n  replaces: string[];\n  workflowJSON?: any;\n}\n\ninterface SmartRoutingGeneratorProps {\n  workflowNodes?: any[];\n}\n\nconst SmartRoutingGenerator = ({ workflowNodes = [] }: SmartRoutingGeneratorProps) => {\n  const [generatedNodes, setGeneratedNodes] = useState<SmartRoutingNode[]>([]);\n  const [copiedNodeId, setCopiedNodeId] = useState<string | null>(null);\n  const { toast } = useToast();\n\n  const generateSmartRouting = () => {\n    // หา Switch nodes ที่สามารถแทนที่ได้\n    const switchNodes = workflowNodes.filter(node => \n      node.type === 'n8n-nodes-base.switch'\n    );\n\n    const routingNodes: SmartRoutingNode[] = [\n      {\n        id: 'ai-smart-router',\n        name: 'AI Smart Router (Rich Menu Compatible)',\n        type: 'ai-router',\n        description: 'รองรับ Rich Menu, Postback และ Quick Reply',\n        replaces: switchNodes.map(node => node.name),\n        code: `// AI Smart Router - Rich Menu & Quick Reply Compatible\nconst input = $json.body?.events?.[0];\nif (!input) {\n  throw new Error('Invalid webhook payload: No events found');\n}\n\n// รองรับทั้ง text message, postback และ quick reply\nconst userMessage = input.message?.text || \n                   input.postbackData?.data || \n                   input.message?.quickReply?.postbackData?.data || \n                   input.postback?.data || '';\n\nconst userId = input.source?.userId;\nconst eventType = input.type; // message, postback, follow, etc.\n\nif (!userId) {\n  throw new Error('Invalid webhook payload: No userId found');\n}\n\n// ดึง LINE Profile เพื่อเอา Display Name\nlet displayName = \"คุณ\"; // default fallback\ntry {\n  const profileResponse = await $http.request({\n    method: \"GET\",\n    url: \"https://api.line.me/v2/bot/profile/\" + userId,\n    headers: {\n      \"Authorization\": \"Bearer \" + $node.context().get(\"channelAccessToken\")\n    }\n  });\n  \n  if (profileResponse.statusCode === 200) {\n    displayName = profileResponse.body.displayName || \"คุณ\";\n  }\n} catch (error) {\n  console.log(\"Error fetching profile:\", error);\n  // ใช้ fallback แทน\n}\n\n// จัดการ Rich Menu Actions และ Quick Replies\nlet processedMessage = userMessage;\nlet isRichMenuAction = false;\nlet dataCollected = {};\n\n// ตรวจสอบ Postback Data จาก Rich Menu\nif (input.postback?.data) {\n  isRichMenuAction = true;\n  console.log(\"Raw postback data:\", input.postback.data);\n  try {\n    // รองรับ Postback data ในรูปแบบ JSON\n    dataCollected = JSON.parse(input.postback.data);\n    processedMessage = dataCollected.action || dataCollected.type || userMessage;\n    console.log(\"Parsed postback data:\", dataCollected);\n    console.log(\"Processed message:\", processedMessage);\n  } catch (error) {\n    // รองรับ Postback data แบบ string\n    processedMessage = input.postback.data;\n    console.log(\"String postback data:\", processedMessage);\n  }\n}\n\n// ตรวจสอบ datetime picker result\nif (input.postback?.params?.date) {\n  dataCollected.selectedDate = input.postback.params.date;\n  processedMessage = 'confirm_appointment_date';\n}\n\nif (input.postback?.params?.time) {\n  dataCollected.selectedTime = input.postback.params.time;\n}\n\n// AI Prompt ที่รองรับ Rich Menu และการบันทึกข้อมูล\nconst routingPrompt = \\`คุณเป็น Smart Router สำหรับระบบจองวัคซีนที่รองรับ Rich Menu และการบันทึกข้อมูลอัตโนมัติ\n\nInput: \"\\${processedMessage}\"\nEvent Type: \"\\${eventType}\"\nIs Rich Menu Action: \\${isRichMenuAction}\nCollected Data: \\${JSON.stringify(dataCollected)}\n\nส่งคืนในรูปแบบ JSON:\n{\n  \"action\": \"checkin|record_appointment|hospital_info|vaccine_info|book_appointment|cancel_booking|check_status|general_info|show_rich_menu|show_vaccine_menu\",\n  \"vaccine_type\": \"covid|flu|hepatitis|hpv|other\",\n  \"intent_confidence\": 0.8,\n  \"required_data\": [\"name\", \"phone\", \"vaccine_type\", \"date\", \"time\", \"symptoms\"],\n  \"response_type\": \"rich_menu|quick_reply|datetime_picker|flex_message|confirm_template|form_input\",\n  \"data_collection_step\": \"start|collecting|complete\",\n  \"next_action\": \"show_menu|collect_missing_data|confirm|complete\"\n}\n\nการทำงานของ Rich Menu:\n- \"checkin\" → action: \"checkin\" (เช็คอิน)\n- \"record_appointment\" → action: \"record_appointment\" (บันทึกนัดหมาย/ชื่อวัคซีน)\n- \"hospital_info\" → action: \"hospital_info\" (ข้อมูลโรงพยาบาล)\n- \"show_vaccine_menu\" → action: \"show_vaccine_menu\" (แสดงเมนูวัคซีน)\n- \"book_vaccine\" → action: \"book_appointment\", vaccine_type: \"covid\"\n- datetime selection → action: \"collect_data\", data_collection_step: \"collecting\"\n\nการจับคู่ action:\n- หาก input คือ \"show_vaccine_menu\" ต้องส่งคืน action: \"show_vaccine_menu\"\n- หาก input คือ vaccine postback (pfizer, moderna, ฯลฯ) ส่งคืน action: \"book_appointment\"\n\\`;\n\n// เตรียมข้อมูลสำหรับ HTTP Request\n$json.openai_request = {\n  model: 'gpt-4',\n  messages: [{ role: 'user', content: routingPrompt }],\n  temperature: 0.1\n};\n\n$json.userId = userId;\n$json.displayName = displayName;\n$json.originalInput = input;\n$json.userMessage = processedMessage;\n$json.eventType = eventType;\n$json.isRichMenuAction = isRichMenuAction;\n$json.collectedData = dataCollected;\n$json.timestamp = new Date().toISOString();\n\nreturn $input.all();`\n      },\n      {\n        id: 'dynamic-response-generator',\n        name: 'Dynamic Response Generator',\n        type: 'response-generator',\n        description: 'สร้าง response แบบ dynamic ตาม AI routing results',\n        replaces: ['Static Response Nodes'],\n        code: `// Rich Menu Enhanced Dynamic Response Generator (Fixed)\nconst { routing, userId, displayName, collectedData, isRichMenuAction } = $json;\n\n// ใช้ localStorage แทน getWorkflowStaticData เพื่อแก้ปัญหา ReferenceError\nconst nodeKey = 'vaccine_system_data';\nlet systemData = {};\n\ntry {\n  // อ่านข้อมูลจาก localStorage (หรือจะใช้ database แทนได้)\n  const existingData = $node.context().get(nodeKey);\n  systemData = existingData || {};\n} catch (e) {\n  systemData = {};\n}\n\n// Database Node - สำหรับบันทึกข้อมูล  \nif (!systemData.userBookings) systemData.userBookings = {};\nif (!systemData.checkinRecords) systemData.checkinRecords = {};\nif (!systemData.vaccineSlots) {\n  systemData.vaccineSlots = {\n    \"2024-12-20\": { available: 5, booked: 0 },\n    \"2024-12-21\": { available: 8, booked: 0 },\n    \"2024-12-22\": { available: 3, booked: 2 }\n  };\n}\n\n// Configuration แบบ Rich Menu Compatible\nconst vaccineConfig = {\n  \"covid\": {\n    \"info\": \"วัคซีนโควิด-19 ป้องกันการติดเชื้อ รุนแรง ลดการเสียชีวิต\",\n    \"price\": \"ฟรี (ภาครัฐ)\",\n    \"duration\": \"6 เดือน\",\n    \"age_requirement\": \"6 เดือนขึ้นไป\",\n    \"postback_data\": { \"action\": \"book_vaccine\", \"type\": \"covid\" }\n  },\n  \"flu\": {\n    \"info\": \"วัคซีนไข้หวัดใหญ่ ป้องกันไข้หวัด โดยเฉพาะในกลุ่มเสี่ยง\",\n    \"price\": \"800 บาท\",\n    \"duration\": \"1 ปี\", \n    \"age_requirement\": \"6 เดือนขึ้นไป\",\n    \"postback_data\": { \"action\": \"book_vaccine\", \"type\": \"flu\" }\n  },\n  \"hepatitis\": {\n    \"info\": \"วัคซีนไวรัสตับอักเสบบี ป้องกันโรคตับอักเสบ\",\n    \"price\": \"1,200 บาท\",\n    \"duration\": \"ตลอดชีวิต\",\n    \"age_requirement\": \"แรกเกิดขึ้นไป\",\n    \"postback_data\": { \"action\": \"book_vaccine\", \"type\": \"hepatitis\" }\n  },\n  \"hpv\": {\n    \"info\": \"วัคซีน HPV ป้องกันมะเร็งปากมดลูกและโรคอื่นๆ\",\n    \"price\": \"3,500 บาท\",\n    \"duration\": \"ตลอดชีวิต\",\n    \"age_requirement\": \"9-45 ปี\",\n    \"postback_data\": { \"action\": \"book_vaccine\", \"type\": \"hpv\" }\n  }\n};\n\n// สร้าง Response แบบ Rich Menu Compatible\nlet response = {};\n\nswitch(routing.action) {\n  case 'show_rich_menu':\n    // Main Rich Menu ตามที่คุณต้องการ\n    response = {\n      type: 'flex',\n      altText: 'เมนูหลัก - บริการโรงพยาบาล',\n      contents: {\n        type: 'bubble',\n        body: {\n          type: 'box',\n          layout: 'vertical',\n          contents: [\n            {\n              type: 'text',\n              text: '🏥 ระบบบริการโรงพยาบาล',\n              weight: 'bold',\n              size: 'xl',\n              color: '#1DB446',\n              align: 'center'\n            },\n            {\n              type: 'text',\n              text: 'เลือกบริการที่ต้องการ',\n              wrap: true,\n              margin: 'md',\n              color: '#666666',\n              align: 'center'\n            },\n            {\n              type: 'separator',\n              margin: 'xl'\n            },\n            {\n              type: 'box',\n              layout: 'vertical',\n              margin: 'xl',\n              spacing: 'md',\n              contents: [\n                {\n                  type: 'box',\n                  layout: 'horizontal',\n                  spacing: 'md',\n                  contents: [\n                    {\n                      type: 'button',\n                      flex: 1,\n                      height: 'md',\n                      style: 'primary',\n                      color: '#1DB446',\n                      action: {\n                        type: 'postback',\n                        label: '✅ เช็คอิน',\n                        data: JSON.stringify({ action: 'checkin' })\n                      }\n                    }\n                  ]\n                },\n                {\n                  type: 'box',\n                  layout: 'horizontal',\n                  spacing: 'md',\n                  contents: [\n                    {\n                      type: 'button',\n                      flex: 1,\n                      height: 'md',\n                      style: 'secondary',\n                      action: {\n                        type: 'postback',\n                        label: '📝 บันทึกนัดหมาย',\n                        data: JSON.stringify({ action: 'record_appointment' })\n                      }\n                    }\n                  ]\n                },\n                {\n                  type: 'box',\n                  layout: 'horizontal',\n                  spacing: 'md',\n                  contents: [\n                    {\n                      type: 'button',\n                      flex: 1,\n                      height: 'md',\n                      style: 'secondary',\n                      action: {\n                        type: 'postback',\n                        label: '🏥 ข้อมูลโรงพยาบาล',\n                        data: JSON.stringify({ action: 'hospital_info' })\n                      }\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              type: 'separator',\n              margin: 'xl'\n            },\n            {\n              type: 'text',\n              text: 'บริการเพิ่มเติม',\n              weight: 'bold',\n              margin: 'xl',\n              color: '#666666'\n            },\n            {\n              type: 'box',\n              layout: 'horizontal',\n              margin: 'md',\n              spacing: 'sm',\n              contents: [\n                {\n                  type: 'button',\n                  flex: 1,\n                  height: 'sm',\n                  style: 'link',\n                  action: {\n                    type: 'postback',\n                    label: '💉 จองวัคซีน',\n                    data: JSON.stringify({ action: 'show_vaccine_menu' })\n                  }\n                },\n                {\n                  type: 'button',\n                  flex: 1,\n                  height: 'sm',\n                  style: 'link',\n                  action: {\n                    type: 'postback',\n                    label: '📋 ตรวจสอบการจอง',\n                    data: JSON.stringify({ action: 'check_status' })\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      }\n    };\n    break;\n\n  case 'show_vaccine_menu':\n    // Vaccine Menu แยกต่างหาก\n    response = {\n      type: 'flex',\n      altText: 'เมนูวัคซีน - เลือกบริการ',\n      contents: {\n        type: 'carousel',\n        contents: Object.keys(vaccineConfig).map(vaccineType => {\n          const vaccine = vaccineConfig[vaccineType];\n          return {\n            type: 'bubble',\n            hero: {\n              type: 'image',\n              url: 'https://via.placeholder.com/300x200/1DB446/FFFFFF?text=' + vaccineType.toUpperCase(),\n              size: 'full',\n              aspectRatio: '20:13',\n              aspectMode: 'cover'\n            },\n            body: {\n              type: 'box',\n              layout: 'vertical',\n              contents: [\n                {\n                  type: 'text',\n                  text: \\`วัคซีน \\${vaccineType.toUpperCase()}\\`,\n                  weight: 'bold',\n                  size: 'xl',\n                  color: '#1DB446'\n                },\n                {\n                  type: 'text',\n                  text: vaccine.info,\n                  wrap: true,\n                  margin: 'md',\n                  size: 'sm'\n                },\n                {\n                  type: 'box',\n                  layout: 'vertical',\n                  margin: 'lg',\n                  spacing: 'sm',\n                  contents: [\n                    {\n                      type: 'box',\n                      layout: 'baseline',\n                      spacing: 'sm',\n                      contents: [\n                        { type: 'text', text: 'ราคา', color: '#aaaaaa', size: 'sm', flex: 1 },\n                        { type: 'text', text: vaccine.price, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                      ]\n                    },\n                    {\n                      type: 'box',\n                      layout: 'baseline',\n                      spacing: 'sm',\n                      contents: [\n                        { type: 'text', text: 'ระยะเวลา', color: '#aaaaaa', size: 'sm', flex: 1 },\n                        { type: 'text', text: vaccine.duration, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            },\n            footer: {\n              type: 'box',\n              layout: 'vertical',\n              spacing: 'sm',\n              contents: [\n                {\n                  type: 'button',\n                  style: 'primary',\n                  height: 'sm',\n                  action: {\n                    type: 'postback',\n                    label: 'จองเลย',\n                    data: JSON.stringify(vaccine.postback_data)\n                  }\n                },\n                {\n                  type: 'button',\n                  style: 'secondary',\n                  height: 'sm',\n                  action: {\n                    type: 'postback',\n                    label: 'ดูข้อมูล',\n                    data: JSON.stringify({ \"action\": \"view_info\", \"type\": vaccineType })\n                  }\n                }\n              ]\n            }\n          };\n        })\n      }\n    };\n    break;\n\n  case 'vaccine_info':\n    const vaccineData = vaccineConfig[routing.vaccine_type];\n    if (vaccineData) {\n      response = {\n        type: 'flex',\n        altText: \\`ข้อมูลวัคซีน \\${routing.vaccine_type}\\`,\n        contents: {\n          type: 'bubble',\n          body: {\n            type: 'box',\n            layout: 'vertical',\n            contents: [\n              {\n                type: 'text',\n                text: \\`วัคซีน \\${routing.vaccine_type.toUpperCase()}\\`,\n                weight: 'bold',\n                size: 'xl',\n                color: '#1DB446'\n              },\n              {\n                type: 'text',\n                text: vaccineData.info,\n                wrap: true,\n                margin: 'md'\n              },\n              {\n                type: 'separator',\n                margin: 'xl'\n              },\n              {\n                type: 'box',\n                layout: 'vertical',\n                margin: 'xl',\n                spacing: 'sm',\n                contents: [\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'ราคา', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: vaccineData.price, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  },\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'อายุ', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: vaccineData.age_requirement, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  },\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'ระยะเวลา', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: vaccineData.duration, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  }\n                ]\n              }\n            ]\n          },\n          footer: {\n            type: 'box',\n            layout: 'vertical',\n            spacing: 'sm',\n            contents: [\n              {\n                type: 'button',\n                style: 'primary',\n                action: {\n                  type: 'postback',\n                  label: 'จองวัคซีนนี้',\n                  data: JSON.stringify(vaccineData.postback_data)\n                }\n              },\n              {\n                type: 'button',\n                style: 'secondary',\n                action: {\n                  type: 'postback',\n                  label: 'ดูวัคซีนอื่น',\n                  data: JSON.stringify({ \"action\": \"show_menu\" })\n                }\n              }\n            ]\n          }\n        }\n      };\n    }\n    break;\n\n  case 'book_appointment':\n    // ตรวจสอบข้อมูลที่เก็บได้แล้ว\n    const currentBooking = systemData.userBookings[userId] || {};\n    \n    if (collectedData.selectedDate) {\n      // มีการเลือกวันที่แล้ว -> แสดง Time Picker\n      response = {\n        type: 'template',\n        altText: 'เลือกเวลา',\n        template: {\n          type: 'buttons',\n          text: \\`เลือกเวลาสำหรับวันที่ \\${collectedData.selectedDate}\\`,\n          actions: [\n            {\n              type: 'datetimepicker',\n              label: '9:00-12:00',\n              data: JSON.stringify({\n                action: 'confirm_booking',\n                date: collectedData.selectedDate,\n                time: '09:00-12:00',\n                vaccine_type: routing.vaccine_type\n              }),\n              mode: 'time'\n            },\n            {\n              type: 'datetimepicker', \n              label: '13:00-16:00',\n              data: JSON.stringify({\n                action: 'confirm_booking',\n                date: collectedData.selectedDate,\n                time: '13:00-16:00',\n                vaccine_type: routing.vaccine_type\n              }),\n              mode: 'time'\n            },\n            {\n              type: 'message',\n              label: 'เลือกวันใหม่',\n              text: 'เลือกวันใหม่'\n            }\n          ]\n        }\n      };\n    } else {\n      // ยังไม่มีวันที่ -> แสดง Date Picker\n      response = {\n        type: 'template',\n        altText: 'เลือกวันที่จอง',\n        template: {\n          type: 'buttons',\n          text: \"จองวัคซีน \" + routing.vaccine_type.toUpperCase() + \"\\\\nกรุณาเลือกวันที่\",\n          actions: [\n            { \n              type: 'datetimepicker', \n              label: 'เลือกวันที่', \n              data: JSON.stringify({\n                action: 'collect_date',\n                vaccine_type: routing.vaccine_type\n              }),\n              mode: 'date'\n            },\n            { \n              type: 'postback', \n              label: 'ดูข้อมูลเพิ่ม', \n              data: JSON.stringify({\n                action: 'view_info',\n                type: routing.vaccine_type\n              })\n            },\n            { \n              type: 'message', \n              label: 'ยกเลิก', \n              text: 'ยกเลิก' \n            }\n          ]\n        }\n      };\n    }\n    break;\n\n  case 'confirm_booking':\n    // บันทึกข้อมูลการจอง\n    if (collectedData.selectedDate && collectedData.selectedTime) {\n      const bookingId = 'BK' + Date.now();\n      systemData.userBookings[userId] = {\n        id: bookingId,\n        vaccineType: routing.vaccine_type || collectedData.vaccine_type,\n        date: collectedData.selectedDate,\n        time: collectedData.selectedTime,\n        status: 'confirmed',\n        createdAt: new Date().toISOString()\n      };\n      \n      // Update available slots\n      if (systemData.vaccineSlots[collectedData.selectedDate]) {\n        systemData.vaccineSlots[collectedData.selectedDate].booked += 1;\n      }\n      \n      response = {\n        type: 'flex',\n        altText: 'การจองสำเร็จ',\n        contents: {\n          type: 'bubble',\n          body: {\n            type: 'box',\n            layout: 'vertical',\n            contents: [\n              {\n                type: 'text',\n                text: '✅ จองสำเร็จ!',\n                weight: 'bold',\n                size: 'xl',\n                color: '#1DB446'\n              },\n              {\n                type: 'text',\n                text: \\`รหัสการจอง: \\${bookingId}\\`,\n                margin: 'md',\n                color: '#666666'\n              },\n              {\n                type: 'separator',\n                margin: 'xl'\n              },\n              {\n                type: 'box',\n                layout: 'vertical',\n                margin: 'xl',\n                spacing: 'sm',\n                contents: [\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'วัคซีน', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: (routing.vaccine_type || collectedData.vaccine_type).toUpperCase(), wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  },\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'วันที่', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: collectedData.selectedDate, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  },\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'เวลา', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: collectedData.selectedTime, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  }\n                ]\n              }\n            ]\n          },\n          footer: {\n            type: 'box',\n            layout: 'vertical',\n            spacing: 'sm',\n            contents: [\n              {\n                type: 'button',\n                style: 'primary',\n                action: {\n                  type: 'postback',\n                  label: 'ดูรายละเอียด',\n                  data: JSON.stringify({ action: 'view_booking', booking_id: bookingId })\n                }\n              }\n            ]\n          }\n        }\n      };\n    }\n    break;\n\n  case 'cancel_booking':\n    const userBooking = systemData.userBookings[userId];\n    if (userBooking) {\n      response = {\n        type: 'template',\n        altText: 'ยืนยันการยกเลิก',\n        template: {\n          type: 'confirm',\n          text: \"ยกเลิกการจองรหัส \" + userBooking.id + \"?\\\\nวัคซีน: \" + userBooking.vaccineType + \"\\\\nวันที่: \" + userBooking.date,\n          actions: [\n            {\n              type: 'postback',\n              label: 'ยืนยันยกเลิก',\n              data: JSON.stringify({ action: 'confirm_cancel', booking_id: userBooking.id })\n            },\n            {\n              type: 'message',\n              label: 'ไม่ยกเลิก',\n              text: 'ไม่ยกเลิก'\n            }\n          ]\n        }\n      };\n    } else {\n      response = {\n        type: 'text',\n        text: 'ไม่พบการจองของคุณ กรุณาตรวจสอบอีกครั้ง'\n      };\n    }\n    break;\n\n  case 'check_status':\n    const booking = systemData.userBookings[userId];\n    if (booking) {\n      response = {\n        type: 'flex',\n        altText: 'สถานะการจอง',\n        contents: {\n          type: 'bubble',\n          body: {\n            type: 'box',\n            layout: 'vertical',\n            contents: [\n              {\n                type: 'text',\n                text: 'สถานะการจอง',\n                weight: 'bold',\n                size: 'xl',\n                color: '#1DB446'\n              },\n              {\n                type: 'text',\n                text: \\`รหัส: \\${booking.id}\\`,\n                margin: 'md',\n                color: '#666666'\n              },\n              {\n                type: 'separator',\n                margin: 'xl'\n              },\n              {\n                type: 'box',\n                layout: 'vertical',\n                margin: 'xl',\n                spacing: 'sm',\n                contents: [\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'วัคซีน', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: booking.vaccineType.toUpperCase(), wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  },\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'วันที่', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: booking.date, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  },\n                  {\n                    type: 'box',\n                    layout: 'baseline',\n                    spacing: 'sm',\n                    contents: [\n                      { type: 'text', text: 'สถานะ', color: '#aaaaaa', size: 'sm', flex: 1 },\n                      { type: 'text', text: booking.status === 'confirmed' ? '✅ ยืนยันแล้ว' : booking.status, wrap: true, color: '#666666', size: 'sm', flex: 3 }\n                    ]\n                  }\n                ]\n              }\n            ]\n          },\n          footer: {\n            type: 'box',\n            layout: 'vertical',\n            spacing: 'sm',\n            contents: [\n              {\n                type: 'button',\n                style: 'secondary',\n                action: {\n                  type: 'postback',\n                  label: 'ยกเลิกการจอง',\n                  data: JSON.stringify({ action: 'cancel_booking' })\n                }\n              }\n            ]\n          }\n        }\n      };\n    } else {\n      response = {\n        type: 'text',\n        text: 'คุณยังไม่มีการจองวัคซีน กรุณาเลือกวัคซีนที่ต้องการจองจากเมนูด้านล่าง',\n        quickReply: {\n          items: [\n            {\n              type: 'action',\n              action: {\n                type: 'postback',\n                label: 'ดูเมนูวัคซีน',\n                data: JSON.stringify({ action: 'show_menu' })\n              }\n            }\n          ]\n        }\n      };\n    }\n    break;\n\n  case 'checkin':\n    // เช็คอิน - เก็บข้อมูลการมาถึง\n    const checkinId = 'CI' + Date.now();\n    systemData.checkinRecords[userId] = {\n      id: checkinId,\n      userId: userId,\n      checkinTime: new Date().toISOString(),\n      status: 'checked_in',\n      appointment: systemData.userBookings[userId] || null\n    };\n    \n    response = {\n      type: 'flex',\n      altText: 'เช็คอินสำเร็จ',\n      contents: {\n        type: 'bubble',\n        body: {\n          type: 'box',\n          layout: 'vertical',\n          contents: [\n            {\n              type: 'text',\n              text: \"✅ เช็คอินสำเร็จ \" + (displayName || \"คุณ\") + \"!\",\n              weight: 'bold',\n              size: 'xl',\n              color: '#1DB446'\n            },\n            {\n              type: 'text',\n              text: \\`รหัสเช็คอิน: \\${checkinId}\\`,\n              margin: 'md',\n              color: '#666666'\n            },\n            {\n              type: 'text',\n              text: \\`เวลา: \\${new Date().toLocaleString('th-TH')}\\`,\n              margin: 'sm',\n              color: '#666666',\n              size: 'sm'\n            },\n            {\n              type: 'separator',\n              margin: 'xl'\n            },\n            {\n              type: 'text',\n              text: 'กรุณารอคิวและติดตามประกาศ',\n              margin: 'xl',\n              color: '#FF5555',\n              weight: 'bold'\n            }\n          ]\n        },\n        footer: {\n          type: 'box',\n          layout: 'vertical',\n          spacing: 'sm',\n          contents: [\n            {\n              type: 'button',\n              style: 'primary',\n              action: {\n                type: 'postback',\n                label: 'ดูสถานะคิว',\n                data: JSON.stringify({ action: 'check_queue' })\n              }\n            }\n          ]\n        }\n      }\n    };\n    break;\n\n  case 'record_appointment':\n    // บันทึกนัดหมาย/ชื่อวัคซีน\n    response = {\n      type: 'flex',\n      altText: 'บันทึกนัดหมาย',\n      contents: {\n        type: 'bubble',\n        body: {\n          type: 'box',\n          layout: 'vertical',\n          contents: [\n            {\n              type: 'text',\n              text: '📝 บันทึกนัดหมาย',\n              weight: 'bold',\n              size: 'xl',\n              color: '#1DB446'\n            },\n            {\n              type: 'text',\n              text: 'เลือกประเภทการบันทึก',\n              wrap: true,\n              margin: 'md'\n            }\n          ]\n        },\n        footer: {\n          type: 'box',\n          layout: 'vertical',\n          spacing: 'sm',\n          contents: [\n            {\n              type: 'button',\n              style: 'primary',\n              action: {\n                type: 'postback',\n                label: 'บันทึกนัดหมายใหม่',\n                data: JSON.stringify({ action: 'new_appointment_record' })\n              }\n            },\n            {\n              type: 'button',\n              style: 'secondary',\n              action: {\n                type: 'postback',\n                label: 'บันทึกชื่อวัคซีน',\n                data: JSON.stringify({ action: 'record_vaccine_name' })\n              }\n            },\n            {\n              type: 'button',\n              style: 'secondary',\n              action: {\n                type: 'postback',\n                label: 'ดูประวัติการบันทึก',\n                data: JSON.stringify({ action: 'view_records' })\n              }\n            }\n          ]\n        }\n      }\n    };\n    break;\n\n  case 'hospital_info':\n    // ข้อมูลโรงพยาบาล\n    response = {\n      type: 'flex',\n      altText: 'ข้อมูลโรงพยาบาล',\n      contents: {\n        type: 'bubble',\n        hero: {\n          type: 'image',\n          url: 'https://via.placeholder.com/300x200/1DB446/FFFFFF?text=HOSPITAL',\n          size: 'full',\n          aspectRatio: '20:13',\n          aspectMode: 'cover'\n        },\n        body: {\n          type: 'box',\n          layout: 'vertical',\n          contents: [\n            {\n              type: 'text',\n              text: '🏥 โรงพยาบาลเครือข่าย',\n              weight: 'bold',\n              size: 'xl',\n              color: '#1DB446'\n            },\n            {\n              type: 'separator',\n              margin: 'xl'\n            },\n            {\n              type: 'box',\n              layout: 'vertical',\n              margin: 'xl',\n              spacing: 'sm',\n              contents: [\n                {\n                  type: 'box',\n                  layout: 'baseline',\n                  spacing: 'sm',\n                  contents: [\n                    { type: 'text', text: '📍', color: '#1DB446', size: 'sm', flex: 0 },\n                    { type: 'text', text: 'ที่อยู่', color: '#aaaaaa', size: 'sm', flex: 1 },\n                    { type: 'text', text: '123 ถนนสุขภาพ เขตดีเจ กรุงเทพฯ 10400', wrap: true, color: '#666666', size: 'sm', flex: 4 }\n                  ]\n                },\n                {\n                  type: 'box',\n                  layout: 'baseline',\n                  spacing: 'sm',\n                  contents: [\n                    { type: 'text', text: '⏰', color: '#1DB446', size: 'sm', flex: 0 },\n                    { type: 'text', text: 'เวลา', color: '#aaaaaa', size: 'sm', flex: 1 },\n                    { type: 'text', text: 'จันทร์-ศุกร์ 8:00-20:00\\\\nเสาร์-อาทิตย์ 9:00-17:00', wrap: true, color: '#666666', size: 'sm', flex: 4 }\n                  ]\n                },\n                {\n                  type: 'box',\n                  layout: 'baseline',\n                  spacing: 'sm',\n                  contents: [\n                    { type: 'text', text: '📞', color: '#1DB446', size: 'sm', flex: 0 },\n                    { type: 'text', text: 'โทร', color: '#aaaaaa', size: 'sm', flex: 1 },\n                    { type: 'text', text: '02-123-4567', wrap: true, color: '#666666', size: 'sm', flex: 4 }\n                  ]\n                },\n                {\n                  type: 'box',\n                  layout: 'baseline',\n                  spacing: 'sm',\n                  contents: [\n                    { type: 'text', text: '🚗', color: '#1DB446', size: 'sm', flex: 0 },\n                    { type: 'text', text: 'จอดรถ', color: '#aaaaaa', size: 'sm', flex: 1 },\n                    { type: 'text', text: 'มีที่จอดรถฟรี 200 คัน', wrap: true, color: '#666666', size: 'sm', flex: 4 }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        footer: {\n          type: 'box',\n          layout: 'vertical',\n          spacing: 'sm',\n          contents: [\n            {\n              type: 'button',\n              style: 'primary',\n              action: {\n                type: 'uri',\n                label: 'เปิดแผนที่',\n                uri: 'https://maps.google.com/?q=โรงพยาบาล'\n              }\n            },\n            {\n              type: 'button',\n              style: 'secondary',\n              action: {\n                type: 'uri',\n                label: 'โทรติดต่อ',\n                uri: 'tel:021234567'\n              }\n            }\n          ]\n        }\n      }\n    };\n    break;\n\n  case 'general_info':\n    response = {\n      type: 'flex',\n      altText: 'เมนูหลัก - เลือกบริการ',\n      contents: {\n        type: 'bubble',\n        body: {\n          type: 'box',\n          layout: 'vertical',\n          contents: [\n            {\n              type: 'text',\n              text: 'ระบบจองวัคซีน 💉',\n              weight: 'bold',\n              size: 'xl',\n              color: '#1DB446'\n            },\n            {\n              type: 'text',\n              text: 'เลือกบริการที่ต้องการ',\n              wrap: true,\n              margin: 'md',\n              color: '#666666'\n            }\n          ]\n        },\n        footer: {\n          type: 'box',\n          layout: 'vertical',\n          spacing: 'sm',\n          contents: [\n            {\n              type: 'button',\n              style: 'primary',\n              action: {\n                type: 'postback',\n                label: '✅ เช็คอิน',\n                data: JSON.stringify({ action: 'checkin' })\n              }\n            },\n            {\n              type: 'button',\n              style: 'secondary',\n              action: {\n                type: 'postback',\n                label: '📝 บันทึกนัดหมาย/วัคซีน',\n                data: JSON.stringify({ action: 'record_appointment' })\n              }\n            },\n            {\n              type: 'button',\n              style: 'secondary',\n              action: {\n                type: 'postback',\n                label: '🏥 ข้อมูลโรงพยาบาล',\n                data: JSON.stringify({ action: 'hospital_info' })\n              }\n            },\n            {\n              type: 'button',\n              style: 'link',\n              action: {\n                type: 'postback',\n                label: 'ดูเมนูวัคซีน',\n                data: JSON.stringify({ action: 'show_menu' })\n              }\n            }\n          ]\n        }\n      }\n    };\n    break;\n\n  default:\n    response = {\n      type: 'text',\n      text: 'ขออภัย ไม่เข้าใจคำสั่ง กรุณาเลือกจากเมนูด้านล่าง',\n      quickReply: {\n        items: [\n          {\n            type: 'action',\n            action: {\n              type: 'postback',\n              label: 'เมนูหลัก',\n              data: JSON.stringify({ action: 'show_menu' })\n            }\n          }\n        ]\n      }\n    };\n}\n\n// บันทึกข้อมูลกลับไปยัง node context\ntry {\n  $node.context().set(nodeKey, systemData);\n} catch (e) {\n  console.error('Cannot save data to context:', e);\n}\n\n$json.lineResponse = response;\n$json.processedBy = 'rich-menu-response-generator';\n$json.savedData = systemData.userBookings[userId] || null;\n\nreturn $input.all();`\n      },\n      {\n        id: 'context-manager',\n        name: 'Context Manager',\n        type: 'context-manager',\n        description: 'จัดการ user context และ session state',\n        replaces: ['Multiple Set Nodes'],\n        code: `// Context Manager - จัดการ User Session (Fixed)\nconst { routing, userId } = $json;\n\n// ใช้ node context แทน getWorkflowStaticData  \nconst nodeKey = 'user_sessions_data';\nlet sessionData = {};\n\ntry {\n  const existingData = $node.context().get(nodeKey);\n  sessionData = existingData || {};\n} catch (e) {\n  sessionData = {};\n}\n\n// จัดการ User Context\nif (!sessionData.userSessions) sessionData.userSessions = {};\nif (!sessionData.userSessions[userId]) {\n  sessionData.userSessions[userId] = {\n    currentFlow: null,\n    data: {},\n    history: [],\n    preferences: {},\n    lastActivity: new Date().toISOString()\n  };\n}\n\nconst userSession = sessionData.userSessions[userId];\n\n// Update Context based on AI Routing\nswitch(routing.action) {\n  case 'book_appointment':\n    userSession.currentFlow = 'booking';\n    userSession.data.vaccineType = routing.vaccine_type;\n    userSession.data.step = 'select_date';\n    userSession.data.confidence = routing.intent_confidence;\n    break;\n    \n  case 'cancel_booking':\n    userSession.currentFlow = 'cancellation';\n    userSession.data.step = 'confirm_cancel';\n    break;\n    \n  case 'vaccine_info':\n    userSession.currentFlow = 'information';\n    userSession.data.viewedVaccines = userSession.data.viewedVaccines || [];\n    if (!userSession.data.viewedVaccines.includes(routing.vaccine_type)) {\n      userSession.data.viewedVaccines.push(routing.vaccine_type);\n    }\n    break;\n    \n  case 'check_status':\n    userSession.currentFlow = 'status_check';\n    break;\n}\n\n// เก็บประวัติ (เก็บ 10 รายการล่าสุด)\nuserSession.history.push({\n  input: $json.originalInput,\n  routing: routing,\n  timestamp: new Date().toISOString(),\n  confidence: routing.intent_confidence\n});\n\nif (userSession.history.length > 10) {\n  userSession.history = userSession.history.slice(-10);\n}\n\n// Update last activity\nuserSession.lastActivity = new Date().toISOString();\n\n// ตรวจสอบและทำความสะอาด old sessions (เก็บ 24 ชั่วโมง)\nconst now = new Date();\nObject.keys(sessionData.userSessions).forEach(sessionUserId => {\n  const session = sessionData.userSessions[sessionUserId];\n  const lastActivity = new Date(session.lastActivity);\n  const hoursDiff = (now.getTime() - lastActivity.getTime()) / (1000 * 60 * 60);\n  \n  if (hoursDiff > 24) {\n    delete sessionData.userSessions[sessionUserId];\n  }\n});\n\n// Set user preferences based on behavior\nif (userSession.history.length >= 3) {\n  const recentActions = userSession.history.slice(-3).map(h => h.routing.action);\n  const mostCommonAction = recentActions.reduce((a, b, _, arr) => \n    arr.filter(v => v === a).length >= arr.filter(v => v === b).length ? a : b\n  );\n  userSession.preferences.preferredAction = mostCommonAction;\n}\n\n// Determine next action\nlet nextAction = 'continue';\nif (routing.action === 'book_appointment' && routing.intent_confidence < 0.6) {\n  nextAction = 'clarify_vaccine_type';\n} else if (routing.action === 'general_info' && routing.intent_confidence < 0.5) {\n  nextAction = 'show_menu';\n} else if (userSession.currentFlow === 'booking' && userSession.data.step === 'select_date') {\n  nextAction = 'handle_date_selection';\n}\n\n// บันทึกข้อมูล session กลับไปยัง context\ntry {\n  $node.context().set(nodeKey, sessionData);\n} catch (e) {\n  console.error('Cannot save session data:', e);\n}\n\n$json.userSession = userSession;\n$json.nextAction = nextAction;\n$json.sessionStats = {\n  totalUsers: Object.keys(sessionData.userSessions).length,\n  currentUserHistory: userSession.history.length,\n  userPreferences: userSession.preferences\n};\n\nreturn $input.all();`\n      }\n    ];\n\n    // สร้าง Complete n8n Workflow JSON พร้อม HTTP Request\n    const completeWorkflow = {\n      name: 'Smart Routing Vaccine Booking Workflow (HTTP Version)',\n      nodes: [\n        {\n          parameters: {\n            httpMethod: 'POST',\n            path: 'vaccine-webhook',\n            options: {}\n          },\n          id: 'webhook-node',\n          name: 'Webhook',\n          type: 'n8n-nodes-base.webhook',\n          typeVersion: 1,\n          position: [240, 300],\n          webhookId: 'webhook-id'\n        },\n        {\n          parameters: {\n            jsCode: routingNodes[0].code\n          },\n          id: 'input-processor-node', \n          name: 'Input Processor',\n          type: 'n8n-nodes-base.code',\n          typeVersion: 2,\n          position: [460, 300]\n        },\n        {\n          parameters: {\n            url: 'https://api.openai.com/v1/chat/completions',\n            method: 'POST',\n            authentication: 'predefinedCredentialType',\n            nodeCredentialType: 'openAiApi',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: '={{ JSON.stringify($json.openai_request) }}',\n            options: {\n              timeout: 15000,\n              response: {\n                response: {\n                  neverError: true,\n                  responseFormat: 'json'\n                }\n              },\n              redirect: {\n                redirect: {\n                  followRedirect: false,\n                  maxRedirect: 0\n                }\n              }\n            }\n          },\n          id: 'openai-http-node',\n          name: 'OpenAI HTTP Request (with Credentials)',\n          type: 'n8n-nodes-base.httpRequest',\n          typeVersion: 4,\n          position: [680, 300]\n        },\n        {\n            parameters: {\n            jsCode: `// AI Response Processor with Robust Error Handling\ntry {\n  const httpResponse = $json;\n  let routing = {};\n  \n  // ตรวจสอบ HTTP status และ response structure\n  if (httpResponse.statusCode && httpResponse.statusCode !== 200) {\n    console.warn('OpenAI API returned non-200 status:', httpResponse.statusCode);\n    throw new Error(\\`API returned status: \\${httpResponse.statusCode}\\`);\n  }\n  \n  // ตรวจสอบ response structure\n  if (!httpResponse.choices || !httpResponse.choices[0] || !httpResponse.choices[0].message) {\n    throw new Error('Invalid OpenAI API response format');\n  }\n  \n  // Parse AI response with validation\n  try {\n    routing = JSON.parse(httpResponse.choices[0].message.content);\n  } catch (parseError) {\n    // ถ้า JSON ไม่ถูกต้อง ใช้ fallback\n    routing = {\n      action: 'general_info',\n      vaccine_type: 'covid',\n      intent_confidence: 0.3,\n      required_data: [],\n      response_type: 'text'\n    };\n  }\n  \n  // Validate routing object\n  if (!routing.action) {\n    routing.action = 'general_info';\n  }\n  if (!routing.intent_confidence || routing.intent_confidence < 0 || routing.intent_confidence > 1) {\n    routing.intent_confidence = 0.5;\n  }\n  \n  // Combine with previous data\n  $json.routing = routing;\n  $json.userId = $('Input Processor').item.json.userId;\n  $json.originalInput = $('Input Processor').item.json.originalInput;\n  $json.userMessage = $('Input Processor').item.json.userMessage;\n  $json.timestamp = $('Input Processor').item.json.timestamp;\n  $json.apiSuccess = true;\n  \n} catch (error) {\n  // Error handling - ใช้ fallback routing\n  console.error('OpenAI API Error:', error);\n  \n  $json.routing = {\n    action: 'general_info',\n    vaccine_type: 'covid',\n    intent_confidence: 0.2,\n    required_data: [],\n    response_type: 'text',\n    error: true\n  };\n  $json.userId = $('Input Processor').item.json.userId;\n  $json.originalInput = $('Input Processor').item.json.originalInput;\n  $json.userMessage = $('Input Processor').item.json.userMessage;\n  $json.timestamp = $('Input Processor').item.json.timestamp;\n  $json.apiSuccess = false;\n  $json.errorMessage = error.message;\n}\n\nreturn $input.all();`\n          },\n          id: 'ai-response-processor-node',\n          name: 'AI Response Processor',\n          type: 'n8n-nodes-base.code',\n          typeVersion: 2,\n          position: [900, 300]\n        },\n        {\n          parameters: {\n            jsCode: routingNodes[2].code\n          },\n          id: 'context-manager-node',\n          name: 'Context Manager', \n          type: 'n8n-nodes-base.code',\n          typeVersion: 2,\n          position: [1120, 300]\n        },\n        {\n          parameters: {\n            jsCode: routingNodes[1].code\n          },\n          id: 'response-generator-node',\n          name: 'Dynamic Response Generator',\n          type: 'n8n-nodes-base.code', \n          typeVersion: 2,\n          position: [1340, 300]\n        },\n        {\n          parameters: {\n            authentication: 'lineNotifyOAuth2Api',\n            resource: 'message',\n            operation: 'send',\n            message: '={{ $json.lineResponse }}'\n          },\n          id: 'line-response-node',\n          name: 'LINE Response',\n          type: 'n8n-nodes-base.line',\n          typeVersion: 1,\n          position: [1560, 300]\n        }\n      ],\n      connections: {\n        'Webhook': {\n          main: [\n            [\n              {\n                node: 'Input Processor',\n                type: 'main',\n                index: 0\n              }\n            ]\n          ]\n        },\n        'Input Processor': {\n          main: [\n            [\n              {\n                node: 'OpenAI HTTP Request (with Credentials)',\n                type: 'main',\n                index: 0\n              }\n            ]\n          ]\n        },\n        'OpenAI HTTP Request (with Credentials)': {\n          main: [\n            [\n              {\n                node: 'AI Response Processor',\n                type: 'main',\n                index: 0\n              }\n            ]\n          ]\n        },\n        'AI Response Processor': {\n          main: [\n            [\n              {\n                node: 'Context Manager',\n                type: 'main',\n                index: 0\n              }\n            ]\n          ]\n        },\n        'Context Manager': {\n          main: [\n            [\n              {\n                node: 'Dynamic Response Generator',\n                type: 'main',\n                index: 0\n              }\n            ]\n          ]\n        },\n        'Dynamic Response Generator': {\n          main: [\n            [\n              {\n                node: 'LINE Response',\n                type: 'main',\n                index: 0\n              }\n            ]\n          ]\n        }\n      },\n      active: false,\n      settings: {\n        executionOrder: 'v1'\n      },\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      id: 'smart-routing-workflow-http',\n      tags: []\n    };\n\n    // เพิ่ม workflow JSON ให้กับแต่ละ node\n    routingNodes.forEach(node => {\n      node.workflowJSON = completeWorkflow;\n    });\n\n    setGeneratedNodes(routingNodes);\n  };\n\n  const copyToClipboard = async (code: string, nodeId: string) => {\n    try {\n      // Try modern clipboard API first\n      if (navigator.clipboard && window.isSecureContext) {\n        await navigator.clipboard.writeText(code);\n      } else {\n        // Fallback for older browsers or non-secure contexts\n        const textArea = document.createElement('textarea');\n        textArea.value = code;\n        textArea.style.position = 'fixed';\n        textArea.style.left = '-999999px';\n        textArea.style.top = '-999999px';\n        document.body.appendChild(textArea);\n        textArea.focus();\n        textArea.select();\n        document.execCommand('copy');\n        textArea.remove();\n      }\n      \n      setCopiedNodeId(nodeId);\n      setTimeout(() => setCopiedNodeId(null), 2000);\n      \n      toast({\n        title: \"คัดลอกสำเร็จ\",\n        description: \"โค้ดถูกคัดลอกไปยัง clipboard แล้ว\",\n      });\n    } catch (err) {\n      console.error('Failed to copy: ', err);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถคัดลอกได้ กรุณาลองใช้ปุ่มดาวน์โหลดแทน\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const downloadAsFile = (code: string, filename: string) => {\n    const blob = new Blob([code], { type: 'text/javascript' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${filename}.js`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const downloadWorkflowJSON = (workflowJSON: any) => {\n    const blob = new Blob([JSON.stringify(workflowJSON, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'smart-routing-workflow.json';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    \n    toast({\n      title: \"ดาวน์โหลดสำเร็จ\",\n      description: \"ไฟล์ workflow JSON ถูกดาวน์โหลดแล้ว สามารถ import เข้า n8n ได้เลย\",\n    });\n  };\n\n  const getNodeIcon = (type: string) => {\n    switch (type) {\n      case 'ai-router': return <Bot className=\"w-4 h-4\" />;\n      case 'response-generator': return <Zap className=\"w-4 h-4\" />;\n      case 'context-manager': return <Settings className=\"w-4 h-4\" />;\n      default: return <Code className=\"w-4 h-4\" />;\n    }\n  };\n\n  const getNodeColor = (type: string) => {\n    switch (type) {\n      case 'ai-router': return 'bg-blue-500';\n      case 'response-generator': return 'bg-green-500';\n      case 'context-manager': return 'bg-purple-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Bot className=\"w-5 h-5\" />\n            Smart Routing Generator\n          </CardTitle>\n          <CardDescription>\n            สร้างโค้ด AI Smart Routing เพื่อแทนที่ Switch nodes และปรับปรุงประสิทธิภาพ workflow\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {workflowNodes.length === 0 ? (\n            <Alert>\n              <AlertDescription>\n                กรุณาวิเคราะห์ workflow ก่อนเพื่อดู nodes ที่สามารถแทนที่ด้วย Smart Routing ได้\n              </AlertDescription>\n            </Alert>\n          ) : (\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">\n                    พบ {workflowNodes.filter(n => n.type === 'n8n-nodes-base.switch').length} Switch nodes ที่สามารถแทนที่ได้\n                  </p>\n                </div>\n                <Button onClick={generateSmartRouting} className=\"flex items-center gap-2\">\n                  <Zap className=\"w-4 h-4\" />\n                  สร้าง Smart Routing\n                </Button>\n              </div>\n\n              {generatedNodes.length > 0 && (\n                <div className=\"space-y-3\">\n                  <Alert className=\"border-green-200 bg-green-50\">\n                    <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                    <AlertDescription className=\"text-green-700\">\n                      สร้าง Smart Routing สำเร็จ! ดาวน์โหลด Workflow JSON เพื่อ import เข้า n8n โดยตรง\n                    </AlertDescription>\n                  </Alert>\n                  \n                  <div className=\"flex gap-2\">\n                    <Button \n                      onClick={() => downloadWorkflowJSON(generatedNodes[0].workflowJSON)}\n                      className=\"flex items-center gap-2\"\n                      variant=\"default\"\n                    >\n                      <FileDown className=\"w-4 h-4\" />\n                      ดาวน์โหลด Complete Workflow (JSON)\n                    </Button>\n                    <Button \n                      onClick={() => copyToClipboard(JSON.stringify(generatedNodes[0].workflowJSON, null, 2), 'workflow-json')}\n                      variant=\"outline\"\n                      className=\"flex items-center gap-2\"\n                    >\n                      {copiedNodeId === 'workflow-json' ? (\n                        <CheckCircle className=\"w-4 h-4\" />\n                      ) : (\n                        <Copy className=\"w-4 h-4\" />\n                      )}\n                      {copiedNodeId === 'workflow-json' ? 'คัดลอกแล้ว' : 'คัดลอก JSON'}\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {generatedNodes.length > 0 && (\n        <div className=\"space-y-6\">\n          <div className=\"grid gap-4 md:grid-cols-3\">\n            {generatedNodes.map((node) => (\n              <Card key={node.id} className=\"border-l-4\" style={{ borderLeftColor: getNodeColor(node.type).replace('bg-', '') }}>\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-start gap-3\">\n                    <div className={`p-2 rounded-md text-white ${getNodeColor(node.type)}`}>\n                      {getNodeIcon(node.type)}\n                    </div>\n                    <div className=\"flex-1\">\n                      <CardTitle className=\"text-lg\">{node.name}</CardTitle>\n                      <CardDescription className=\"text-sm mt-1\">\n                        {node.description}\n                      </CardDescription>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"pt-0 space-y-3\">\n                  {node.replaces.length > 0 && (\n                    <div>\n                      <h5 className=\"font-medium text-sm mb-2\">แทนที่:</h5>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {node.replaces.map((replaced, index) => (\n                          <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                            {replaced}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                  \n                  <Separator />\n                  \n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <h5 className=\"font-medium text-sm\">Code สำหรับ n8n:</h5>\n                      <div className=\"flex gap-2\">\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => copyToClipboard(node.code, node.id)}\n                          className=\"flex items-center gap-1\"\n                        >\n                          {copiedNodeId === node.id ? (\n                            <CheckCircle className=\"w-3 h-3\" />\n                          ) : (\n                            <Copy className=\"w-3 h-3\" />\n                          )}\n                          {copiedNodeId === node.id ? 'คัดลอกแล้ว' : 'คัดลอก'}\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => downloadAsFile(node.code, node.id)}\n                          className=\"flex items-center gap-1\"\n                        >\n                          <Download className=\"w-3 h-3\" />\n                          ดาวน์โหลด\n                        </Button>\n                      </div>\n                    </div>\n                    <Textarea\n                      value={node.code}\n                      readOnly\n                      className=\"font-mono text-xs h-32 bg-muted\"\n                    />\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <ArrowRight className=\"w-5 h-5\" />\n                วิธีใช้งาน Smart Routing\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div className=\"space-y-3\">\n                  <h4 className=\"font-semibold\">1. เตรียม Environment Variables</h4>\n                  <div className=\"bg-muted p-3 rounded-md\">\n                    <code className=\"text-sm\">\n                      OPENAI_API_KEY=your_openai_api_key\n                    </code>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-3\">\n                  <h4 className=\"font-semibold\">2. สร้าง Code Nodes</h4>\n                  <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                    <li>• สร้าง Code node ชื่อ \"AI Smart Router\"</li>\n                    <li>• สร้าง Code node ชื่อ \"Dynamic Response Generator\"</li>\n                    <li>• สร้าง Code node ชื่อ \"Context Manager\"</li>\n                  </ul>\n                </div>\n                \n                <div className=\"space-y-3\">\n                  <h4 className=\"font-semibold\">3. เชื่อมต่อกับ Nodes เดิม</h4>\n                  <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                    <li>• Smart Router → Database Nodes เดิม</li>\n                    <li>• Response Generator → LINE Response เดิม</li>\n                    <li>• Context Manager → HTTP Request เดิม</li>\n                    <li>• ใช้ Merge Node เพื่อรวม flow เดิมและใหม่</li>\n                  </ul>\n                </div>\n                \n                <div className=\"space-y-3\">\n                  <h4 className=\"font-semibold\">4. ลบ Switch Nodes เก่า</h4>\n                  <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                    <li>• ลบ Switch nodes ที่ไม่ใช้แล้ว</li>\n                    <li>• ลบ Static response nodes</li>\n                    <li>• ทดสอบ workflow ใหม่</li>\n                  </ul>\n                </div>\n              </div>\n              \n                <Alert>\n                <CheckCircle className=\"w-4 h-4\" />\n                <AlertDescription>\n                  <strong>Integration กับ Flow เดิม:</strong> สามารถเชื่อมต่อกับ Database, HTTP Request, และ LINE nodes เดิมได้ทั้งหมด โดยใช้ Merge Node หรือแทนที่ Switch nodes โดยตรง\n                </AlertDescription>\n              </Alert>\n              \n              <div className=\"bg-blue-50 border border-blue-200 p-4 rounded-md\">\n                <h4 className=\"font-semibold text-blue-800 mb-2\">🔄 วิธี Migration ที่แนะนำ:</h4>\n                <ol className=\"text-sm text-blue-700 space-y-1\">\n                  <li>1. <strong>Backup</strong> workflow เดิมก่อน</li>\n                  <li>2. <strong>Import</strong> Smart Routing workflow ใหม่</li>\n                  <li>3. <strong>Test</strong> ใน development environment</li>\n                  <li>4. <strong>Connect</strong> กับ nodes เดิมทีละส่วน</li>\n                  <li>5. <strong>Remove</strong> Switch nodes เดิมเมื่อแน่ใจแล้ว</li>\n                </ol>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SmartRoutingGenerator;","import { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Separator } from '@/components/ui/separator';\nimport { AlertTriangle, CheckCircle, XCircle, Info, Settings, Zap, MessageSquare, Database } from 'lucide-react';\nimport SmartRoutingGenerator from './SmartRoutingGenerator';\n\ninterface WorkflowNode {\n  id: string;\n  name: string;\n  type: string;\n  position: [number, number];\n  parameters?: any;\n  credentials?: any;\n}\n\ninterface WorkflowConnection {\n  [nodeId: string]: {\n    main: { node: string; type: string; index: number }[][];\n  };\n}\n\ninterface WorkflowData {\n  nodes: WorkflowNode[];\n  connections: WorkflowConnection;\n}\n\ninterface Issue {\n  type: 'error' | 'warning' | 'info';\n  title: string;\n  description: string;\n  nodeId?: string;\n  solution: string;\n}\n\nconst WorkflowAnalyzer = () => {\n  const [workflowData, setWorkflowData] = useState<WorkflowData | null>(null);\n  const [issues, setIssues] = useState<Issue[]>([]);\n  const [jsonInput, setJsonInput] = useState('');\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n\n  const analyzeWorkflow = (data: WorkflowData): Issue[] => {\n    const foundIssues: Issue[] = [];\n    const nodeIds = new Set(data.nodes.map(node => node.id));\n    const connectedNodes = new Set<string>();\n\n    // ตรวจสอบ connections ที่มีปัญหา\n    Object.entries(data.connections).forEach(([nodeId, connections]) => {\n      if (connections.main) {\n        connections.main.forEach((outputConnections, outputIndex) => {\n          if (Array.isArray(outputConnections)) {\n            outputConnections.forEach(connection => {\n              connectedNodes.add(nodeId);\n              connectedNodes.add(connection.node);\n              \n              // ตรวจสอบว่า node ที่เชื่อมต่อมีอยู่จริงไหม\n              if (!nodeIds.has(connection.node)) {\n                foundIssues.push({\n                  type: 'error',\n                  title: 'Connection ชี้ไปยัง Node ที่ไม่มีอยู่',\n                  description: `Node \"${nodeId}\" พยายามเชื่อมต่อไปยัง node \"${connection.node}\" ที่ไม่มีอยู่ใน workflow`,\n                  nodeId,\n                  solution: 'ตรวจสอบและแก้ไข connection ที่เสียหายหรือลบ node ที่ไม่ใช้แล้ว'\n                });\n              }\n            });\n          }\n        });\n      }\n    });\n\n    // ตรวจสอบ isolated nodes\n    data.nodes.forEach(node => {\n      if (!connectedNodes.has(node.id) && node.type !== 'n8n-nodes-base.webhook') {\n        foundIssues.push({\n          type: 'warning',\n          title: 'Node แยกตัวออกมา (Isolated)',\n          description: `Node \"${node.name}\" (${node.id}) ไม่ได้เชื่อมต่อกับ node อื่นใด`,\n          nodeId: node.id,\n          solution: 'เชื่อมต่อ node นี้เข้ากับ workflow หรือลบออกหากไม่ต้องการใช้'\n        });\n      }\n    });\n\n    // ตรวจสอบ workflow structure issues\n    const webhookNodes = data.nodes.filter(node => node.type === 'n8n-nodes-base.webhook');\n    const switchNodes = data.nodes.filter(node => node.type === 'n8n-nodes-base.switch');\n    const httpNodes = data.nodes.filter(node => node.type === 'n8n-nodes-base.httpRequest');\n\n    // ตรวจสอบ Switch node ที่ไม่มี fallback\n    switchNodes.forEach(switchNode => {\n      const connections = data.connections[switchNode.id];\n      if (connections && connections.main) {\n        const outputCount = connections.main.filter(output => output && output.length > 0).length;\n        const totalRules = switchNode.parameters?.conditions?.conditions?.length || \n                          switchNode.parameters?.rules?.rules?.length || 0;\n        \n        // ตรวจสอบว่ามี fallback path หรือไม่ (output index สุดท้าย)\n        const hasFallback = connections.main.length > totalRules && \n                           connections.main[connections.main.length - 1]?.length > 0;\n        \n        if (!hasFallback && totalRules > 0) {\n          foundIssues.push({\n            type: 'warning',\n            title: 'Switch Node ไม่มี Fallback Path',\n            description: `Switch node \"${switchNode.name}\" มี ${totalRules} เงื่อนไข แต่ไม่มี fallback path สำหรับกรณีที่ไม่ตรงเงื่อนไขใดๆ`,\n            nodeId: switchNode.id,\n            solution: 'เพิ่ม fallback path โดยเชื่อมต่อ output ท้ายสุดของ Switch node เพื่อจัดการกรณีที่ไม่ตรงเงื่อนไข'\n          });\n        }\n      }\n    });\n\n    // ตรวจสอบ HTTP nodes ที่ไม่มี error handling\n    httpNodes.forEach(httpNode => {\n      const connections = data.connections[httpNode.id];\n      const hasErrorHandling = connections?.main && connections.main.length > 1 && \n                              connections.main[1]?.length > 0;\n      \n      // ตรวจสอบว่าเป็น critical API calls หรือไม่\n      const isCriticalAPI = httpNode.parameters?.url?.includes('api.line.me') ||\n                           httpNode.parameters?.url?.includes('openai.com') ||\n                           httpNode.name?.toLowerCase().includes('line') ||\n                           httpNode.name?.toLowerCase().includes('ai');\n      \n      if (!hasErrorHandling) {\n        foundIssues.push({\n          type: isCriticalAPI ? 'error' : 'warning',\n          title: 'HTTP Request ไม่มี Error Handling',\n          description: `HTTP node \"${httpNode.name}\" ${isCriticalAPI ? '(Critical API)' : ''} ไม่มีการจัดการ error กรณีที่ request ล้มเหลว`,\n          nodeId: httpNode.id,\n          solution: 'เพิ่ม error output และเชื่อมต่อไปยัง error handling nodes เช่น Set node สำหรับ log หรือ HTTP node สำหรับส่งการแจ้งเตือน'\n        });\n      }\n    });\n\n    // ตรวจสอบปัญหาเฉพาะของ LINE Bot\n    const hasWebhook = webhookNodes.length > 0;\n    const lineResponseNodes = data.nodes.filter(node => \n      node.name.toLowerCase().includes('line') || \n      (node.type === 'n8n-nodes-base.httpRequest' && \n       node.parameters?.url?.includes('api.line.me'))\n    );\n\n    // ตรวจสอบเฉพาะเมื่อมี webhook (เป็น chatbot workflow)\n    if (hasWebhook && lineResponseNodes.length === 0) {\n      foundIssues.push({\n        type: 'error',\n        title: 'ไม่พบ LINE Response Node',\n        description: 'Chatbot workflow ควรมี node สำหรับตอบกลับข้อความผ่าน LINE API',\n        solution: 'เพิ่ม HTTP Request node ที่เรียก https://api.line.me/v2/bot/message/reply พร้อม reply token และข้อความที่ต้องการส่ง'\n      });\n    }\n\n    // ตรวจสอบ LINE Reply Token\n    lineResponseNodes.forEach(lineNode => {\n      const hasReplyToken = lineNode.parameters?.bodyParametersJson?.includes('replyToken') ||\n                           lineNode.parameters?.body?.includes('replyToken') ||\n                           JSON.stringify(lineNode.parameters).includes('replyToken');\n      \n      if (!hasReplyToken) {\n        foundIssues.push({\n          type: 'error',\n          title: 'LINE Node ไม่มี Reply Token',\n          description: `LINE response node \"${lineNode.name}\" ไม่ได้ใช้ reply token ที่ได้จาก webhook`,\n          nodeId: lineNode.id,\n          solution: 'ใช้ reply token จาก webhook data ในรูปแบบ {{ $json[\"events\"][0][\"replyToken\"] }}'\n        });\n      }\n    });\n\n    // ตรวจสอบ AI Agent configuration\n    const aiNodes = data.nodes.filter(node => \n      node.type.includes('langchain') || \n      node.type.includes('openai') ||\n      node.name.toLowerCase().includes('ai') ||\n      node.name.toLowerCase().includes('gpt')\n    );\n    \n    aiNodes.forEach(aiNode => {\n      const hasPrompt = aiNode.parameters?.prompt || \n                       aiNode.parameters?.text ||\n                       aiNode.parameters?.message;\n      \n      if (!hasPrompt) {\n        foundIssues.push({\n          type: 'warning',\n          title: 'AI Agent ไม่มี Prompt',\n          description: `AI node \"${aiNode.name}\" ไม่ได้กำหนด prompt หรือ instruction ที่ชัดเจน`,\n          nodeId: aiNode.id,\n          solution: 'กำหนด prompt ที่ชัดเจน รวมถึง role, context และ instruction สำหรับ AI Agent'\n        });\n      }\n\n      // ตรวจสอบ API key configuration สำหรับ AI nodes\n      const hasApiKey = aiNode.parameters?.apiKey || \n                       aiNode.credentials ||\n                       aiNode.parameters?.authentication ||\n                       aiNode.parameters?.model;\n      \n      if (!hasApiKey && (aiNode.type.includes('openai') || aiNode.type.includes('langchain'))) {\n        foundIssues.push({\n          type: 'error',\n          title: 'AI Agent ไม่มี API Key',\n          description: `AI node \"${aiNode.name}\" ไม่ได้กำหนด API key หรือ credentials สำหรับการเชื่อมต่อ AI service`,\n          nodeId: aiNode.id,\n          solution: 'กำหนด API key ผ่าน credentials หรือ parameters ของ node ให้ตรงกับ AI service ที่ใช้'\n        });\n      }\n    });\n\n    // ตรวจสอบ Google Sheets logging\n    const sheetsNodes = data.nodes.filter(node => node.type === 'n8n-nodes-base.googleSheets');\n    sheetsNodes.forEach(sheetsNode => {\n      if (!sheetsNode.parameters?.documentId) {\n        foundIssues.push({\n          type: 'error',\n          title: 'Google Sheets ไม่ได้กำหนด Document ID',\n          description: `Google Sheets node \"${sheetsNode.name}\" ไม่ได้ระบุ spreadsheet ที่ต้องการใช้`,\n          nodeId: sheetsNode.id,\n          solution: 'กำหนด Google Sheets document ID และ sheet name ที่ถูกต้อง'\n        });\n      }\n    });\n\n    return foundIssues;\n  };\n\n  const handleAnalyze = () => {\n    setIsAnalyzing(true);\n    try {\n      const parsed = JSON.parse(jsonInput);\n      setWorkflowData(parsed);\n      const foundIssues = analyzeWorkflow(parsed);\n      setIssues(foundIssues);\n    } catch (error) {\n      setIssues([{\n        type: 'error',\n        title: 'JSON Format ไม่ถูกต้อง',\n        description: 'ไม่สามารถ parse JSON ได้ กรุณาตรวจสอบรูปแบบ JSON',\n        solution: 'ตรวจสอบ syntax JSON ให้ถูกต้อง เช่น การใช้ comma, brackets และ quotes'\n      }]);\n    }\n    setIsAnalyzing(false);\n  };\n\n  const getNodeTypeIcon = (type: string) => {\n    if (type.includes('webhook')) return <MessageSquare className=\"w-4 h-4\" />;\n    if (type.includes('switch')) return <Settings className=\"w-4 h-4\" />;\n    if (type.includes('langchain')) return <Zap className=\"w-4 h-4\" />;\n    if (type.includes('httpRequest')) return <MessageSquare className=\"w-4 h-4\" />;\n    if (type.includes('googleSheets')) return <Database className=\"w-4 h-4\" />;\n    return <Settings className=\"w-4 h-4\" />;\n  };\n\n  const getNodeTypeColor = (type: string) => {\n    if (type.includes('webhook')) return 'bg-node-webhook';\n    if (type.includes('switch')) return 'bg-node-switch';\n    if (type.includes('langchain')) return 'bg-node-ai';\n    if (type.includes('httpRequest')) return 'bg-node-http';\n    if (type.includes('googleSheets')) return 'bg-node-function';\n    return 'bg-muted';\n  };\n\n  const getIssueIcon = (type: string) => {\n    switch (type) {\n      case 'error': return <XCircle className=\"w-4 h-4 text-workflow-error\" />;\n      case 'warning': return <AlertTriangle className=\"w-4 h-4 text-workflow-warning\" />;\n      case 'info': return <Info className=\"w-4 h-4 text-workflow-info\" />;\n      default: return <CheckCircle className=\"w-4 h-4 text-workflow-success\" />;\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"text-center space-y-4\">\n        <h1 className=\"text-4xl font-bold bg-gradient-to-r from-workflow-primary to-workflow-info bg-clip-text text-transparent\">\n          n8n Workflow Analyzer\n        </h1>\n        <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n          วิเคราะห์และตรวจสอบข้อผิดพลาดใน n8n workflow ของคุณ พร้อมคำแนะนำการแก้ไขแบบละเอียด\n        </p>\n      </div>\n\n      <Card className=\"shadow-workflow\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Settings className=\"w-5 h-5\" />\n            อัพโหลด Workflow JSON\n          </CardTitle>\n          <CardDescription>\n            วางโค้ด JSON ของ n8n workflow ที่ต้องการวิเคราะห์\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <Textarea\n            placeholder=\"วาง n8n workflow JSON ที่นี่...\"\n            value={jsonInput}\n            onChange={(e) => setJsonInput(e.target.value)}\n            className=\"min-h-[200px] font-mono text-sm\"\n          />\n          <Button \n            onClick={handleAnalyze}\n            disabled={!jsonInput.trim() || isAnalyzing}\n            className=\"w-full\"\n          >\n            {isAnalyzing ? 'กำลังวิเคราะห์...' : 'วิเคราะห์ Workflow'}\n          </Button>\n        </CardContent>\n      </Card>\n\n      {workflowData && (\n        <Tabs defaultValue=\"issues\" className=\"space-y-4\">\n          <TabsList className=\"grid w-full grid-cols-4\">\n            <TabsTrigger value=\"issues\">ปัญหาที่พบ ({issues.length})</TabsTrigger>\n            <TabsTrigger value=\"overview\">ภาพรวม เวิร์คโฟลว์</TabsTrigger>\n            <TabsTrigger value=\"smart-routing\">Smart Routing</TabsTrigger>\n            <TabsTrigger value=\"troubleshooting\">คู่มือแก้ไข</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"issues\" className=\"space-y-4\">\n            {issues.length === 0 ? (\n              <Alert className=\"border-workflow-success\">\n                <CheckCircle className=\"w-4 h-4 text-workflow-success\" />\n                <AlertDescription className=\"text-workflow-success\">\n                  ไม่พบปัญหาสำคัญใน workflow นี้ แต่ควรตรวจสอบการทำงานจริงด้วยการทดสอบ\n                </AlertDescription>\n              </Alert>\n            ) : (\n              <div className=\"space-y-4\">\n                {issues.map((issue, index) => (\n                  <Card key={index} className={`border-l-4 ${\n                    issue.type === 'error' ? 'border-l-workflow-error' :\n                    issue.type === 'warning' ? 'border-l-workflow-warning' :\n                    'border-l-workflow-info'\n                  }`}>\n                    <CardHeader className=\"pb-3\">\n                      <div className=\"flex items-start gap-3\">\n                        {getIssueIcon(issue.type)}\n                        <div className=\"flex-1\">\n                          <CardTitle className=\"text-lg\">{issue.title}</CardTitle>\n                          {issue.nodeId && (\n                            <Badge variant=\"outline\" className=\"mt-1\">\n                              Node: {issue.nodeId.slice(0, 8)}...\n                            </Badge>\n                          )}\n                        </div>\n                        <Badge variant={\n                          issue.type === 'error' ? 'destructive' :\n                          issue.type === 'warning' ? 'secondary' : 'default'\n                        }>\n                          {issue.type === 'error' ? 'ข้อผิดพลาด' :\n                           issue.type === 'warning' ? 'คำเตือน' : 'ข้อมูล'}\n                        </Badge>\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"pt-0 space-y-3\">\n                      <p className=\"text-muted-foreground\">{issue.description}</p>\n                      <Separator />\n                      <div>\n                        <h4 className=\"font-semibold text-sm mb-2 text-workflow-primary\">💡 วิธีแก้ไข:</h4>\n                        <p className=\"text-sm bg-muted p-3 rounded-md\">{issue.solution}</p>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </TabsContent>\n\n          <TabsContent value=\"overview\" className=\"space-y-4\">\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n              <Card>\n                <CardHeader className=\"pb-2\">\n                  <CardTitle className=\"text-sm\">จำนวน Nodes</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold text-workflow-primary\">\n                    {workflowData.nodes.length}\n                  </div>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardHeader className=\"pb-2\">\n                  <CardTitle className=\"text-sm\">การเชื่อมต่อ</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold text-workflow-info\">\n                    {Object.keys(workflowData.connections).length}\n                  </div>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardHeader className=\"pb-2\">\n                  <CardTitle className=\"text-sm\">ข้อผิดพลาด</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold text-workflow-error\">\n                    {issues.filter(i => i.type === 'error').length}\n                  </div>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardHeader className=\"pb-2\">\n                  <CardTitle className=\"text-sm\">คำเตือน</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold text-workflow-warning\">\n                    {issues.filter(i => i.type === 'warning').length}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>รายการ Nodes</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  {workflowData.nodes.map((node) => (\n                    <div key={node.id} className=\"flex items-center gap-3 p-3 border rounded-lg\">\n                      <div className={`p-2 rounded-md ${getNodeTypeColor(node.type)}`}>\n                        {getNodeTypeIcon(node.type)}\n                      </div>\n                      <div className=\"flex-1\">\n                        <div className=\"font-medium\">{node.name}</div>\n                        <div className=\"text-sm text-muted-foreground\">{node.type}</div>\n                      </div>\n                      <Badge variant=\"outline\" className=\"font-mono text-xs\">\n                        {node.id.slice(0, 8)}...\n                      </Badge>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"smart-routing\" className=\"space-y-4\">\n            <SmartRoutingGenerator workflowNodes={workflowData?.nodes || []} />\n          </TabsContent>\n\n          <TabsContent value=\"troubleshooting\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Settings className=\"w-5 h-5\" />\n                  คู่มือแก้ไขปัญหาแบบละเอียด\n                </CardTitle>\n                <CardDescription>\n                  แนวทางแก้ไขปัญหาทีละขั้นตอนสำหรับปัญหาที่พบใน workflow นี้\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {issues.length > 0 ? (\n                    <div className=\"space-y-3\">\n                      <p className=\"text-sm text-muted-foreground\">\n                        ปัญหาที่พบใน workflow ของคุณ และวิธีแก้ไขที่แนะนำ:\n                      </p>\n                      {issues.map((issue, index) => (\n                        <div key={index} className=\"border rounded-lg p-4 space-y-2\">\n                          <div className=\"flex items-center gap-2\">\n                            {getIssueIcon(issue.type)}\n                            <h4 className=\"font-semibold\">{issue.title}</h4>\n                          </div>\n                          <p className=\"text-sm text-muted-foreground\">{issue.description}</p>\n                          <div className=\"bg-muted p-3 rounded-md\">\n                            <p className=\"text-sm font-medium mb-1\">💡 วิธีแก้ไข:</p>\n                            <p className=\"text-sm\">{issue.solution}</p>\n                          </div>\n                          {issue.nodeId && (\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              Node: {issue.nodeId.slice(0, 8)}...\n                            </Badge>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-8\">\n                      <CheckCircle className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\n                      <h3 className=\"font-semibold text-green-700\">Workflow ไม่มีปัญหา!</h3>\n                      <p className=\"text-sm text-muted-foreground mt-2\">\n                        ไม่พบปัญหาสำคัญใน workflow นี้ แต่ควรทดสอบการทำงานจริงอีกครั้ง\n                      </p>\n                    </div>\n                  )}\n                  \n                  <div className=\"mt-6 pt-4 border-t\">\n                    <h4 className=\"font-semibold mb-3\">📋 Checklist การตรวจสอบเพิ่มเติม:</h4>\n                    <div className=\"space-y-2 text-sm\">\n                      <div className=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" />\n                        <span>ทดสอบ workflow ด้วยข้อมูลจริง</span>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" />\n                        <span>ตรวจสอบ API keys และ credentials</span>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" />\n                        <span>ทดสอบ error scenarios</span>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" />\n                        <span>ตรวจสอบ performance และ rate limits</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      )}\n    </div>\n  );\n};\n\nexport default WorkflowAnalyzer;","import { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Separator } from '@/components/ui/separator';\nimport { useToast } from '@/hooks/use-toast';\nimport { \n  Syringe, \n  UserPlus, \n  Calendar, \n  Bell, \n  CheckCircle, \n  ArrowRight, \n  Database,\n  MessageSquare,\n  Settings,\n  Download,\n  Copy,\n  Clock,\n  Users,\n  FileText\n} from 'lucide-react';\n\ninterface WorkflowStep {\n  id: string;\n  name: string;\n  type: 'trigger' | 'logic' | 'action' | 'data' | 'calendar';\n  description: string;\n  implementation: string;\n  connections: string[];\n  icon: React.ComponentType<any>; // ✅ ชัดเจนกว่า any\n  color: string;\n}\n\nconst VaccineWorkflowDesigner = () => {\n  const [selectedTab, setSelectedTab] = useState('overview');\n  const { toast } = useToast();\n\n  const workflowSteps: WorkflowStep[] = [\n    {\n      id: 'webhook',\n      name: 'LINE Webhook',\n      type: 'trigger',\n      description: 'รับข้อความจาก LINE Bot พร้อม Rich Menu',\n      implementation: `// Webhook Configuration\nHTTP POST: https://your-n8n.domain/webhook/line-bot\nMethod: POST\nContent-Type: application/json\n\n// Rich Menu Configuration\n{\n  \"areas\": [\n    {\n      \"bounds\": {\"x\": 0, \"y\": 0, \"width\": 833, \"height\": 843},\n      \"action\": {\n        \"type\": \"postback\",\n        \"data\": \"{\\\\\"action\\\\\":\\\\\"register\\\\\"}\",\n        \"displayText\": \"ลงทะเบียนคนไข้\"\n      }\n    },\n    {\n      \"bounds\": {\"x\": 834, \"y\": 0, \"width\": 833, \"height\": 843},\n      \"action\": {\n        \"type\": \"postback\", \n        \"data\": \"{\\\\\"action\\\\\":\\\\\"show_vaccine_menu\\\\\"}\",\n        \"displayText\": \"จองวัคซีน\"\n      }\n    },\n    {\n      \"bounds\": {\"x\": 1667, \"y\": 0, \"width\": 833, \"height\": 843},\n      \"action\": {\n        \"type\": \"postback\",\n        \"data\": \"{\\\\\"action\\\\\":\\\\\"check_booking\\\\\"}\",\n        \"displayText\": \"ตรวจสอบการจอง\"\n      }\n    }\n  ]\n}`,\n      connections: ['user-validator'],\n      icon: MessageSquare,\n      color: 'bg-blue-500'\n    },\n    {\n      id: 'user-validator',\n      name: 'User Data Validator',\n      type: 'logic',\n      description: 'ตรวจสอบข้อมูลผู้ใช้และดึง LINE Profile',\n      implementation: `// User Validation และ Profile Fetching\nconst input = $json.body?.events?.[0];\nconst userId = input?.source?.userId;\nconst eventType = input?.type;\n\nif (!userId) {\n  throw new Error('Invalid webhook: No userId found');\n}\n\n// ✅ ใช้ Environment Variables แทน context\nconst CHANNEL_ACCESS_TOKEN = process.env.LINE_CHANNEL_ACCESS_TOKEN;\nconst SPREADSHEET_ID = process.env.GOOGLE_SPREADSHEET_ID;\nconst GOOGLE_ACCESS_TOKEN = process.env.GOOGLE_ACCESS_TOKEN;\n\n// ดึง LINE Profile\nlet userProfile = null;\ntry {\n  const profileResponse = await $http.request({\n    method: \"GET\",\n    url: \"https://api.line.me/v2/bot/profile/\" + userId,\n    headers: {\n      \"Authorization\": \"Bearer \" + CHANNEL_ACCESS_TOKEN\n    }\n  });\n  \n  userProfile = profileResponse.body;\n} catch (error) {\n  console.log(\"Profile fetch error:\", error);\n  userProfile = { displayName: \"ผู้ใช้\", userId: userId };\n}\n\n// Helper function ตรวจสอบผู้ใช้ใน Google Sheets\nasync function checkUserInSheets(userId, spreadsheetId, accessToken) {\n  const response = await $http.request({\n    method: 'GET',\n    url: \\`https://sheets.googleapis.com/v4/spreadsheets/\\${spreadsheetId}/values/Users:A:G\\`,\n    headers: {\n      'Authorization': 'Bearer ' + accessToken\n    }\n  });\n  \n  const rows = response.body.values || [];\n  \n  for (let i = 1; i < rows.length; i++) {\n    if (rows[i][0] === userId) {\n      return {\n        exists: true,\n        row: i + 1,\n        data: {\n          userId: rows[i][0],\n          name: rows[i][1],\n          phone: rows[i][2],\n          email: rows[i][3],\n          dateOfBirth: rows[i][4],\n          address: rows[i][5],\n          emergencyContact: rows[i][6]\n        }\n      };\n    }\n  }\n  \n  return { exists: false };\n}\n\nconst existingUser = await checkUserInSheets(userId, SPREADSHEET_ID, GOOGLE_ACCESS_TOKEN);\n\n$json.userId = userId;\n$json.userProfile = userProfile;\n$json.existingUser = existingUser;\n$json.input = input;\n$json.timestamp = new Date().toISOString();\n\nreturn $input.all();`,\n        connections: ['smart-router'],\n        icon: Users,\n        color: 'bg-green-500'\n      },\n      {\n        id: 'smart-router',\n        name: 'AI Smart Router',\n        type: 'logic',\n        description: 'วิเคราะห์ intent และเส้นทางการทำงาน',\n        implementation: `// AI Smart Router with Rich Menu Support\nconst { input, userProfile, existingUser } = $json;\n\nlet action = 'unknown';\nlet collectedData = {};\n\n// ตรวจสอบ Postback Data\nif (input.postback?.data) {\n  try {\n    const postbackData = JSON.parse(input.postback.data);\n    action = postbackData.action;\n    collectedData = postbackData;\n  } catch {\n    action = input.postback.data;\n  }\n}\n\n// ตรวจสอบ text message\nconst userMessage = input.message?.text || '';\n\n// AI Routing Logic\nconst routingPrompt = \\`\nคุณเป็น Smart Router สำหรับระบบจองวัคซีน\nInput: \"\\${userMessage}\"\nAction: \"\\${action}\"\nUser Profile: \\${JSON.stringify(userProfile)}\nExisting User: \\${!!existingUser}\n\nส่งคืน JSON:\n{\n  \"route\": \"register|vaccine_menu|booking|status_check|appointment_reminder\",\n  \"vaccine_type\": \"covid|flu|hepatitis|hpv|other\",\n  \"required_fields\": [\"name\", \"phone\", \"id_card\", \"vaccine_type\", \"date\", \"time\"],\n  \"next_step\": \"collect_data|show_calendar|confirm|complete\",\n  \"is_returning_user\": \\${!!existingUser}\n}\n\\`;\n\n// OpenAI Request\n$json.openai_request = {\n  model: 'gpt-4',\n  messages: [{ role: 'user', content: routingPrompt }],\n  temperature: 0.1\n};\n\n$json.action = action;\n$json.userMessage = userMessage;\n$json.collectedData = collectedData;\n\nreturn $input.all();`,\n      connections: ['user-registration', 'vaccine-booking'], // ✅ ลบ 'status-checker' ที่ไม่มีอยู่\n      icon: Settings,\n      color: 'bg-purple-500'\n    },\n    {\n      id: 'user-registration',\n      name: 'User Registration',\n      type: 'action',\n      description: 'ลงทะเบียนผู้ใช้ใหม่และเก็บข้อมูล',\n      implementation: `// User Registration Process\nconst { userProfile, routing } = $json;\n\nif (routing.route === 'register') {\n  // สร้างข้อมูลผู้ใช้ใหม่\n  const userData = {\n    userId: userProfile.userId,\n    displayName: userProfile.displayName,\n    pictureUrl: userProfile.pictureUrl || '',\n    registeredAt: new Date().toISOString(),\n    status: 'active',\n    vaccineHistory: [],\n    appointments: []\n  };\n\n  // บันทึกใน Google Sheets\n  const sheetData = [\n    userData.userId,\n    userData.displayName,\n    userData.pictureUrl,\n    userData.registeredAt,\n    userData.status,\n    '[]', // vaccineHistory\n    '[]'  // appointments\n  ];\n\n  await saveToGoogleSheets('Users', sheetData);\n\n  // Response ข้อความ\n  $json.response = {\n    type: 'text',\n    text: \\`สวัสดีคุณ \\${userData.displayName}! 🎉\n    \nยินดีต้อนรับสู่ระบบจองวัคซีนออนไลน์\n\n✅ ลงทะเบียนเรียบร้อยแล้ว\n📱 สามารถใช้เมนูด้านล่างเพื่อเลือกบริการ\n💉 พร้อมจองวัคซีนได้ทันที\n\nกดที่เมนู \"จองวัคซีน\" เพื่อเริ่มต้น\\`\n  };\n\n  $json.userData = userData;\n}\n\nreturn $input.all();`,\n      connections: ['response-sender'],\n      icon: UserPlus,\n      color: 'bg-teal-500'\n    },\n    {\n      id: 'vaccine-booking',\n      name: 'Vaccine Booking System',\n      type: 'action',\n      description: 'ระบบจองวัคซีนพร้อมการนัดหมาย',\n      implementation: `// Vaccine Booking with Multi-dose Support\nconst { routing, userProfile, collectedData } = $json;\n\nconst vaccineTypes = {\n  covid: { doses: 2, interval: 21, name: 'โควิด-19' },\n  flu: { doses: 1, interval: 0, name: 'ไข้หวัดใหญ่' },\n  hepatitis: { doses: 3, interval: 30, name: 'ไวรัสตับอักเสบบี' },\n  hpv: { doses: 2, interval: 60, name: 'HPV' }\n};\n\nif (routing.route === 'vaccine_menu') {\n  // แสดงเมนูวัคซีน\n  $json.response = {\n    type: 'flex',\n    altText: 'เมนูวัคซีน',\n    contents: {\n      type: 'carousel',\n      contents: Object.keys(vaccineTypes).map(type => ({\n        type: 'bubble',\n        hero: {\n          type: 'image',\n          url: \\`https://via.placeholder.com/300x200/42A5F5/FFFFFF?text=\\${vaccineTypes[type].name}\\`,\n          size: 'full'\n        },\n        body: {\n          type: 'box',\n          layout: 'vertical',\n          contents: [\n            {\n              type: 'text',\n              text: vaccineTypes[type].name,\n              weight: 'bold',\n              size: 'xl'\n            },\n            {\n              type: 'text',\n              text: \\`จำนวนโดส: \\${vaccineTypes[type].doses}\\`,\n              margin: 'md'\n            }\n          ]\n        },\n        footer: {\n          type: 'box',\n          layout: 'vertical',\n          contents: [{\n            type: 'button',\n            action: {\n              type: 'postback',\n              label: 'จองเลย',\n              data: JSON.stringify({ \n                action: 'book_vaccine', \n                vaccine_type: type \n              })\n            }\n          }]\n        }\n      }))\n    }\n  };\n}\n\nif (routing.route === 'booking' && collectedData.vaccine_type) {\n  const vaccine = vaccineTypes[collectedData.vaccine_type];\n  \n  // สร้างนัดหมาย\n  const appointment = {\n    appointmentId: generateId(),\n    userId: userProfile.userId,\n    vaccineType: collectedData.vaccine_type,\n    vaccineName: vaccine.name,\n    doseNumber: 1,\n    totalDoses: vaccine.doses,\n    appointmentDate: collectedData.date,\n    appointmentTime: collectedData.time,\n    status: 'confirmed',\n    createdAt: new Date().toISOString()\n  };\n\n  // คำนวณนัดครั้งถัดไป (ถ้ามี)\n  if (vaccine.doses > 1) {\n    const nextDate = new Date(collectedData.date);\n    nextDate.setDate(nextDate.getDate() + vaccine.interval);\n    appointment.nextAppointment = nextDate.toISOString().split('T')[0];\n  }\n\n  // บันทึกใน Google Sheets\n  await saveAppointmentToSheets(appointment);\n\n  $json.appointment = appointment;\n  $json.response = {\n    type: 'text',\n    text: \\`✅ จองวัคซีนเรียบร้อย!\n\n📋 รายละเอียดการจอง:\n🏥 วัคซีน: \\${vaccine.name}\n💉 โดสที่: 1/\\${vaccine.doses}\n📅 วันที่: \\${collectedData.date}\n⏰ เวลา: \\${collectedData.time}\n\n\\${vaccine.doses > 1 ? \\`📌 นัดครั้งถัดไป: \\${appointment.nextAppointment}\\` : ''}\n\n💾 ข้อมูลถูกบันทึกแล้ว\n🔔 จะแจ้งเตือนก่อนวันนัด 1 วัน\\`\n  };\n}\n\nreturn $input.all();`,\n      connections: ['calendar-scheduler', 'response-sender'],\n      icon: Syringe,\n      color: 'bg-red-500'\n    },\n      {\n        id: 'calendar-scheduler',\n        name: 'Google Calendar Scheduler',\n        type: 'calendar',\n        description: 'สร้างนัดหมายใน Google Calendar พร้อมระบบแจ้งเตือนอัตโนมัติ',\n        implementation: `// Google Calendar Integration with Auto Reminders\nconst { appointment } = $json;\n\nif (appointment) {\n  // กำหนดค่า Google Calendar\n  const CALENDAR_ID = 'primary'; // หรือ calendar ID ที่ต้องการ\n  \n  // สร้าง Event ใน Google Calendar\n  const eventData = {\n    summary: \\`วัคซีน \\${appointment.vaccineName} - โดสที่ \\${appointment.doseNumber}/\\${appointment.totalDoses}\\`,\n    description: \\`📋 รายละเอียดการนัดฉีดวัคซีน\n    \n👤 ผู้ป่วย: \\${appointment.userProfile?.displayName || 'ไม่ระบุ'}\n💉 วัคซีน: \\${appointment.vaccineName}\n📊 โดสที่: \\${appointment.doseNumber} จาก \\${appointment.totalDoses} โดส\n📱 LINE User ID: \\${appointment.userId}\n🆔 Appointment ID: \\${appointment.appointmentId}\n\n⚠️ หมายเหตุ: กรุณาให้ผู้ป่วยมาตรงเวลา\n\\${appointment.nextAppointment ? \\`📅 นัดครั้งถัดไป: \\${appointment.nextAppointment}\\` : ''}\\`,\n    \n    start: {\n      dateTime: \\`\\${appointment.appointmentDate}T\\${appointment.appointmentTime}:00+07:00\\`,\n      timeZone: 'Asia/Bangkok'\n    },\n    end: {\n      dateTime: \\`\\${appointment.appointmentDate}T\\${String(parseInt(appointment.appointmentTime.split(':')[0]) + 1).padStart(2, '0')}:\\${appointment.appointmentTime.split(':')[1]}:00+07:00\\`,\n      timeZone: 'Asia/Bangkok'\n    },\n    \n    // ตั้งค่าการแจ้งเตือน\n    reminders: {\n      useDefault: false,\n      overrides: [\n        { method: 'email', minutes: 24 * 60 }, // 1 วันก่อน\n        { method: 'popup', minutes: 60 },      // 1 ชั่วโมงก่อน\n        { method: 'email', minutes: 30 }       // 30 นาทีก่อน\n      ]\n    },\n    \n    // เพิ่ม Attendee\n    attendees: [\n      {\n        email: 'vaccine.admin@hospital.com',\n        displayName: 'Vaccine Administrator',\n        responseStatus: 'accepted'\n      }\n    ],\n    \n    // กำหนดสถานะ\n    status: 'confirmed',\n    transparency: 'opaque',\n    visibility: 'private',\n    \n    // Extended Properties สำหรับการติดตาม\n    extendedProperties: {\n      private: {\n        lineUserId: appointment.userId,\n        appointmentId: appointment.appointmentId,\n        vaccineType: appointment.vaccineType,\n        doseNumber: appointment.doseNumber.toString(),\n        totalDoses: appointment.totalDoses.toString(),\n        isVaccineAppointment: 'true'\n      }\n    }\n  };\n\n  // สร้าง Event ใน Google Calendar\n  const calendarResponse = await $http.request({\n    method: 'POST',\n    url: \\`https://www.googleapis.com/calendar/v3/calendars/\\${CALENDAR_ID}/events\\`,\n    headers: {\n      'Authorization': 'Bearer ' + GOOGLE_ACCESS_TOKEN,\n      'Content-Type': 'application/json'\n    },\n    body: eventData\n  });\n\n  // บันทึก Event ID สำหรับการจัดการในอนาคต\n  const calendarEvent = calendarResponse.body;\n  appointment.calendarEventId = calendarEvent.id;\n  appointment.calendarEventUrl = calendarEvent.htmlLink;\n\n  // สร้าง Scheduled Reminder ใน n8n (ใช้ Cron Trigger)\n  const reminderDate = new Date(appointment.appointmentDate);\n  reminderDate.setDate(reminderDate.getDate() - 1); // 1 วันก่อน\n  reminderDate.setHours(9, 0, 0, 0); // เวลา 9:00 น.\n\n  const reminderData = {\n    reminderId: generateId(),\n    scheduledFor: reminderDate.toISOString(),\n    userId: appointment.userId,\n    appointmentId: appointment.appointmentId,\n    calendarEventId: calendarEvent.id,\n    message: \\`🔔 แจ้งเตือนการนัดฉีดวัคซีน\n\nพรุ่งนี้ (\\${appointment.appointmentDate}) คุณมีนัดฉีดวัคซีน:\n\n💉 วัคซีน: \\${appointment.vaccineName}\n📊 โดสที่: \\${appointment.doseNumber}/\\${appointment.totalDoses}\n⏰ เวลา: \\${appointment.appointmentTime} น.\n📍 สถานที่: โรงพยาบาล/คลินิก\n\n✅ สิ่งที่ต้องเตรียม:\n• บัตรประชาชน\n• บัตรประกันสุขภาพ (ถ้ามี)\n• หน้ากากอนามัย\n\n⚠️ หากไม่สามารถมาได้ กรุณาแจ้งล่วงหน้า 24 ชั่วโมง\n📱 กดเมนู \"ตรวจสอบการจอง\" เพื่อดูรายละเอียด\\`,\n    type: 'appointment_reminder',\n    status: 'pending'\n  };\n\n  // บันทึก Reminder Schedule\n  await saveReminderToSheets(reminderData);\n\n  // ถ้ามีโดสถัดไป ให้สร้าง Event สำหรับโดสถัดไป (แบบ Tentative)\n  if (appointment.nextAppointment) {\n    const nextEventData = {\n      ...eventData,\n      summary: \\`วัคซีน \\${appointment.vaccineName} - โดสที่ \\${appointment.doseNumber + 1}/\\${appointment.totalDoses} (ขั้นต้น)\\`,\n      description: \\`📋 นัดฉีดโดสถัดไป (รอยืนยัน)\n      \n👤 ผู้ป่วย: \\${appointment.userProfile?.displayName || 'ไม่ระบุ'}\n💉 วัคซีน: \\${appointment.vaccineName}\n📊 โดสที่: \\${appointment.doseNumber + 1} จาก \\${appointment.totalDoses} โดส\n⏰ สถานะ: รอยืนยันการจอง\n\n📱 ระบบจะแจ้งเตือนให้จองเวลาที่แน่นอน\\`,\n      start: {\n        dateTime: \\`\\${appointment.nextAppointment}T09:00:00+07:00\\`,\n        timeZone: 'Asia/Bangkok'\n      },\n      end: {\n        dateTime: \\`\\${appointment.nextAppointment}T10:00:00+07:00\\`,\n        timeZone: 'Asia/Bangkok'\n      },\n      status: 'tentative', // สถานะไม่แน่นอน\n      transparency: 'transparent'\n    };\n\n    const nextCalendarResponse = await $http.request({\n      method: 'POST',\n      url: \\`https://www.googleapis.com/calendar/v3/calendars/\\${CALENDAR_ID}/events\\`,\n      headers: {\n        'Authorization': 'Bearer ' + GOOGLE_ACCESS_TOKEN,\n        'Content-Type': 'application/json'\n      },\n      body: nextEventData\n    });\n\n    // สร้าง Reminder สำหรับโดสถัดไป\n    const nextReminderDate = new Date(appointment.nextAppointment);\n    nextReminderDate.setDate(nextReminderDate.getDate() - 7); // 1 สัปดาห์ก่อน\n    nextReminderDate.setHours(10, 0, 0, 0);\n\n    const nextReminderData = {\n      reminderId: generateId(),\n      scheduledFor: nextReminderDate.toISOString(),\n      userId: appointment.userId,\n      appointmentId: appointment.appointmentId,\n      relatedAppointmentId: appointment.appointmentId,\n      calendarEventId: nextCalendarResponse.body.id,\n      message: \\`🔔 แจ้งเตือนโดสวัคซีนถัดไป\n\nอีก 1 สัปดาห์ถึงเวลานัดโดสถัดไป!\n\n💉 วัคซีน: \\${appointment.vaccineName}\n📊 โดสที่: \\${appointment.doseNumber + 1}/\\${appointment.totalDoses}\n📅 วันที่แนะนำ: \\${appointment.nextAppointment}\n\n📱 กรุณาจองเวลาที่แน่นอนผ่านเมนู \"จองวัคซีน\"\n⚠️ ไม่ควรล่าช้าเกินวันที่แนะนำ\\`,\n      type: 'next_dose_reminder',\n      status: 'pending'\n    };\n\n    await saveReminderToSheets(nextReminderData);\n    \n    appointment.nextCalendarEventId = nextCalendarResponse.body.id;\n  }\n\n  // อัปเดตข้อมูล appointment ด้วย Calendar Event IDs\n  await updateAppointmentInSheets(appointment);\n\n  $json.calendarEvent = calendarEvent;\n  $json.reminderScheduled = true;\n  $json.calendarCreated = true;\n}\n\n// Helper Functions\nfunction generateId() {\n  return Math.random().toString(36).substr(2, 9) + Date.now().toString(36);\n}\n\nasync function saveReminderToSheets(reminderData) {\n  const sheetData = [\n    reminderData.reminderId,\n    reminderData.scheduledFor,\n    reminderData.userId,\n    reminderData.appointmentId,\n    reminderData.calendarEventId || '',\n    reminderData.message,\n    reminderData.type,\n    reminderData.status,\n    new Date().toISOString()\n  ];\n\n  return await $http.request({\n    method: 'POST',\n    url: \\`https://sheets.googleapis.com/v4/spreadsheets/\\${SPREADSHEET_ID}/values/Reminders:append\\`,\n    headers: {\n      'Authorization': 'Bearer ' + GOOGLE_ACCESS_TOKEN,\n      'Content-Type': 'application/json'\n    },\n    body: {\n      values: [sheetData],\n      valueInputOption: 'RAW'\n    }\n  });\n}\n\nasync function updateAppointmentInSheets(appointment) {\n  // อัปเดตข้อมูล appointment ด้วย calendar event IDs\n  // ใช้ Google Sheets API เพื่ออัปเดตแถวที่ตรงกับ appointmentId\n}\n\nreturn $input.all();`,\n        connections: ['google-sheets'],\n        icon: Calendar,\n        color: 'bg-orange-500'\n      },\n    {\n      id: 'google-sheets',\n      name: 'Google Sheets Database',\n      type: 'data',\n      description: 'จัดเก็บข้อมูลทั้งหมดใน Google Sheets',\n      implementation: `// Google Sheets Database Management\nconst SPREADSHEET_ID = 'your-spreadsheet-id';\n\n// Sheets Structure:\n// 1. Users: userId, displayName, pictureUrl, registeredAt, status, vaccineHistory, appointments\n// 2. Appointments: appointmentId, userId, vaccineType, doseNumber, totalDoses, date, time, status, createdAt\n// 3. Reminders: reminderId, userId, appointmentId, scheduledFor, message, type, sent\n// 4. VaccineHistory: historyId, userId, vaccineType, vaccineName, doseNumber, date, location, batch\n\nasync function saveToGoogleSheets(sheetName, data) {\n  const response = await $http.request({\n    method: 'POST',\n    url: \\`https://sheets.googleapis.com/v4/spreadsheets/\\${SPREADSHEET_ID}/values/\\${sheetName}:append\\`,\n    headers: {\n      'Authorization': 'Bearer ' + GOOGLE_ACCESS_TOKEN,\n      'Content-Type': 'application/json'\n    },\n    body: {\n      values: [data],\n      valueInputOption: 'RAW'\n    }\n  });\n  \n  return response.body;\n}\n\n\n// Auto-backup and data integrity\nconst backupData = {\n  timestamp: new Date().toISOString(),\n  totalUsers: await countRows('Users'),\n  totalAppointments: await countRows('Appointments'),\n  pendingReminders: await countPendingReminders()\n};\n\n$json.backupInfo = backupData;\n$json.dataOperation = 'success';\n\nreturn $input.all();`,\n      connections: ['response-sender'],\n      icon: Database,\n      color: 'bg-indigo-500'\n    },\n    {\n      id: 'response-sender',\n      name: 'LINE Response Handler',\n      type: 'action',\n      description: 'ส่งข้อความตอบกลับผ่าน LINE API',\n      implementation: `// LINE Response Handler\nconst { response, input } = $json;\nconst replyToken = input.replyToken;\n\nif (!replyToken) {\n  throw new Error('No reply token found');\n}\n\n// ส่งข้อความผ่าน LINE API\nconst lineResponse = await $http.request({\n  method: 'POST',\n  url: 'https://api.line.me/v2/bot/message/reply',\n  headers: {\n    'Authorization': 'Bearer ' + CHANNEL_ACCESS_TOKEN,\n    'Content-Type': 'application/json'\n  },\n  body: {\n    replyToken: replyToken,\n    messages: [response]\n  }\n});\n\n// Log การส่งข้อความ\nawait logActivity({\n  userId: $json.userId,\n  action: 'message_sent',\n  response: response,\n  timestamp: new Date().toISOString()\n});\n\n$json.messageSent = true;\n$json.lineResponse = lineResponse.body;\n\nreturn $input.all();`,\n      connections: [],\n      icon: MessageSquare,\n      color: 'bg-green-600'\n    }\n  ];\n\n  const generateWorkflowJSON = () => {\n    const workflow = {\n      name: \"ระบบจองวัคซีนครบวงจร\",\n      nodes: workflowSteps.map((step, index) => ({\n        id: step.id,\n        name: step.name,\n        type: getNodeType(step.type),\n        typeVersion: 1,\n        position: [100 + (index % 3) * 300, 100 + Math.floor(index / 3) * 200],\n        parameters: getNodeParameters(step)\n      })),\n      connections: generateConnections(),\n      active: true,\n      settings: {\n        timezone: \"Asia/Bangkok\"\n      }\n    };\n\n    return JSON.stringify(workflow, null, 2);\n  };\n\n  const getNodeType = (type: string) => {\n    switch (type) {\n      case 'trigger': return 'n8n-nodes-base.webhook';\n      case 'logic': return 'n8n-nodes-base.code';\n      case 'action': return 'n8n-nodes-base.httpRequest';\n      case 'data': return 'n8n-nodes-base.googleSheets';\n      case 'calendar': return 'n8n-nodes-base.googleCalendar';\n      default: return 'n8n-nodes-base.code';\n    }\n  };\n\n  const getNodeParameters = (step: WorkflowStep) => {\n    if (step.type === 'trigger') {\n      return {\n        httpMethod: 'POST',\n        path: 'line-vaccine-bot',\n        responseMode: 'respondImmediately'\n      };\n    }\n    if (step.type === 'logic' || step.type === 'action') {\n      return {\n        mode: 'runOnceForAllItems',\n        jsCode: step.implementation\n      };\n    }\n    return {};\n  };\n\n  const generateConnections = () => {\n    const connections: any = {};\n    // ✅ สร้าง mapping ระหว่าง id กับ name\n    const idToName = workflowSteps.reduce((map, step) => {\n      map[step.id] = step.name;\n      return map;\n    }, {} as Record<string, string>);\n    \n    workflowSteps.forEach(step => {\n      if (step.connections.length > 0) {\n        connections[step.name] = {\n          main: [step.connections.map(conn => ({ \n            node: idToName[conn] || conn, // ✅ แปลง id เป็น name\n            type: 'main', \n            index: 0 \n          }))]\n        };\n      }\n    });\n    return connections;\n  };\n\n  const copyToClipboard = (text: string) => {\n    navigator.clipboard.writeText(text);\n    toast({\n      title: \"คัดลอกแล้ว\",\n      description: \"โค้ดถูกคัดลอกไปยัง clipboard แล้ว\",\n    });\n  };\n\n  const downloadJSON = () => {\n    const workflow = generateWorkflowJSON();\n    const blob = new Blob([workflow], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'vaccine-booking-workflow.json';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"text-center space-y-4\">\n        <h1 className=\"text-4xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent\">\n          🏥 ระบบจองวัคซีนครบวงจร\n        </h1>\n        <p className=\"text-lg text-muted-foreground max-w-3xl mx-auto\">\n          Workflow สมบูรณ์สำหรับระบบจองวัคซีน พร้อมการลงทะเบียน, นัดหมาย, และการแจ้งเตือนอัตโนมัติ\n        </p>\n      </div>\n\n      <Tabs value={selectedTab} onValueChange={setSelectedTab} className=\"space-y-4\">\n        <TabsList className=\"grid w-full grid-cols-5\">\n          <TabsTrigger value=\"overview\">ภาพรวม</TabsTrigger>\n          <TabsTrigger value=\"workflow\">โครงสร้าง</TabsTrigger>\n          <TabsTrigger value=\"features\">คุณสมบัติ</TabsTrigger>\n          <TabsTrigger value=\"implementation\">การติดตั้ง</TabsTrigger>\n          <TabsTrigger value=\"export\">Export</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <Card className=\"text-center\">\n              <CardContent className=\"p-6\">\n                <UserPlus className=\"w-12 h-12 mx-auto mb-4 text-teal-500\" />\n                <h3 className=\"text-lg font-semibold\">ลงทะเบียนผู้ใช้</h3>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  ระบบลงทะเบียนอัตโนมัติด้วย LINE Profile\n                </p>\n              </CardContent>\n            </Card>\n            <Card className=\"text-center\">\n              <CardContent className=\"p-6\">\n                <Syringe className=\"w-12 h-12 mx-auto mb-4 text-red-500\" />\n                <h3 className=\"text-lg font-semibold\">จองวัคซีน</h3>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  จองวัคซีนแบบ Multi-dose พร้อมนัดครั้งถัดไป\n                </p>\n              </CardContent>\n            </Card>\n            <Card className=\"text-center\">\n              <CardContent className=\"p-6\">\n                <Bell className=\"w-12 h-12 mx-auto mb-4 text-orange-500\" />\n                <h3 className=\"text-lg font-semibold\">แจ้งเตือน</h3>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  แจ้งเตือนอัตโนมัติก่อนวันนัด 1 วัน\n                </p>\n              </CardContent>\n            </Card>\n            <Card className=\"text-center\">\n              <CardContent className=\"p-6\">\n                <Database className=\"w-12 h-12 mx-auto mb-4 text-indigo-500\" />\n                <h3 className=\"text-lg font-semibold\">จัดเก็บข้อมูล</h3>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  บันทึกใน Google Sheets แบบ Real-time\n                </p>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Alert>\n            <CheckCircle className=\"w-4 h-4\" />\n            <AlertDescription>\n              <strong>ความสมบูรณ์ 100%:</strong> ระบบนี้ครอบคลุมทุกความต้องการที่คุณระบุ พร้อมใช้งานได้ทันที\n            </AlertDescription>\n          </Alert>\n        </TabsContent>\n\n        <TabsContent value=\"workflow\" className=\"space-y-4\">\n          <div className=\"space-y-4\">\n            {workflowSteps.map((step, index) => {\n              const IconComponent = step.icon;\n              return (\n                <Card key={step.id} className=\"relative\">\n                  <CardHeader className=\"pb-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className={`p-2 rounded-lg ${step.color} text-white`}>\n                        <IconComponent className=\"w-5 h-5\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <CardTitle className=\"text-lg\">{step.name}</CardTitle>\n                        <CardDescription>{step.description}</CardDescription>\n                      </div>\n                      <Badge variant={\n                        step.type === 'trigger' ? 'default' :\n                        step.type === 'logic' ? 'secondary' :\n                        step.type === 'action' ? 'destructive' : 'outline'\n                      }>\n                        {step.type.toUpperCase()}\n                      </Badge>\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"bg-muted p-4 rounded-lg\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"font-semibold text-sm\">การทำงาน:</h4>\n                        <Button\n                          size=\"sm\"\n                          variant=\"ghost\"\n                          onClick={() => copyToClipboard(step.implementation)}\n                        >\n                          <Copy className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                      <pre className=\"text-xs overflow-x-auto whitespace-pre-wrap\">\n                        {step.implementation.substring(0, 200)}...\n                      </pre>\n                    </div>\n                    {step.connections.length > 0 && (\n                      <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                        <ArrowRight className=\"w-4 h-4\" />\n                        <span>เชื่อมต่อไปยัง: {step.connections.join(', ')}</span>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"features\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <MessageSquare className=\"w-5 h-5\" />\n                  Rich Menu & UX\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>Rich Menu 3 ปุ่มหลัก</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>Carousel วัคซีนแยกประเภท</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>Quick Reply สะดวกรวดเร็ว</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>Datetime Picker เลือกวันเวลา</span>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Database className=\"w-5 h-5\" />\n                  การจัดเก็บข้อมูล\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>Users Sheet - ข้อมูลผู้ใช้</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>Appointments - การนัดหมาย</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>Reminders - การแจ้งเตือน</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>VaccineHistory - ประวัติการฉีด</span>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Syringe className=\"w-5 h-5\" />\n                  ระบบวัคซีน\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>โควิด-19 (2 โดส, ห่าง 21 วัน)</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>ไข้หวัดใหญ่ (1 โดส)</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>ไวรัสตับอักเสบบี (3 โดส)</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>HPV (2 โดส, ห่าง 60 วัน)</span>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Bell className=\"w-5 h-5\" />\n                  การแจ้งเตือน\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>แจ้งเตือนก่อนนัด 1 วัน</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>แจ้งเตือนโดสถัดไป</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>Cron Schedule อัตโนมัติ</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  <span>การยกเลิก/เลื่อนนัด</span>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"implementation\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>ขั้นตอนการติดตั้ง</CardTitle>\n              <CardDescription>\n                คำแนะนำการติดตั้งและกำหนดค่าระบบ\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-4\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold\">\n                    1\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold\">สร้าง LINE Bot</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      สร้าง LINE Bot ใน LINE Developers Console และได้ Channel Access Token\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold\">\n                    2\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold\">ตั้งค่า Google Sheets</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      สร้าง Google Sheets พร้อม 4 Sheets: Users, Appointments, Reminders, VaccineHistory\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold\">\n                    3\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold\">Import Workflow</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Import ไฟล์ JSON ลงใน n8n และกำหนดค่า credentials\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold\">\n                    4\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold\">ติดตั้ง Rich Menu</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      อัปโหลด Rich Menu ไปยัง LINE Bot ด้วย API หรือ Console\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold\">\n                    5\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold\">ทดสอบระบบ</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      ทดสอบการทำงานทุกฟีเจอร์ และปรับแต่งตามความต้องการ\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <Separator />\n\n              <Alert>\n                <Settings className=\"w-4 h-4\" />\n                <AlertDescription>\n                  <strong>สำคัญ:</strong> ต้องกำหนดค่า credentials สำหรับ LINE API, Google Sheets API และ OpenAI API ให้ครบถ้วน\n                </AlertDescription>\n              </Alert>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"export\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>ดาวน์โหลด Workflow</CardTitle>\n              <CardDescription>\n                ดาวน์โหลดไฟล์ JSON ของ workflow เพื่อ import ใน n8n\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex gap-4\">\n                <Button onClick={downloadJSON} className=\"flex-1\">\n                  <Download className=\"w-4 h-4 mr-2\" />\n                  ดาวน์โหลด JSON\n                </Button>\n                <Button \n                  variant=\"outline\" \n                  onClick={() => copyToClipboard(generateWorkflowJSON())}\n                  className=\"flex-1\"\n                >\n                  <Copy className=\"w-4 h-4 mr-2\" />\n                  คัดลอก JSON\n                </Button>\n              </div>\n              \n              <Alert>\n                <FileText className=\"w-4 h-4\" />\n                <AlertDescription>\n                  ไฟล์ JSON นี้พร้อมใช้งาน ครอบคลุมทุกฟีเจอร์ตามที่คุณต้องการ รวมถึงการจัดการข้อผิดพลาดและ error handling\n                </AlertDescription>\n              </Alert>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>คุณสมบัติพิเศษ</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <h4 className=\"font-semibold\">🚀 Performance</h4>\n                  <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                    <li>• Async/Await pattern</li>\n                    <li>• Error handling ครอบคลุม</li>\n                    <li>• Connection pooling</li>\n                    <li>• Rate limiting support</li>\n                  </ul>\n                </div>\n                <div className=\"space-y-2\">\n                  <h4 className=\"font-semibold\">🔒 Security</h4>\n                  <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                    <li>• Token validation</li>\n                    <li>• Data sanitization</li>\n                    <li>• API rate limiting</li>\n                    <li>• Access logging</li>\n                  </ul>\n                </div>\n                <div className=\"space-y-2\">\n                  <h4 className=\"font-semibold\">📊 Analytics</h4>\n                  <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                    <li>• User behavior tracking</li>\n                    <li>• Appointment statistics</li>\n                    <li>• Conversion metrics</li>\n                    <li>• Performance monitoring</li>\n                  </ul>\n                </div>\n                <div className=\"space-y-2\">\n                  <h4 className=\"font-semibold\">🔧 Maintenance</h4>\n                  <ul className=\"text-sm space-y-1 text-muted-foreground\">\n                    <li>• Auto backup</li>\n                    <li>• Health checks</li>\n                    <li>• Log management</li>\n                    <li>• Update mechanisms</li>\n                  </ul>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default VaccineWorkflowDesigner;","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","\"use client\";\n\n// packages/react/label/src/Label.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Label\";\nvar Label = React.forwardRef((props, forwardedRef) => {\n  return /* @__PURE__ */ jsx(\n    Primitive.label,\n    {\n      ...props,\n      ref: forwardedRef,\n      onMouseDown: (event) => {\n        const target = event.target;\n        if (target.closest(\"button, input, select, textarea\")) return;\n        props.onMouseDown?.(event);\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }\n    }\n  );\n});\nLabel.displayName = NAME;\nvar Root = Label;\nexport {\n  Label,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { useToast } from '@/hooks/use-toast';\nimport { \n  Users, \n  Syringe, \n  Calendar, \n  Bell, \n  Search,\n  Plus,\n  Edit,\n  Send,\n  CheckCircle,\n  Clock,\n  UserCheck,\n  FileText\n} from 'lucide-react';\n\ninterface Patient {\n  id: string;\n  lineUserId: string;\n  displayName: string;\n  firstName: string;\n  lastName: string;\n  phone?: string;\n  email?: string;\n  registeredAt: string;\n  status: 'pending' | 'completed' | 'cancelled';\n}\n\ninterface VaccineType {\n  id: string;\n  name: string;\n  doses: number;\n  interval: number;\n  description: string;\n  available: boolean;\n}\n\ninterface Appointment {\n  id: string;\n  patientId: string;\n  patientName: string;\n  vaccineId: string;\n  vaccineName: string;\n  doseNumber: number;\n  totalDoses: number;\n  appointmentDate: string;\n  appointmentTime: string;\n  status: 'scheduled' | 'completed' | 'cancelled' | 'no-show';\n  notes?: string;\n  createdAt: string;\n  staffId: string;\n}\n\nconst StaffDashboard = () => {\n  const [activeTab, setActiveTab] = useState('patients');\n  const [patients, setPatients] = useState<Patient[]>([]);\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedPatient, setSelectedPatient] = useState<Patient | null>(null);\n  const [showAppointmentForm, setShowAppointmentForm] = useState(false);\n  const { toast } = useToast();\n\n  // ข้อมูลวัคซีนจาก n8n workflow\n  const vaccineTypes: VaccineType[] = [\n    {\n      id: 'flu',\n      name: 'วัคซีนไข้หวัดใหญ่',\n      doses: 2,\n      interval: 365,\n      description: 'วัคซีนป้องกันไข้หวัดใหญ่ประจำปี และฉีดกระตุ้นปีหน้า',\n      available: true\n    },\n    {\n      id: 'hep_b',\n      name: 'วัคซีนไวรัสตับอักเสบบี',\n      doses: 3,\n      interval: 30,\n      description: 'ฉีด 3 โดส: โดส 1, โดส 2 (1 เดือน), โดส 3 (6 เดือน)',\n      available: true\n    },\n    {\n      id: 'tetanus',\n      name: 'วัคซีนป้องกันบาดทะยัก',\n      doses: 3,\n      interval: 30,\n      description: 'ฉีด 3 โดส: โดส 1, โดส 2 (1 เดือน), โดส 3 (หลังจากโดส 2 อีก 6 เดือน)',\n      available: true\n    },\n    {\n      id: 'shingles',\n      name: 'วัคซีนงูสวัด',\n      doses: 2,\n      interval: 90,\n      description: 'ฉีด 2 โดส ห่างกัน 3 เดือน',\n      available: true\n    },\n    {\n      id: 'hpv',\n      name: 'วัคซีนป้องกันมะเร็งปากมดลูก',\n      doses: 3,\n      interval: 30,\n      description: 'ฉีด 3 โดส: โดส 1, โดส 2 (1 เดือน), โดส 3 (6 เดือน)',\n      available: true\n    },\n    {\n      id: 'pneumonia',\n      name: 'วัคซีนปอดอักเสบ',\n      doses: 2,\n      interval: 60,\n      description: 'ฉีด 2 โดส ห่างกัน 2 เดือน',\n      available: true\n    },\n    {\n      id: 'chickenpox',\n      name: 'วัคซีนอีสุกอีใส',\n      doses: 2,\n      interval: 30,\n      description: 'ฉีด 2 โดส ห่างกัน 1 เดือน',\n      available: true\n    },\n    {\n      id: 'rabies',\n      name: 'วัคซีนพิษสุนัขบ้า',\n      doses: 5,\n      interval: 3,\n      description: 'ฉีด 5 เข็ม: วันแรก, วันที่ 3, วันที่ 7, วันที่ 14, วันที่ 28',\n      available: true\n    }\n  ];\n\n  // จำลองข้อมูลคนไข้ที่ลงทะเบียนผ่าน LINE\n  useEffect(() => {\n    const mockPatients: Patient[] = [\n      {\n        id: '1',\n        lineUserId: 'U1234567890',\n        displayName: 'สมชาย ใจดี',\n        firstName: 'สมชาย',\n        lastName: 'ใจดี',\n        phone: '081-234-5678',\n        registeredAt: '2024-01-15T10:30:00',\n        status: 'pending'\n      },\n      {\n        id: '2',\n        lineUserId: 'U2345678901',\n        displayName: 'สมหญิง รักดี',\n        firstName: 'สมหญิง',\n        lastName: 'รักดี',\n        phone: '082-345-6789',\n        registeredAt: '2024-01-16T14:20:00',\n        status: 'pending'\n      },\n      {\n        id: '3',\n        lineUserId: 'U3456789012',\n        displayName: 'วิชัย เก่งมาก',\n        firstName: 'วิชัย',\n        lastName: 'เก่งมาก',\n        registeredAt: '2024-01-17T09:15:00',\n        status: 'completed'\n      }\n    ];\n\n    const mockAppointments: Appointment[] = [\n      {\n        id: 'apt-1',\n        patientId: '3',\n        patientName: 'วิชัย เก่งมาก',\n        vaccineId: 'covid-19',\n        vaccineName: 'วัคซีนโควิด-19',\n        doseNumber: 1,\n        totalDoses: 2,\n        appointmentDate: '2024-01-20',\n        appointmentTime: '10:00',\n        status: 'completed',\n        notes: 'ฉีดเรียบร้อย ไม่มีผลข้างเคียง',\n        createdAt: '2024-01-17T09:30:00',\n        staffId: 'staff-001'\n      }\n    ];\n\n    setPatients(mockPatients);\n    setAppointments(mockAppointments);\n  }, []);\n\n  // กรองคนไข้ตาม search term\n  const filteredPatients = patients.filter(patient =>\n    patient.displayName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    patient.phone?.includes(searchTerm)\n  );\n\n  // สร้างนัดหมายใหม่\n  const handleCreateAppointment = (formData: any) => {\n    if (!selectedPatient) return;\n\n    const newAppointment: Appointment = {\n      id: `apt-${Date.now()}`,\n      patientId: selectedPatient.id,\n      patientName: selectedPatient.displayName,\n      vaccineId: formData.vaccineId,\n      vaccineName: vaccineTypes.find(v => v.id === formData.vaccineId)?.name || '',\n      doseNumber: 1,\n      totalDoses: vaccineTypes.find(v => v.id === formData.vaccineId)?.doses || 1,\n      appointmentDate: formData.date,\n      appointmentTime: formData.time,\n      status: 'scheduled',\n      notes: formData.notes,\n      createdAt: new Date().toISOString(),\n      staffId: 'staff-001'\n    };\n\n    setAppointments(prev => [...prev, newAppointment]);\n    setShowAppointmentForm(false);\n    setSelectedPatient(null);\n\n    // ส่งการแจ้งเตือนไป LINE\n    sendLineNotification(selectedPatient, newAppointment);\n\n    toast({\n      title: \"สร้างนัดหมายสำเร็จ\",\n      description: `นัดหมายสำหรับ ${selectedPatient.displayName} ถูกสร้างเรียบร้อยแล้ว`\n    });\n  };\n\n  // ส่งการแจ้งเตือนไป LINE\n  const sendLineNotification = (patient: Patient, appointment: Appointment) => {\n    // จำลองการส่งข้อความไป LINE Bot API\n    console.log('Sending LINE notification:', {\n      to: patient.lineUserId,\n      message: `🎉 การนัดหมายของคุณถูกยืนยันแล้ว!\n\n📋 รายละเอียดการนัด:\n💉 วัคซีน: ${appointment.vaccineName}\n📅 วันที่: ${appointment.appointmentDate}\n⏰ เวลา: ${appointment.appointmentTime}\n🏥 โดสที่: ${appointment.doseNumber}/${appointment.totalDoses}\n\n⚠️ กรุณามาตรงเวลา\n📞 หากมีปัญหาโทร: 02-xxx-xxxx`\n    });\n\n    toast({\n      title: \"ส่งการแจ้งเตือนแล้ว\",\n      description: `ส่งข้อความยืนยันการนัดไปยัง LINE ของ ${patient.displayName} เรียบร้อยแล้ว`\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">\n            ระบบจัดการวัคซีน - เจ้าหน้าที่\n          </h1>\n          <p className=\"text-muted-foreground\">\n            จัดการคนไข้ วัคซีน และการนัดหมาย\n          </p>\n        </div>\n\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-4 max-w-2xl\">\n            <TabsTrigger value=\"patients\" className=\"flex items-center gap-2\">\n              <Users className=\"h-4 w-4\" />\n              คนไข้\n            </TabsTrigger>\n            <TabsTrigger value=\"appointments\" className=\"flex items-center gap-2\">\n              <Calendar className=\"h-4 w-4\" />\n              นัดหมาย\n            </TabsTrigger>\n            <TabsTrigger value=\"vaccines\" className=\"flex items-center gap-2\">\n              <Syringe className=\"h-4 w-4\" />\n              วัคซีน\n            </TabsTrigger>\n            <TabsTrigger value=\"notifications\" className=\"flex items-center gap-2\">\n              <Bell className=\"h-4 w-4\" />\n              แจ้งเตือน\n            </TabsTrigger>\n          </TabsList>\n\n          {/* แท็บคนไข้ */}\n          <TabsContent value=\"patients\" className=\"mt-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Users className=\"h-5 w-5\" />\n                  รายชื่อคนไข้ที่ลงทะเบียนผ่าน LINE\n                </CardTitle>\n                <CardDescription>\n                  คนไข้ที่ลงทะเบียนชื่อ-นามสกุลผ่าน LINE Bot รอการจัดการ\n                </CardDescription>\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"relative flex-1 max-w-md\">\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                    <Input\n                      placeholder=\"ค้นหาชื่อหรือเบอร์โทร...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      className=\"pl-10\"\n                    />\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-4\">\n                  {filteredPatients.map((patient) => (\n                    <div key={patient.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center\">\n                          <UserCheck className=\"h-6 w-6 text-primary\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold\">{patient.displayName}</h3>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {patient.phone || 'ไม่มีเบอร์โทร'}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            ลงทะเบียนเมื่อ: {new Date(patient.registeredAt).toLocaleString('th-TH')}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-3\">\n                        <Badge variant={patient.status === 'completed' ? 'default' : 'secondary'}>\n                          {patient.status === 'pending' ? 'รอดำเนินการ' : \n                           patient.status === 'completed' ? 'เสร็จสิ้น' : 'ยกเลิก'}\n                        </Badge>\n                        <Button\n                          onClick={() => {\n                            setSelectedPatient(patient);\n                            setShowAppointmentForm(true);\n                          }}\n                          size=\"sm\"\n                          className=\"flex items-center gap-2\"\n                        >\n                          <Plus className=\"h-4 w-4\" />\n                          จองวัคซีน\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* แท็บนัดหมาย */}\n          <TabsContent value=\"appointments\" className=\"mt-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Calendar className=\"h-5 w-5\" />\n                  รายการนัดหมาย\n                </CardTitle>\n                <CardDescription>\n                  นัดหมายการฉีดวัคซีนทั้งหมด\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-4\">\n                  {appointments.map((appointment) => (\n                    <div key={appointment.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center\">\n                          <Syringe className=\"h-6 w-6 text-primary\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold\">{appointment.patientName}</h3>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {appointment.vaccineName} - โดสที่ {appointment.doseNumber}/{appointment.totalDoses}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            📅 {appointment.appointmentDate} เวลา {appointment.appointmentTime}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-3\">\n                        <Badge variant={\n                          appointment.status === 'completed' ? 'default' :\n                          appointment.status === 'scheduled' ? 'secondary' :\n                          appointment.status === 'cancelled' ? 'destructive' : 'outline'\n                        }>\n                          {appointment.status === 'scheduled' ? 'นัดแล้ว' :\n                           appointment.status === 'completed' ? 'เสร็จสิ้น' :\n                           appointment.status === 'cancelled' ? 'ยกเลิก' : 'ไม่มา'}\n                        </Badge>\n                        {appointment.status === 'scheduled' && (\n                          <Button size=\"sm\" variant=\"outline\">\n                            <Edit className=\"h-4 w-4\" />\n                          </Button>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* แท็บวัคซีน */}\n          <TabsContent value=\"vaccines\" className=\"mt-6\">\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              {vaccineTypes.map((vaccine) => (\n                <Card key={vaccine.id}>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Syringe className=\"h-5 w-5\" />\n                      {vaccine.name}\n                    </CardTitle>\n                    <CardDescription>\n                      {vaccine.description}\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-2\">\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-sm text-muted-foreground\">จำนวนโดส:</span>\n                        <span className=\"font-semibold\">{vaccine.doses} โดส</span>\n                      </div>\n                      {vaccine.interval > 0 && (\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-sm text-muted-foreground\">ห่างระหว่างโดส:</span>\n                          <span className=\"font-semibold\">{vaccine.interval} วัน</span>\n                        </div>\n                      )}\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-sm text-muted-foreground\">สถานะ:</span>\n                        <Badge variant={vaccine.available ? 'default' : 'secondary'}>\n                          {vaccine.available ? 'พร้อมให้บริการ' : 'ไม่พร้อม'}\n                        </Badge>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </TabsContent>\n\n          {/* แท็บการแจ้งเตือน */}\n          <TabsContent value=\"notifications\" className=\"mt-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Bell className=\"h-5 w-5\" />\n                  ส่งการแจ้งเตือน\n                </CardTitle>\n                <CardDescription>\n                  ส่งข้อความแจ้งเตือนไปยัง LINE ของคนไข้\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Alert>\n                  <Bell className=\"h-4 w-4\" />\n                  <AlertDescription>\n                    ระบบจะส่งการแจ้งเตือนอัตโนมัติเมื่อสร้างนัดหมายใหม่ และก่อนวันนัด 1 วัน\n                  </AlertDescription>\n                </Alert>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        {/* ฟอร์มจองวัคซีน */}\n        {showAppointmentForm && selectedPatient && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n            <Card className=\"w-full max-w-md\">\n              <CardHeader>\n                <CardTitle>จองวัคซีนสำหรับ {selectedPatient.displayName}</CardTitle>\n                <CardDescription>\n                  เลือกวัคซีนและกำหนดวันเวลานัดหมาย\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <form onSubmit={(e) => {\n                  e.preventDefault();\n                  const formData = new FormData(e.target as HTMLFormElement);\n                  handleCreateAppointment({\n                    vaccineId: formData.get('vaccine'),\n                    date: formData.get('date'),\n                    time: formData.get('time'),\n                    notes: formData.get('notes')\n                  });\n                }} className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"vaccine\">เลือกวัคซีน</Label>\n                    <Select name=\"vaccine\" required>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"เลือกประเภทวัคซีน\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {vaccineTypes.filter(v => v.available).map(vaccine => (\n                          <SelectItem key={vaccine.id} value={vaccine.id}>\n                            {vaccine.name} ({vaccine.doses} โดส)\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"date\">วันที่นัด</Label>\n                    <Input\n                      type=\"date\"\n                      name=\"date\"\n                      required\n                      min={new Date().toISOString().split('T')[0]}\n                    />\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"time\">เวลานัด</Label>\n                    <Input\n                      type=\"time\"\n                      name=\"time\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"notes\">หมายเหตุ (ไม่จำเป็น)</Label>\n                    <Textarea\n                      name=\"notes\"\n                      placeholder=\"หมายเหตุเพิ่มเติม...\"\n                      rows={3}\n                    />\n                  </div>\n\n                  <div className=\"flex gap-3 pt-4\">\n                    <Button type=\"submit\" className=\"flex-1\">\n                      <CheckCircle className=\"h-4 w-4 mr-2\" />\n                      สร้างนัดหมาย\n                    </Button>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        setShowAppointmentForm(false);\n                        setSelectedPatient(null);\n                      }}\n                    >\n                      ยกเลิก\n                    </Button>\n                  </div>\n                </form>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StaffDashboard;","import { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { \n  Smartphone, \n  MessageSquare, \n  QrCode, \n  CheckCircle, \n  UserPlus,\n  ArrowRight,\n  Copy,\n  ExternalLink,\n  Send,\n  Link,\n  Settings\n} from 'lucide-react';\n\nconst PatientRegistration = () => {\n  const [showQR, setShowQR] = useState(false);\n  const [lineCode, setLineCode] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const n8nWebhookUrl = import.meta.env.VITE_WEBHOOK_URL;\n\n  const lineBot = {\n    name: 'VaccineBot',\n    id: '@vaccine-bot',\n    qrCode: 'https://line.me/R/ti/p/@vaccine-bot',\n    webhook: 'https://your-n8n.domain/webhook/line-bot'\n  };\n\n  const generateLineCode = () => {\n    const webhookCode = `// LINE Bot Webhook สำหรับลงทะเบียนคนไข้\n// URL: ${lineBot.webhook}\n\n// ข้อความต้อนรับ\nconst welcomeMessage = {\n  \"type\": \"text\",\n  \"text\": \"🏥 ยินดีต้อนรับสู่ระบบลงทะเบียนวัคซีน\\\\n\\\\n📝 กรุณากรอกข้อมูลของคุณ:\\\\n\\\\n1️⃣ ชื่อ-นามสกุล (เต็ม)\\\\n2️⃣ เบอร์โทรศัพท์\\\\n\\\\nตอบกลับข้อความนี้เพื่อเริ่มลงทะเบียน\"\n};\n\n// การประมวลผลข้อความ\nif (input.type === \"message\" && input.message.type === \"text\") {\n  const userText = input.message.text.trim();\n  const userId = input.source.userId;\n  \n  // ดึงข้อมูล Profile จาก LINE\n  const profileResponse = await this.helpers.request({\n    method: \"GET\",\n    url: \"https://api.line.me/v2/bot/profile/\" + userId,\n    headers: {\n      \"Authorization\": \"Bearer \" + process.env.LINE_CHANNEL_ACCESS_TOKEN\n    }\n  });\n  \n  const profile = profileResponse.body;\n  \n  // วิเคราะห์ข้อความที่ส่งมา\n  const patterns = {\n    fullName: /^[ก-๙a-zA-Z\\\\s]{4,50}$/,\n    phone: /^(08|09|06|02)\\\\d{8}$/\n  };\n  \n  let responseMessage = \"\";\n  \n  // ตรวจสอบรูปแบบข้อมูล\n  if (patterns.fullName.test(userText)) {\n    // เป็นชื่อ-นามสกุล\n    responseMessage = \\`✅ บันทึกชื่อ: \\${userText}\\\\n\\\\n📱 กรุณาส่งเบอร์โทรศัพท์ของคุณ\\\\n(ตัวอย่าง: 081-234-5678)\\`;\n    \n    // บันทึกลง Google Sheets\n    await saveToGoogleSheets('Patients', [\n      userId,\n      profile.displayName,\n      userText, // ชื่อเต็มที่ผู้ใช้กรอก\n      '', // เบอร์โทร - รอกรอก\n      new Date().toISOString(),\n      'pending-phone'\n    ]);\n    \n  } else if (patterns.phone.test(userText.replace(/-/g, ''))) {\n    // เป็นเบอร์โทรศัพท์\n    responseMessage = \\`✅ บันทึกเบอร์โทร: \\${userText}\\\\n\\\\n🎉 ลงทะเบียนสำเร็จ!\\\\n\\\\n👩‍⚕️ เจ้าหน้าที่จะติดต่อกลับเพื่อนัดหมายการฉีดวัคซีน\\\\n\\\\n⏰ โดยปกติจะได้รับการติดต่อภายใน 24 ชั่วโมง\\`;\n    \n    // อัปเดตข้อมูลใน Google Sheets\n    await updatePatientPhone(userId, userText);\n    \n    // แจ้งเตือนเจ้าหน้าที่\n    await notifyStaff(userId, profile.displayName, userText);\n    \n  } else {\n    // รูปแบบไม่ถูกต้อง\n    responseMessage = \\`❌ รูปแบบข้อมูลไม่ถูกต้อง\\\\n\\\\n📝 กรุณาส่ง:\\\\n\\\\n1️⃣ ชื่อ-นามสกุล (ภาษาไทยหรืออังกฤษ)\\\\nตัวอย่าง: สมชาย ใจดี\\\\n\\\\n2️⃣ เบอร์โทรศัพท์ (10 หลัก)\\\\nตัวอย่าง: 081-234-5678\\`;\n  }\n  \n  // ส่งข้อความตอบกลับ\n  return [{\n    json: {\n      to: userId,\n      messages: [{\n        type: \"text\",\n        text: responseMessage\n      }]\n    }\n  }];\n}\n\n// Helper Functions\nasync function saveToGoogleSheets(sheetName, data) {\n  const response = await this.helpers.request({\n    method: 'POST',\n    url: \\`https://sheets.googleapis.com/v4/spreadsheets/\\${process.env.GOOGLE_SPREADSHEET_ID}/values/\\${sheetName}:append\\`,\n    headers: {\n      'Authorization': 'Bearer ' + process.env.GOOGLE_ACCESS_TOKEN,\n      'Content-Type': 'application/json'\n    },\n    body: {\n      values: [data],\n      valueInputOption: 'RAW'\n    }\n  });\n  return response.body;\n}\n\nasync function updatePatientPhone(userId, phone) {\n  // ค้นหาแถวที่ต้องอัปเดต\n  const getResponse = await this.helpers.request({\n    method: 'GET',\n    url: \\`https://sheets.googleapis.com/v4/spreadsheets/\\${process.env.GOOGLE_SPREADSHEET_ID}/values/Patients:A:F\\`,\n    headers: {\n      'Authorization': 'Bearer ' + process.env.GOOGLE_ACCESS_TOKEN\n    }\n  });\n  \n  const rows = getResponse.body.values || [];\n  let updateRow = -1;\n  \n  for (let i = 0; i < rows.length; i++) {\n    if (rows[i][0] === userId) {\n      updateRow = i + 1;\n      break;\n    }\n  }\n  \n  if (updateRow > 0) {\n    // อัปเดตเบอร์โทรและสถานะ\n    await this.helpers.request({\n      method: 'PUT',\n      url: \\`https://sheets.googleapis.com/v4/spreadsheets/\\${process.env.GOOGLE_SPREADSHEET_ID}/values/Patients:D\\${updateRow}:F\\${updateRow}\\`,\n      headers: {\n        'Authorization': 'Bearer ' + process.env.GOOGLE_ACCESS_TOKEN,\n        'Content-Type': 'application/json'\n      },\n      body: {\n        values: [[\n          phone,\n          new Date().toISOString(),\n          'completed'\n        ]],\n        valueInputOption: 'RAW'\n      }\n    });\n  }\n}\n\nasync function notifyStaff(userId, displayName, phone) {\n  // ส่งการแจ้งเตือนไปยังระบบเจ้าหน้าที่\n  // (สามารถใช้ Webhook, Email, หรือ Slack)\n  console.log('New patient registered:', {\n    userId,\n    displayName,\n    phone,\n    timestamp: new Date().toISOString()\n  });\n}`;\n    setLineCode(webhookCode);\n  };\n\n  const copyToClipboard = (text: string) => {\n    navigator.clipboard.writeText(text);\n    toast({\n      title: \"คัดลอกแล้ว\",\n      description: \"คัดลอกโค้ดไปยังคลิปบอร์ดเรียบร้อยแล้ว\"\n    });\n  };\n\n  const sendToN8n = async (patientData: any) => {\n    // Security: Use secure webhook proxy instead of direct external webhook\n    setIsLoading(true);\n    try {\n      await fetch(`${import.meta.env.VITE_SUPABASE_URL}/functions/v1/secure-patient-webhook`, {\n        method: \"POST\",\n        headers: { \n          \"Content-Type\": \"application/json\",\n          \"x-webhook-secret\": \"secure-patient-registration\" // Simple secret for demo\n        },\n        body: JSON.stringify({\n          type: \"patient_registration\",\n          patientName: patientData.fullName || patientData.displayName,\n          registrationType: patientData.registrationType || \"manual\",\n          timestamp: new Date().toISOString(),\n          source: \"frontend_registration\",\n        }),\n      });\n      toast({\n        title: \"ส่งข้อมูลสำเร็จ\",\n        description: \"ข้อมูลได้ถูกส่งผ่านระบบรักษาความปลอดภัยแล้ว\",\n      });\n    } catch (error) {\n      console.error(\"Error sending to secure webhook:\", error);\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"ไม่สามารถส่งข้อมูลได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const testPatientRegistration = () => {\n    const testData = {\n      LineUserID: \"test-user-123\",\n      displayName: \"ทดสอบ ระบบ\",\n      fullName: \"นาย ทดสอบ ระบบ\",\n      registrationType: \"manual\",\n    };\n    sendToN8n(testData);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background p-6\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">\n            ระบบลงทะเบียนคนไข้ผ่าน LINE Bot\n          </h1>\n          <p className=\"text-muted-foreground\">\n            คนไข้สามารถลงทะเบียนชื่อ-นามสกุลและเบอร์โทรศัพท์ผ่าน LINE Bot\n          </p>\n        </div>\n\n        <div className=\"grid gap-6\">\n          {/* n8n Integration */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Link className=\"h-5 w-5\" />\n                เชื่อมต่อกับ n8n Workflow\n              </CardTitle>\n              <CardDescription>\n                ระบบจะเชื่อมต่อกับ n8n Webhook อัตโนมัติจากการตั้งค่าของผู้ดูแลระบบ\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <Alert>\n                <Settings className=\"h-4 w-4\" />\n                <AlertDescription>\n                  <strong>ระบบรักษาความปลอดภัย:</strong>\n                  <br />• ข้อมูลจะถูกส่งผ่านระบบรักษาความปลอดภัยของ Supabase\n                  <br />• ข้อมูลส่วนตัวจะถูกกรองก่อนส่งต่อ\n                  <br />• กดปุ่ม \"ทดสอบ\" เพื่อทดสอบการเชื่อมต่อ\n                </AlertDescription>\n              </Alert>\n              \n              <Button \n                onClick={testPatientRegistration}\n                disabled={isLoading}\n                className=\"w-full\"\n              >\n                <Send className=\"h-4 w-4 mr-2\" />\n                {isLoading ? 'กำลังส่ง...' : 'ทดสอบระบบ'}\n              </Button>\n            </CardContent>\n          </Card>\n\n          {/* ข้อมูล LINE Bot */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <MessageSquare className=\"h-5 w-5\" />\n                ข้อมูล LINE Bot\n              </CardTitle>\n              <CardDescription>\n                ข้อมูลสำหรับตั้งค่า LINE Bot สำหรับรับลงทะเบียนคนไข้\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <Label>ชื่อบอท</Label>\n                  <div className=\"flex items-center gap-2 mt-1\">\n                    <Input value={lineBot.name} readOnly />\n                    <Button size=\"sm\" variant=\"outline\" onClick={() => copyToClipboard(lineBot.name)}>\n                      <Copy className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n                <div>\n                  <Label>LINE Bot ID</Label>\n                  <div className=\"flex items-center gap-2 mt-1\">\n                    <Input value={lineBot.id} readOnly />\n                    <Button size=\"sm\" variant=\"outline\" onClick={() => copyToClipboard(lineBot.id)}>\n                      <Copy className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </div>\n              \n              <div>\n                <Label>Webhook URL</Label>\n                <div className=\"flex items-center gap-2 mt-1\">\n                  <Input value={lineBot.webhook} readOnly />\n                  <Button size=\"sm\" variant=\"outline\" onClick={() => copyToClipboard(lineBot.webhook)}>\n                    <Copy className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"flex gap-3\">\n                <Button onClick={() => setShowQR(!showQR)}>\n                  <QrCode className=\"h-4 w-4 mr-2\" />\n                  {showQR ? 'ซ่อน QR Code' : 'แสดง QR Code'}\n                </Button>\n                <Button variant=\"outline\" onClick={generateLineCode}>\n                  <UserPlus className=\"h-4 w-4 mr-2\" />\n                  สร้างโค้ด n8n\n                </Button>\n              </div>\n\n              {showQR && (\n                <div className=\"flex justify-center p-6 bg-muted rounded-lg\">\n                  <div className=\"text-center\">\n                    <div className=\"w-48 h-48 bg-white p-4 rounded-lg shadow-md mx-auto mb-4\">\n                      <div className=\"w-full h-full bg-gray-200 rounded flex items-center justify-center\">\n                        <QrCode className=\"h-20 w-20 text-gray-400\" />\n                      </div>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">\n                      QR Code สำหรับเพิ่มเพื่อน LINE Bot\n                    </p>\n                    <Button size=\"sm\" variant=\"outline\" className=\"mt-2\">\n                      <ExternalLink className=\"h-4 w-4 mr-2\" />\n                      เปิดใน LINE\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* ขั้นตอนการลงทะเบียน */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Smartphone className=\"h-5 w-5\" />\n                ขั้นตอนการลงทะเบียนสำหรับคนไข้\n              </CardTitle>\n              <CardDescription>\n                ลำดับขั้นตอนที่คนไข้ต้องทำผ่าน LINE\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-6\">\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-bold\">\n                    1\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold\">เพิ่มเพื่อน LINE Bot</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      สแกน QR Code หรือค้นหา ID: {lineBot.id}\n                    </p>\n                  </div>\n                </div>\n\n                <ArrowRight className=\"h-5 w-5 text-muted-foreground ml-4\" />\n\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-bold\">\n                    2\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold\">ส่งชื่อ-นามสกุล</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      พิมพ์ชื่อ-นามสกุลเต็ม (ภาษาไทยหรืออังกฤษ)\n                    </p>\n                    <Badge variant=\"outline\" className=\"mt-1\">\n                      ตัวอย่าง: สมชาย ใจดี\n                    </Badge>\n                  </div>\n                </div>\n\n                <ArrowRight className=\"h-5 w-5 text-muted-foreground ml-4\" />\n\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-bold\">\n                    3\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold\">ส่งเบอร์โทรศัพท์</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      พิมพ์เบอร์โทรศัพท์ 10 หลัก\n                    </p>\n                    <Badge variant=\"outline\" className=\"mt-1\">\n                      ตัวอย่าง: 081-234-5678\n                    </Badge>\n                  </div>\n                </div>\n\n                <ArrowRight className=\"h-5 w-5 text-muted-foreground ml-4\" />\n\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center\">\n                    <CheckCircle className=\"h-5 w-5\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-green-600\">ลงทะเบียนสำเร็จ</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      เจ้าหน้าที่จะติดต่อกลับเพื่อนัดหมายภายใน 24 ชั่วโมง\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* โค้ด n8n */}\n          {lineCode && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-between\">\n                  <span>โค้ด n8n Webhook</span>\n                  <Button size=\"sm\" variant=\"outline\" onClick={() => copyToClipboard(lineCode)}>\n                    <Copy className=\"h-4 w-4 mr-2\" />\n                    คัดลอก\n                  </Button>\n                </CardTitle>\n                <CardDescription>\n                  โค้ดสำหรับใส่ใน Code Node ของ n8n เพื่อจัดการการลงทะเบียน\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <pre className=\"bg-muted p-4 rounded-lg text-sm overflow-x-auto\">\n                  <code>{lineCode}</code>\n                </pre>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* แจ้งเตือนถ้าไม่มี n8nWebhookUrl */}\n          {!n8nWebhookUrl && (\n            <Alert>\n              <AlertDescription>\n                <span className=\"text-red-500 font-bold\">\n                  ระบบยังไม่ได้ตั้งค่า Webhook URL!\n                </span>\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {/* คำแนะนำ */}\n          <Alert>\n            <UserPlus className=\"h-4 w-4\" />\n            <AlertDescription>\n              <strong>หมายเหตุ:</strong> ระบบนี้เป็นส่วนสำหรับคนไข้ลงทะเบียนเบื้องต้นเท่านั้น \n              เจ้าหน้าที่จะใช้ระบบ Staff Dashboard เพื่อจัดการการจองวัคซีนและการนัดหมาย\n            </AlertDescription>\n          </Alert>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PatientRegistration;\n","import { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Separator } from '@/components/ui/separator';\nimport { \n  Settings, \n  MessageSquare, \n  Database, \n  Calendar, \n  Bell, \n  CheckCircle, \n  ArrowRight, \n  Download,\n  Copy,\n  Eye,\n  EyeOff,\n  ExternalLink,\n  Smartphone,\n  Globe,\n  Shield,\n  Users,\n  Syringe\n} from 'lucide-react';\n\nconst SetupGuide = () => {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [showApiKey, setShowApiKey] = useState(false);\n\n  const copyToClipboard = (text: string, label: string) => {\n    navigator.clipboard.writeText(text);\n    alert(`คัดลอก ${label} แล้ว!`);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background p-6\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"mb-8 text-center\">\n          <h1 className=\"text-4xl font-bold text-foreground mb-4\">\n            🏥 คู่มือการติดตั้งระบบลงทะเบียนวัคซีน\n          </h1>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            ระบบจัดการการลงทะเบียนวัคซีนผ่าน LINE Bot พร้อมระบบนัดหมายอัตโนมัติ\n            สำหรับโรงพยาบาล คลินิก และสถานพยาบาล\n          </p>\n        </div>\n\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-6\">\n            <TabsTrigger value=\"overview\">ภาพรวม</TabsTrigger>\n            <TabsTrigger value=\"requirements\">ความต้องการ</TabsTrigger>\n            <TabsTrigger value=\"line-setup\">ตั้งค่า LINE</TabsTrigger>\n            <TabsTrigger value=\"n8n-setup\">ตั้งค่า n8n</TabsTrigger>\n            <TabsTrigger value=\"calendar\">Google Calendar</TabsTrigger>\n            <TabsTrigger value=\"usage\">การใช้งาน</TabsTrigger>\n          </TabsList>\n\n          {/* ภาพรวมระบบ */}\n          <TabsContent value=\"overview\" className=\"mt-6\">\n            <div className=\"grid gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Syringe className=\"h-5 w-5\" />\n                    ภาพรวมระบบ\n                  </CardTitle>\n                  <CardDescription>\n                    ระบบลงทะเบียนวัคซีนแบบครบวงจร ประกอบด้วย 3 ส่วนหลัก\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid md:grid-cols-3 gap-4\">\n                    <div className=\"p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <Smartphone className=\"h-8 w-8 text-primary\" />\n                        <h3 className=\"font-semibold\">LINE Bot</h3>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">\n                        คนไข้ลงทะเบียนชื่อ-นามสกุลผ่าน LINE Bot พร้อม Rich Menu\n                      </p>\n                    </div>\n                    \n                    <div className=\"p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <Users className=\"h-8 w-8 text-primary\" />\n                        <h3 className=\"font-semibold\">Staff Dashboard</h3>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">\n                        เจ้าหน้าที่เลือกวัคซีน สร้างนัดหมาย และส่งการแจ้งเตือน\n                      </p>\n                    </div>\n                    \n                    <div className=\"p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <Calendar className=\"h-8 w-8 text-primary\" />\n                        <h3 className=\"font-semibold\">Auto Scheduling</h3>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">\n                        ระบบนัดหมายอัตโนมัติใน Google Calendar พร้อมแจ้งเตือน\n                      </p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>🔄 ขั้นตอนการทำงาน</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center gap-4\">\n                      <Badge variant=\"outline\" className=\"w-8 h-8 rounded-full flex items-center justify-center\">1</Badge>\n                      <ArrowRight className=\"h-4 w-4 text-muted-foreground\" />\n                      <span>คนไข้ลงทะเบียนผ่าน LINE Bot</span>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <Badge variant=\"outline\" className=\"w-8 h-8 rounded-full flex items-center justify-center\">2</Badge>\n                      <ArrowRight className=\"h-4 w-4 text-muted-foreground\" />\n                      <span>เจ้าหน้าที่เลือกวัคซีนและสร้างนัดหมาย</span>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <Badge variant=\"outline\" className=\"w-8 h-8 rounded-full flex items-center justify-center\">3</Badge>\n                      <ArrowRight className=\"h-4 w-4 text-muted-foreground\" />\n                      <span>ระบบส่งการแจ้งเตือนไป LINE และสร้างนัดใน Google Calendar</span>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <Badge variant=\"outline\" className=\"w-8 h-8 rounded-full flex items-center justify-center\">4</Badge>\n                      <ArrowRight className=\"h-4 w-4 text-muted-foreground\" />\n                      <span>แจ้งเตือนอัตโนมัติก่อนวันนัด</span>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          {/* ความต้องการระบบ */}\n          <TabsContent value=\"requirements\" className=\"mt-6\">\n            <div className=\"grid gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Settings className=\"h-5 w-5\" />\n                    ความต้องการของระบบ\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid md:grid-cols-2 gap-6\">\n                    <div>\n                      <h3 className=\"font-semibold mb-3 flex items-center gap-2\">\n                        <Shield className=\"h-4 w-4\" />\n                        บัญชีและเครื่องมือที่จำเป็น\n                      </h3>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">LINE Developers Account</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">n8n Self-hosted หรือ Cloud</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">Google Account</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">Google Sheets</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">Google Calendar</span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <h3 className=\"font-semibold mb-3 flex items-center gap-2\">\n                        <Globe className=\"h-4 w-4\" />\n                        ข้อกำหนดทางเทคนิค\n                      </h3>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">Public URL สำหรับ Webhook</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">SSL Certificate (HTTPS)</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">Internet Connection</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Alert>\n                <Download className=\"h-4 w-4\" />\n                <AlertDescription>\n                  <strong>หมายเหตุ:</strong> หากใช้ n8n แบบ Self-hosted จำเป็นต้องมี Server ที่สามารถรัน Docker \n                  หรือ Node.js และมี Public URL สำหรับรับ Webhook จาก LINE\n                </AlertDescription>\n              </Alert>\n            </div>\n          </TabsContent>\n\n          {/* การตั้งค่า LINE Bot */}\n          <TabsContent value=\"line-setup\" className=\"mt-6\">\n            <div className=\"grid gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <MessageSquare className=\"h-5 w-5\" />\n                    การตั้งค่า LINE Bot\n                  </CardTitle>\n                  <CardDescription>\n                    ขั้นตอนการสร้างและตั้งค่า LINE Bot สำหรับการลงทะเบียนวัคซีน\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-6\">\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">1. สร้าง LINE Bot</h3>\n                    <div className=\"pl-4 space-y-2\">\n                      <p className=\"text-sm\">• ไปที่ <a href=\"https://developers.line.biz\" target=\"_blank\" className=\"text-primary underline\">LINE Developers Console</a></p>\n                      <p className=\"text-sm\">• สร้าง Provider ใหม่ (ถ้ายังไม่มี)</p>\n                      <p className=\"text-sm\">• สร้าง Channel ประเภท \"Messaging API\"</p>\n                      <p className=\"text-sm\">• ตั้งชื่อ Bot เช่น \"ระบบลงทะเบียนวัคซีน\"</p>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">2. ตั้งค่า Webhook</h3>\n                    <div className=\"pl-4 space-y-3\">\n                      <p className=\"text-sm\">• ในหน้า Channel Settings</p>\n                      <p className=\"text-sm\">• เปิดใช้งาน \"Use webhook\"</p>\n                      <div className=\"bg-muted p-3 rounded-md\">\n                        <p className=\"text-sm font-medium mb-2\">Webhook URL:</p>\n                        <div className=\"flex items-center gap-2\">\n                          <code className=\"text-sm bg-background px-2 py-1 rounded border\">\n                            https://your-n8n-domain.com/webhook/line-vaccine\n                          </code>\n                          <Button \n                            size=\"sm\" \n                            variant=\"outline\"\n                            onClick={() => copyToClipboard('https://your-n8n-domain.com/webhook/line-vaccine', 'Webhook URL')}\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">3. ข้อมูลสำคัญที่ต้องเก็บ</h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"bg-muted p-3 rounded-md\">\n                        <p className=\"text-sm font-medium mb-2\">Channel Access Token:</p>\n                        <div className=\"flex items-center gap-2\">\n                          <code className=\"text-sm bg-background px-2 py-1 rounded border flex-1\">\n                            {showApiKey ? 'YOUR_CHANNEL_ACCESS_TOKEN_HERE' : '••••••••••••••••••••'}\n                          </code>\n                          <Button \n                            size=\"sm\" \n                            variant=\"outline\"\n                            onClick={() => setShowApiKey(!showApiKey)}\n                          >\n                            {showApiKey ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                          </Button>\n                        </div>\n                      </div>\n\n                      <div className=\"bg-muted p-3 rounded-md\">\n                        <p className=\"text-sm font-medium mb-2\">Channel Secret:</p>\n                        <div className=\"flex items-center gap-2\">\n                          <code className=\"text-sm bg-background px-2 py-1 rounded border flex-1\">\n                            {showApiKey ? 'YOUR_CHANNEL_SECRET_HERE' : '••••••••••••••••••••'}\n                          </code>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">4. สร้าง Rich Menu</h3>\n                    <div className=\"pl-4 space-y-2\">\n                      <p className=\"text-sm\">• ใช้ LINE Official Account Manager</p>\n                      <p className=\"text-sm\">• สร้างเมนูขนาด 2500x843 pixels</p>\n                      <p className=\"text-sm\">• แบ่งเป็น 3 พื้นที่:</p>\n                      <div className=\"ml-4 space-y-1\">\n                        <p className=\"text-xs\">- ลงทะเบียนคนไข้</p>\n                        <p className=\"text-xs\">- จองวัคซีน</p>\n                        <p className=\"text-xs\">- ตรวจสอบการจอง</p>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          {/* การตั้งค่า n8n */}\n          <TabsContent value=\"n8n-setup\" className=\"mt-6\">\n            <div className=\"grid gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Database className=\"h-5 w-5\" />\n                    การตั้งค่า n8n Workflow\n                  </CardTitle>\n                  <CardDescription>\n                    ขั้นตอนการสร้างและกำหนดค่า n8n workflow สำหรับระบบ\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-6\">\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">1. ติดตั้ง n8n</h3>\n                    <div className=\"bg-muted p-4 rounded-md\">\n                      <p className=\"text-sm font-medium mb-2\">Docker (แนะนำ):</p>\n                      <code className=\"text-sm block bg-background p-2 rounded border\">\n                        docker run -it --rm --name n8n -p 5678:5678 -v ~/.n8n:/home/node/.n8n n8nio/n8n\n                      </code>\n                    </div>\n                    \n                    <div className=\"bg-muted p-4 rounded-md mt-3\">\n                      <p className=\"text-sm font-medium mb-2\">NPM:</p>\n                      <code className=\"text-sm block bg-background p-2 rounded border\">\n                        npm install n8n -g<br/>\n                        n8n start\n                      </code>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">2. กำหนด Environment Variables</h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"bg-muted p-3 rounded-md\">\n                        <code className=\"text-sm block\">\n                          LINE_CHANNEL_ACCESS_TOKEN=your_line_access_token<br/>\n                          LINE_CHANNEL_SECRET=your_line_channel_secret<br/>\n                          GOOGLE_ACCESS_TOKEN=your_google_access_token<br/>\n                          GOOGLE_SPREADSHEET_ID=your_spreadsheet_id<br/>\n                          GOOGLE_CALENDAR_ID=your_calendar_id\n                        </code>\n                      </div>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">3. สร้าง Workflow Nodes</h3>\n                    <div className=\"grid gap-4\">\n                      <div className=\"border rounded-lg p-4\">\n                        <h4 className=\"font-medium mb-2\">Webhook Trigger</h4>\n                        <p className=\"text-sm text-muted-foreground mb-2\">รับข้อมูลจาก LINE Bot</p>\n                        <div className=\"text-xs bg-background p-2 rounded border\">\n                          Method: POST<br/>\n                          Path: /webhook/line-vaccine\n                        </div>\n                      </div>\n\n                      <div className=\"border rounded-lg p-4\">\n                        <h4 className=\"font-medium mb-2\">Code Node - Vaccine Mapping</h4>\n                        <p className=\"text-sm text-muted-foreground mb-2\">ใช้โค้ดที่คุณให้มา</p>\n                        <Button size=\"sm\" variant=\"outline\" className=\"w-full\">\n                          <Download className=\"h-4 w-4 mr-2\" />\n                          ดาวน์โหลดโค้ด Vaccine Mapping\n                        </Button>\n                      </div>\n\n                      <div className=\"border rounded-lg p-4\">\n                        <h4 className=\"font-medium mb-2\">Google Sheets</h4>\n                        <p className=\"text-sm text-muted-foreground mb-2\">บันทึกข้อมูลคนไข้และนัดหมาย</p>\n                        <div className=\"text-xs bg-background p-2 rounded border\">\n                          Operation: Append<br/>\n                          Sheet: Patients, Appointments\n                        </div>\n                      </div>\n\n                      <div className=\"border rounded-lg p-4\">\n                        <h4 className=\"font-medium mb-2\">LINE Message Reply</h4>\n                        <p className=\"text-sm text-muted-foreground mb-2\">ส่งข้อความตอบกลับ</p>\n                        <div className=\"text-xs bg-background p-2 rounded border\">\n                          Type: Reply Message<br/>\n                          Format: Text, Flex Message\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          {/* Google Calendar */}\n          <TabsContent value=\"calendar\" className=\"mt-6\">\n            <div className=\"grid gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Calendar className=\"h-5 w-5\" />\n                    การตั้งค่า Google Calendar\n                  </CardTitle>\n                  <CardDescription>\n                    เชื่อมต่อระบบกับ Google Calendar สำหรับการนัดหมายอัตโนมัติ\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-6\">\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">1. สร้าง Google Cloud Project</h3>\n                    <div className=\"pl-4 space-y-2\">\n                      <p className=\"text-sm\">• ไปที่ <a href=\"https://console.cloud.google.com\" target=\"_blank\" className=\"text-primary underline\">Google Cloud Console</a></p>\n                      <p className=\"text-sm\">• สร้าง Project ใหม่</p>\n                      <p className=\"text-sm\">• เปิดใช้งาน Google Calendar API</p>\n                      <p className=\"text-sm\">• สร้าง Service Account</p>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">2. สร้าง Calendar สำหรับวัคซีน</h3>\n                    <div className=\"pl-4 space-y-2\">\n                      <p className=\"text-sm\">• เข้า Google Calendar</p>\n                      <p className=\"text-sm\">• สร้าง Calendar ใหม่ชื่อ \"วัคซีนคลินิก\"</p>\n                      <p className=\"text-sm\">• แชร์ Calendar ให้ Service Account</p>\n                      <p className=\"text-sm\">• คัดลอก Calendar ID</p>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">3. ตั้งค่าการแจ้งเตือน</h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"bg-muted p-3 rounded-md\">\n                        <p className=\"text-sm font-medium mb-2\">การแจ้งเตือนอัตโนมัติ:</p>\n                        <div className=\"text-sm space-y-1\">\n                          <p>• 1 วันก่อนนัด - ส่งข้อความไป LINE</p>\n                          <p>• 1 ชั่วโมงก่อนนัด - แจ้งเตือนใน Calendar</p>\n                          <p>• 30 นาทีก่อนนัด - Email reminder</p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          {/* การใช้งาน */}\n          <TabsContent value=\"usage\" className=\"mt-6\">\n            <div className=\"grid gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Users className=\"h-5 w-5\" />\n                    วิธีการใช้งานระบบ\n                  </CardTitle>\n                  <CardDescription>\n                    คู่มือการใช้งานสำหรับเจ้าหน้าที่และคนไข้\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-6\">\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">สำหรับคนไข้ (ผ่าน LINE Bot)</h3>\n                    <div className=\"pl-4 space-y-2\">\n                      <p className=\"text-sm\">1. เพิ่มเพื่อน LINE Bot ของคลินิก</p>\n                      <p className=\"text-sm\">2. กดเมนู \"ลงทะเบียนคนไข้\"</p>\n                      <p className=\"text-sm\">3. กรอกข้อมูล ชื่อ-นามสกุล และเบอร์โทร</p>\n                      <p className=\"text-sm\">4. รอเจ้าหน้าที่ติดต่อกลับเพื่อนัดหมาย</p>\n                      <p className=\"text-sm\">5. ได้รับการแจ้งเตือนการนัดผ่าน LINE</p>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">สำหรับเจ้าหน้าที่</h3>\n                    <div className=\"pl-4 space-y-2\">\n                      <p className=\"text-sm\">1. เข้าใช้งาน Staff Dashboard</p>\n                      <p className=\"text-sm\">2. ดูรายชื่อคนไข้ที่ลงทะเบียน</p>\n                      <p className=\"text-sm\">3. เลือกคนไข้และกดปุ่ม \"จองวัคซีน\"</p>\n                      <p className=\"text-sm\">4. เลือกประเภทวัคซีนและวันเวลานัด</p>\n                      <p className=\"text-sm\">5. ระบบจะส่งการแจ้งเตือนอัตโนมัติ</p>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div>\n                    <h3 className=\"font-semibold mb-3\">การจัดการวัคซีนหลายโดส</h3>\n                    <div className=\"bg-muted p-4 rounded-md\">\n                      <p className=\"text-sm mb-2\">ระบบรองรับวัคซีนที่ต้องฉีดหลายโดส:</p>\n                      <div className=\"text-sm space-y-1 ml-4\">\n                        <p>• วัคซีนไวรัสตับอักเสบบี: 3 โดส</p>\n                        <p>• วัคซีนป้องกันมะเร็งปากมดลูก: 3 โดส</p>\n                        <p>• วัคซีนพิษสุนัขบ้า: 5 เข็ม</p>\n                        <p>• ระบบจะคำนวณวันนัดครั้งถัดไปอัตโนมัติ</p>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Alert>\n                <Bell className=\"h-4 w-4\" />\n                <AlertDescription>\n                  <strong>เคล็ดลับ:</strong> ใช้ฟีเจอร์ค้นหาใน Staff Dashboard เพื่อหาคนไข้ได้เร็วขึ้น \n                  สามารถค้นหาด้วยชื่อหรือเบอร์โทรศัพท์\n                </AlertDescription>\n              </Alert>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n};\n\nexport default SetupGuide;","import { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { useToast } from '@/hooks/use-toast';\nimport { AlertCircle, MessageSquare, Send, Copy, Settings, Link } from 'lucide-react';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\n\nconst LineBot = () => {\n  const [webhookUrl, setWebhookUrl] = useState('');\n  const [channelAccessToken, setChannelAccessToken] = useState('');\n  const [channelSecret, setChannelSecret] = useState('');\n  const [testMessage, setTestMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState<'disconnected' | 'connected' | 'error'>('disconnected');\n  const { toast } = useToast();\n\n  const testConnection = async () => {\n    if (!webhookUrl) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"กรุณากรอก Webhook URL\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const response = await fetch(webhookUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          type: 'test',\n          message: 'Connection test from web app',\n          timestamp: new Date().toISOString()\n        }),\n      });\n\n      setConnectionStatus('connected');\n      toast({\n        title: \"เชื่อมต่อสำเร็จ\",\n        description: \"เชื่อมต่อกับ n8n workflow สำเร็จ\",\n      });\n    } catch (error) {\n      setConnectionStatus('error');\n      toast({\n        title: \"เชื่อมต่อไม่สำเร็จ\",\n        description: \"ไม่สามารถเชื่อมต่อกับ n8n workflow ได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const sendTestMessage = async () => {\n    if (!webhookUrl || !testMessage) return;\n\n    setIsLoading(true);\n    try {\n      await fetch(webhookUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          type: 'message',\n          data: {\n            message: testMessage,\n            source: 'web_app_test'\n          }\n        }),\n      });\n\n      toast({\n        title: \"ส่งข้อความสำเร็จ\",\n        description: \"ส่งข้อความทดสอบไปยัง n8n แล้ว\",\n      });\n      setTestMessage('');\n    } catch (error) {\n      toast({\n        title: \"ส่งข้อความไม่สำเร็จ\",\n        description: \"เกิดข้อผิดพลาดในการส่งข้อความ\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const copyWebhookUrl = () => {\n    const lineWebhookUrl = `${webhookUrl}/line-webhook`;\n    navigator.clipboard.writeText(lineWebhookUrl);\n    toast({\n      title: \"คัดลอกสำเร็จ\",\n      description: \"คัดลอก LINE Webhook URL แล้ว\",\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background p-6\">\n      <div className=\"max-w-4xl mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-bold\">LINE Bot Management</h1>\n          <p className=\"text-muted-foreground mt-2\">\n            จัดการและเชื่อมต่อ LINE Bot กับ n8n workflow\n          </p>\n        </div>\n\n        {/* n8n Connection */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Link className=\"h-5 w-5\" />\n              เชื่อมต่อ n8n Workflow\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"webhook-url\">n8n Webhook URL</Label>\n              <div className=\"flex gap-2 mt-1\">\n                <Input\n                  id=\"webhook-url\"\n                  placeholder=\"https://your-n8n.render.com/webhook/...\"\n                  value={webhookUrl}\n                  onChange={(e) => setWebhookUrl(e.target.value)}\n                />\n                <Button \n                  onClick={testConnection} \n                  disabled={isLoading}\n                  variant={connectionStatus === 'connected' ? 'secondary' : 'default'}\n                >\n                  {connectionStatus === 'connected' ? 'เชื่อมต่อแล้ว' : 'ทดสอบ'}\n                </Button>\n              </div>\n            </div>\n\n            {connectionStatus === 'connected' && (\n              <Alert>\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>\n                  เชื่อมต่อกับ n8n workflow สำเร็จ! สำหรับ LINE Bot ให้ใช้ URL: \n                  <code className=\"mx-1 p-1 bg-muted rounded\">{webhookUrl}/line-webhook</code>\n                  <Button \n                    variant=\"ghost\" \n                    size=\"sm\" \n                    className=\"ml-2\"\n                    onClick={copyWebhookUrl}\n                  >\n                    <Copy className=\"h-3 w-3\" />\n                  </Button>\n                </AlertDescription>\n              </Alert>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* LINE Bot Configuration */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Settings className=\"h-5 w-5\" />\n              การตั้งค่า LINE Bot\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"channel-access-token\">Channel Access Token</Label>\n              <Input\n                id=\"channel-access-token\"\n                type=\"password\"\n                placeholder=\"Channel Access Token จาก LINE Developers\"\n                value={channelAccessToken}\n                onChange={(e) => setChannelAccessToken(e.target.value)}\n              />\n            </div>\n            \n            <div>\n              <Label htmlFor=\"channel-secret\">Channel Secret</Label>\n              <Input\n                id=\"channel-secret\"\n                type=\"password\"\n                placeholder=\"Channel Secret จาก LINE Developers\"\n                value={channelSecret}\n                onChange={(e) => setChannelSecret(e.target.value)}\n              />\n            </div>\n\n            <Alert>\n              <AlertDescription>\n                <strong>วิธีการตั้งค่า LINE Bot:</strong>\n                <br />1. ไปที่ LINE Developers Console\n                <br />2. คัดลอก Webhook URL ไปใส่ใน Messaging API\n                <br />3. กรอก Channel Access Token และ Channel Secret ที่นี่\n                <br />4. เปิดใช้งาน Webhook ใน LINE Developers\n              </AlertDescription>\n            </Alert>\n          </CardContent>\n        </Card>\n\n        {/* Test Message */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <MessageSquare className=\"h-5 w-5\" />\n              ทดสอบส่งข้อความ\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"test-message\">ข้อความทดสอบ</Label>\n              <Textarea\n                id=\"test-message\"\n                placeholder=\"พิมพ์ข้อความที่ต้องการทดสอบ...\"\n                value={testMessage}\n                onChange={(e) => setTestMessage(e.target.value)}\n              />\n            </div>\n            \n            <Button \n              onClick={sendTestMessage}\n              disabled={!webhookUrl || !testMessage || isLoading}\n              className=\"w-full\"\n            >\n              <Send className=\"h-4 w-4 mr-2\" />\n              {isLoading ? 'กำลังส่ง...' : 'ส่งข้อความทดสอบ'}\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default LineBot;","// src/integrations/supabase/client.ts\nimport { createClient } from '@supabase/supabase-js'\nimport type { Database } from './types'\n\n// ดึงค่าจาก .env.* (อย่าใส่ service_role ตรงนี้)\nconst SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL as string\nconst SUPABASE_ANON_KEY = import.meta.env.VITE_SUPABASE_ANON_KEY as string\n\nif (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\n  throw new Error('Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY')\n}\n\n// กัน HMR สร้าง client ซ้ำ\ntype SupabaseClientTyped = ReturnType<typeof createClient<Database>>\nconst g = globalThis as unknown as { __supabase?: SupabaseClientTyped }\n\nexport const supabase: SupabaseClientTyped =\n  g.__supabase ??\n  createClient<Database>(SUPABASE_URL, SUPABASE_ANON_KEY, {\n    auth: {\n      storage: localStorage,      // ใช้ได้บนเว็บและ Tauri (WebView2)\n      persistSession: true,\n      autoRefreshToken: true,\n    },\n  })\n\nif (!g.__supabase) g.__supabase = supabase\n","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { Calendar, Clock, MapPin, Syringe, RefreshCw, CheckCircle } from 'lucide-react';\nimport { supabase } from '@/integrations/supabase/client';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\n\ninterface NextAppointment {\n  id: string;\n  patient_id: string;\n  patient_name: string;\n  vaccine_name: string;\n  vaccine_type: string;\n  current_dose: number;\n  total_doses: number;\n  next_dose_due: string;\n  last_dose_date: string | null;\n  completion_status: string;\n}\n\ninterface UpcomingAppointment {\n  appointment_id: string;\n  appointment_date: string;\n  appointment_time: string;\n  vaccine_name: string;\n  vaccine_type: string;\n  location: string;\n  patient_name: string;\n  status: string;\n}\n\nconst PatientNextAppointment = () => {\n  const [nextAppointments, setNextAppointments] = useState<NextAppointment[]>([]);\n  const [upcomingAppointments, setUpcomingAppointments] = useState<UpcomingAppointment[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [lineUserId, setLineUserId] = useState<string>('');\n  const { toast } = useToast();\n\n  useEffect(() => {\n    // ตรวจสอบ LINE User ID\n    const checkLineUserId = async () => {\n      try {\n        if (window.liff && window.liff.isLoggedIn()) {\n          const profile = await window.liff.getProfile();\n          setLineUserId(profile.userId);\n          loadNextAppointments(profile.userId);\n          loadUpcomingAppointments(profile.userId);\n        } else {\n          console.log('LINE LIFF not available or not logged in');\n        }\n      } catch (error) {\n        console.log('Error getting LINE profile:', error);\n      }\n    };\n\n    checkLineUserId();\n  }, []);\n\n  const loadNextAppointments = async (userId: string) => {\n    if (!userId) return;\n    \n    setIsLoading(true);\n    try {\n      console.log('🔍 เริ่มโหลดข้อมูลการติดตามผู้ป่วย...');\n      \n      // Get all appointments for this user (both completed and scheduled)\n      const { data: appointmentData, error: apptError } = await supabase\n        .from('appointments')\n        .select('*')\n        .eq('line_user_id', userId)\n        .order('appointment_date', { ascending: false });\n\n      if (apptError) throw apptError;\n\n      console.log('📊 ข้อมูลนัดทั้งหมด:', appointmentData?.length || 0, 'รายการ');\n\n      const completedAppointments = appointmentData?.filter(a => a.status === 'completed') || [];\n      const scheduledAppointments = appointmentData?.filter(a => ['scheduled', 'pending'].includes(a.status)) || [];\n\n      console.log('✅ การฉีดที่เสร็จสิ้น:', completedAppointments.length, 'รายการ');\n      console.log('📅 นัดที่มีอยู่แล้ว:', scheduledAppointments.length, 'รายการ');\n\n      // Get vaccine schedules for calculating next doses\n      const { data: vaccineSchedules } = await supabase\n        .from('vaccine_schedules')\n        .select('*')\n        .eq('active', true);\n\n      console.log('💉 โหลดข้อมูลวัคซีน:', vaccineSchedules?.length || 0, 'ประเภท');\n\n      const allNextAppointments: NextAppointment[] = [];\n\n      // 1. First add existing scheduled appointments that haven't passed\n      for (const scheduledAppt of scheduledAppointments) {\n        if (new Date(scheduledAppt.appointment_date) > new Date()) {\n          // Count completed doses for this vaccine type\n          const completedDoses = completedAppointments.filter(a => \n            a.vaccine_type.toLowerCase() === scheduledAppt.vaccine_type.toLowerCase()\n          );\n\n          // Find vaccine schedule\n          const schedule = vaccineSchedules?.find(vs => \n            vs.vaccine_type.toLowerCase() === scheduledAppt.vaccine_type.toLowerCase()\n          );\n\n          if (schedule) {\n            allNextAppointments.push({\n              id: `scheduled-${scheduledAppt.id}`,\n              patient_id: userId,\n              patient_name: scheduledAppt.patient_name || 'ผู้ใช้',\n              vaccine_name: scheduledAppt.vaccine_name || schedule.vaccine_name,\n              vaccine_type: scheduledAppt.vaccine_type,\n              current_dose: completedDoses.length,\n              total_doses: schedule.total_doses,\n              next_dose_due: scheduledAppt.appointment_date,\n              last_dose_date: completedDoses.length > 0 ? \n                completedDoses.reduce((latest, current) => \n                  new Date(current.appointment_date) > new Date(latest.appointment_date) ? current : latest\n                ).appointment_date : '',\n              completion_status: 'scheduled'\n            });\n            \n            console.log(`📅 นัดที่มีอยู่: ${scheduledAppt.vaccine_type} วันที่ ${scheduledAppt.appointment_date}`);\n          }\n        }\n      }\n\n      // 2. Group completed appointments by vaccine type to calculate needed appointments\n      const vaccineMap = new Map();\n      \n      for (const appt of completedAppointments || []) {\n        const key = appt.vaccine_type;\n        \n        if (!vaccineMap.has(key)) {\n          // Count completed doses for this vaccine type\n          const completedDoses = completedAppointments.filter(a => \n            a.vaccine_type.toLowerCase() === appt.vaccine_type.toLowerCase()\n          );\n\n          console.log(`💉 วัคซีน: ${appt.vaccine_type}, โดสที่ฉีดแล้ว: ${completedDoses.length}`);\n\n          // Find latest dose date\n          const latestDose = completedDoses.reduce((latest, current) => \n            new Date(current.appointment_date) > new Date(latest.appointment_date) ? current : latest\n          );\n\n          console.log(`📅 เข็มล่าสุด: ${latestDose.appointment_date}`);\n\n          vaccineMap.set(key, {\n            vaccine_type: appt.vaccine_type,\n            doses_received: completedDoses.length,\n            latest_date: latestDose.appointment_date,\n            patient_name: appt.patient_name\n          });\n        }\n      }\n\n      // 3. Calculate new appointments needed for completed patients\n      const nextAppointmentPromises = Array.from(vaccineMap.values()).map(async (vaccine) => {\n        try {\n          // Find vaccine schedule\n          const schedule = vaccineSchedules?.find(vs => \n            vs.vaccine_type.toLowerCase() === vaccine.vaccine_type.toLowerCase()\n          );\n\n          if (!schedule) {\n            console.log(`❌ ไม่พบข้อมูลวัคซีน: ${vaccine.vaccine_type}`);\n            return null;\n          }\n\n          // Check if patient needs next dose\n          if (vaccine.doses_received >= schedule.total_doses) {\n            console.log(`✅ ได้รับวัคซีน ${vaccine.vaccine_type} ครบแล้ว`);\n            return null; // Already completed\n          }\n\n          // Check if patient already has a future appointment for this vaccine type\n          const existingFutureAppointment = scheduledAppointments.find(appt => \n            appt.vaccine_type.toLowerCase() === vaccine.vaccine_type.toLowerCase() &&\n            new Date(appt.appointment_date) > new Date()\n          );\n\n          if (existingFutureAppointment) {\n            console.log(`📅 มีนัด ${vaccine.vaccine_type} แล้วในวันที่ ${existingFutureAppointment.appointment_date} - ข้าม`);\n            return null; // Already has appointment (will be shown from existing appointments above)\n          }\n\n          // Calculate next dose date based on last completed dose\n          const intervals = Array.isArray(schedule.dose_intervals) ? \n            schedule.dose_intervals : \n            JSON.parse(schedule.dose_intervals?.toString() || '[]');\n\n          let nextDoseDate = new Date(vaccine.latest_date);\n          \n          // Add interval for next dose (intervals are 0-indexed from dose 1)\n          const intervalIndex = vaccine.doses_received; // For dose N+1, use intervals[N]\n          const intervalDays = typeof intervals[intervalIndex] === 'number' ? \n            intervals[intervalIndex] : \n            (typeof intervals[vaccine.doses_received - 1] === 'number' ? \n              intervals[vaccine.doses_received - 1] : 30);\n          \n          nextDoseDate.setDate(nextDoseDate.getDate() + intervalDays);\n\n          const nextDoseNumber = vaccine.doses_received + 1;\n\n          console.log(`🎯 วัคซีน ${vaccine.vaccine_type}: ต้องการโดสใหม่ ${nextDoseNumber}/${schedule.total_doses}, คำนวณนัด: ${nextDoseDate.toISOString().split('T')[0]}, ช่วงห่าง: ${intervalDays} วัน`);\n\n          return {\n            id: `new-${userId}-${vaccine.vaccine_type}`,\n            patient_id: userId,\n            patient_name: vaccine.patient_name || 'ผู้ใช้',\n            vaccine_name: schedule.vaccine_name,\n            vaccine_type: vaccine.vaccine_type,\n            current_dose: vaccine.doses_received, // จำนวนโดสที่ฉีดแล้วจริง\n            total_doses: schedule.total_doses,\n            next_dose_due: nextDoseDate.toISOString().split('T')[0],\n            last_dose_date: vaccine.latest_date, // วันที่ฉีดเข็มล่าสุดจริง\n            completion_status: 'needs_appointment'\n          };\n        } catch (error) {\n          console.error('Error processing vaccine:', vaccine.vaccine_type, error);\n          return null;\n        }\n      });\n\n      const results = await Promise.all(nextAppointmentPromises);\n      const validNewAppointments = results.filter(appt => appt !== null);\n      \n      // 4. Combine existing and new appointments\n      const allAppointments = [...allNextAppointments, ...validNewAppointments]\n        .sort((a, b) => new Date(a.next_dose_due).getTime() - new Date(b.next_dose_due).getTime());\n      \n      console.log('✅ ข้อมูลการติดตามที่คำนวณได้:', allAppointments.length, 'รายการ');\n      console.log('📅 นัดที่มีอยู่แล้ว:', allNextAppointments.length, 'รายการ');\n      console.log('🆕 นัดใหม่ที่ต้องสร้าง:', validNewAppointments.length, 'รายการ');\n      \n      allAppointments.forEach(appt => {\n        const status = appt.completion_status === 'scheduled' ? '(มีนัดแล้ว)' : '(ต้องสร้างนัด)';\n        console.log(`- วัคซีน: ${appt.vaccine_name}, โดส ${appt.current_dose + 1}/${appt.total_doses}, นัด: ${appt.next_dose_due}, เข็มล่าสุด: ${appt.last_dose_date || 'ยังไม่มี'} ${status}`);\n      });\n      \n      setNextAppointments(allAppointments);\n    } catch (error: any) {\n      console.error('Error loading next appointments:', error);\n      toast({\n        title: \"ไม่สามารถโหลดข้อมูลได้\",\n        description: \"กรุณาลองใหม่อีกครั้ง\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const loadUpcomingAppointments = async (userId: string) => {\n    if (!userId) return;\n    \n    try {\n      // ใช้ API function สำหรับดึงนัดหมายที่จะมาถึง\n      const { data, error } = await supabase.rpc('api_next_appointments', {\n        _line_user_id: userId,\n        _limit: 5\n      });\n\n      if (error) throw error;\n\n      if (data) {\n        setUpcomingAppointments(data);\n      }\n    } catch (error: any) {\n      console.error('Error loading upcoming appointments:', error);\n    }\n  };\n\n  const refreshData = () => {\n    if (lineUserId) {\n      loadNextAppointments(lineUserId);\n      loadUpcomingAppointments(lineUserId);\n    }\n  };\n\n  const formatThaiDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('th-TH', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'scheduled': return 'bg-blue-500';\n      case 'completed': return 'bg-green-500';\n      case 'cancelled': return 'bg-red-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  const getDaysUntilDue = (dueDate: string) => {\n    const today = new Date();\n    const due = new Date(dueDate);\n    const diffTime = due.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  if (!lineUserId) {\n    return (\n      <div className=\"max-w-2xl mx-auto p-6\">\n        <Alert>\n          <AlertDescription>\n            กรุณาเข้าสู่ระบบผ่าน LINE เพื่อดูข้อมูลนัดหมายของคุณ\n          </AlertDescription>\n        </Alert>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">นัดหมายของฉัน</h1>\n          <p className=\"text-muted-foreground\">ตรวจสอบนัดหมายและวัคซีนครั้งถัดไป</p>\n        </div>\n        <Button onClick={refreshData} disabled={isLoading} variant=\"outline\">\n          <RefreshCw className={`h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\n          รีเฟรช\n        </Button>\n      </div>\n\n      {/* นัดหมายที่จะมาถึง */}\n      {upcomingAppointments.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Calendar className=\"h-5 w-5\" />\n              นัดหมายที่จะมาถึง\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {upcomingAppointments.map((appointment, index) => (\n              <div key={index} className=\"border rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h3 className=\"font-semibold\">{appointment.vaccine_name}</h3>\n                  <Badge className={getStatusColor(appointment.status)}>\n                    {appointment.status === 'scheduled' ? 'นัดแล้ว' : appointment.status}\n                  </Badge>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-muted-foreground\">\n                  <div className=\"flex items-center gap-1\">\n                    <Calendar className=\"h-4 w-4\" />\n                    {formatThaiDate(appointment.appointment_date)}\n                  </div>\n                  {appointment.appointment_time && (\n                    <div className=\"flex items-center gap-1\">\n                      <Clock className=\"h-4 w-4\" />\n                      {appointment.appointment_time}\n                    </div>\n                  )}\n                  <div className=\"flex items-center gap-1\">\n                    <MapPin className=\"h-4 w-4\" />\n                    {appointment.location}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n      )}\n\n      {/* วัคซีนครั้งถัดไปที่ต้องฉีด */}\n      {nextAppointments.length > 0 ? (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Syringe className=\"h-5 w-5\" />\n              วัคซีนครั้งถัดไปที่ต้องฉีด\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {nextAppointments.map((appointment) => {\n              const daysUntil = getDaysUntilDue(appointment.next_dose_due);\n              const isOverdue = daysUntil < 0;\n              const isUrgent = daysUntil <= 7 && daysUntil >= 0;\n              \n              return (\n                <div key={appointment.id} className=\"border rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <div>\n                      <h3 className=\"font-semibold\">{appointment.vaccine_name}</h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        เข็มที่ {appointment.current_dose + 1} จาก {appointment.total_doses} เข็ม\n                      </p>\n                    </div>\n                    <Badge \n                      variant={isOverdue ? \"destructive\" : isUrgent ? \"secondary\" : \"outline\"}\n                      className={isOverdue ? \"bg-red-100 text-red-800\" : isUrgent ? \"bg-yellow-100 text-yellow-800\" : \"\"}\n                    >\n                      {isOverdue ? `เลยกำหนด ${Math.abs(daysUntil)} วัน` : \n                       isUrgent ? `อีก ${daysUntil} วัน` : \n                       `อีก ${daysUntil} วัน`}\n                    </Badge>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-muted-foreground\">วันที่ควรฉีด:</span>\n                      <p className=\"font-medium\">{formatThaiDate(appointment.next_dose_due)}</p>\n                    </div>\n                    {appointment.last_dose_date && (\n                      <div>\n                        <span className=\"text-muted-foreground\">เข็มล่าสุด:</span>\n                        <p className=\"font-medium\">{formatThaiDate(appointment.last_dose_date)}</p>\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"mt-4 p-3 bg-muted rounded-lg\">\n                    <p className=\"text-sm text-muted-foreground\">\n                      {appointment.completion_status === 'scheduled' ? \n                        '✅ มีนัดหมายแล้ว - กรุณามาตามเวลาที่นัด' :\n                        '💡 กรุณาติดต่อโรงพยาบาลโฮม เพื่อนัดหมายฉีดวัคซีนเข็มถัดไป'\n                      }\n                    </p>\n                  </div>\n                </div>\n              );\n            })}\n          </CardContent>\n        </Card>\n      ) : (\n        <Card>\n          <CardContent className=\"text-center py-8\">\n            <CheckCircle className=\"h-12 w-12 mx-auto text-green-500 mb-4\" />\n            <h3 className=\"font-semibold mb-2\">ไม่มีวัคซีนที่ต้องฉีดครั้งถัดไป</h3>\n            <p className=\"text-muted-foreground\">\n              วัคซีนทั้งหมดของคุณครบตามกำหนดแล้ว หรือยังไม่มีการลงทะเบียนฉีดวัคซีน\n            </p>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* ข้อมูลติดต่อ */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"text-center\">\n            <h3 className=\"font-semibold mb-2\">โรงพยาบาลโฮม</h3>\n            <div className=\"space-y-1 text-sm text-muted-foreground\">\n              <p>📞 โทร: 02-xxx-xxxx</p>\n              <p>📍 ที่อยู่: [ใส่ที่อยู่โรงพยาบาล]</p>\n              <p>🕐 เวลาทำการ: จันทร์-ศุกร์ 08:00-17:00</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default PatientNextAppointment;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { User, CheckCircle, Calendar, ArrowLeft } from 'lucide-react';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { supabase } from '@/integrations/supabase/client';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport PatientNextAppointment from '@/components/PatientNextAppointment';\n\ninterface PatientData {\n  fullName: string;\n  phone: string;\n  lineUserId?: string;\n}\n\nconst PatientPortal = () => {\n  \n  const [patientData, setPatientData] = useState<PatientData>({\n    fullName: '',\n    phone: ''\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [autoCloseTimer, setAutoCloseTimer] = useState<number>(0);\n  const { toast } = useToast();\n\n  const handleInputChange = (field: keyof PatientData, value: string) => {\n    setPatientData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const submitRegistration = async () => {\n    if (!patientData.fullName || !patientData.phone) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"กรุณากรอกข้อมูลให้ครบถ้วน\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // ตรวจสอบรูปแบบเบอร์โทรศัพท์\n    const phoneRegex = /^[0-9]{9,10}$/;\n    if (!phoneRegex.test(patientData.phone.replace(/[-\\s]/g, ''))) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"กรุณากรอกหมายเลขโทรศัพท์ให้ถูกต้อง\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const registrationId = `HOM-${Date.now()}`;\n      \n      // ดึง LINE User ID หากเป็นไปได้\n      let lineUserId = null;\n      try {\n        if (window.liff && window.liff.isLoggedIn()) {\n          const profile = await window.liff.getProfile();\n          lineUserId = profile.userId;\n          setPatientData(prev => ({ ...prev, lineUserId }));\n        }\n      } catch (error) {\n        console.log('LINE profile not available:', error);\n      }\n\n      const { error } = await supabase\n        .from('patient_registrations')\n        .insert({\n          full_name: patientData.fullName,\n          phone: patientData.phone,\n          line_user_id: lineUserId || `temp_${Date.now()}`,\n          hospital: 'โรงพยาบาลโฮม',\n          registration_id: registrationId,\n          source: lineUserId ? 'line_liff' : 'web_portal',\n          status: 'pending'\n        });\n\n      if (error) {\n        throw error;\n      }\n\n      setIsRegistered(true);\n      toast({\n        title: \"ลงทะเบียนสำเร็จ\",\n        description: \"ลงทะเบียนรับบริการสำเร็จแล้ว\",\n      });\n\n      // ส่งข้อความแจ้งเตือนผ่าน LINE หากมี LINE User ID\n      if (lineUserId) {\n        try {\n          await supabase.functions.invoke('send-line-message', {\n            body: {\n              userId: lineUserId,\n              message: `✅ ลงทะเบียนรับบริการสำเร็จ\n\n📋 รายละเอียด:\n• ชื่อ: ${patientData.fullName}\n• เบอร์โทร: ${patientData.phone}\n• รหัสลงทะเบียน: ${registrationId}\n\n🏥 โรงพยาบาลโฮม\nเจ้าหน้าที่จะติดต่อกลับเพื่อยืนยันนัดหมาย`\n            }\n          });\n        } catch (messageError) {\n          console.error('Error sending LINE message:', messageError);\n        }\n      }\n\n      // ตั้งเวลาปิดหน้าจออัตโนมัติ (10 วินาที)\n      const timer = window.setTimeout(() => {\n        if (window.liff && window.liff.isInClient()) {\n          window.liff.closeWindow();\n        }\n      }, 10000);\n      setAutoCloseTimer(timer);\n    } catch (error) {\n      console.error('Registration error:', error);\n      toast({\n        title: \"ลงทะเบียนไม่สำเร็จ\",\n        description: \"เกิดข้อผิดพลาดในการลงทะเบียน กรุณาลองใหม่อีกครั้ง\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const resetForm = () => {\n    if (autoCloseTimer) {\n      window.clearTimeout(autoCloseTimer);\n      setAutoCloseTimer(0);\n    }\n    setPatientData({\n      fullName: '',\n      phone: ''\n    });\n    setIsRegistered(false);\n  };\n\n  if (isRegistered) {\n    return (\n      <div className=\"min-h-screen bg-background p-6\">\n        <div className=\"max-w-md mx-auto\">\n          <Card className=\"border-green-200 bg-green-50\">\n            <CardContent className=\"p-8 text-center\">\n              <div className=\"mb-4\">\n                <img \n                  src={`${import.meta.env.BASE_URL}images/hospital-logo.png`}\n                  alt=\"โรงพยาบาลโฮม\" \n                  className=\"mx-auto h-16 w-auto object-contain mb-4\"\n                />\n              </div>\n              <CheckCircle className=\"h-16 w-16 text-green-600 mx-auto mb-4\" />\n              <h2 className=\"text-2xl font-bold text-green-800 mb-2\">\n                ลงทะเบียนสำเร็จ!\n              </h2>\n              <p className=\"text-green-700 mb-6\">\n                ขอบคุณที่ลงทะเบียน เจ้าหน้าที่จะติดต่อกลับเพื่อยืนยันนัดหมายและแจ้งข้อมูลบริการ\n                {patientData.lineUserId && (\n                  <span className=\"block mt-2 text-sm\">\n                    📱 ข้อความยืนยันได้ส่งไปที่ LINE แล้ว\n                  </span>\n                )}\n                {window.liff && window.liff.isInClient() && (\n                  <span className=\"block mt-2 text-sm\">\n                    ⏰ หน้าต่างจะปิดอัตโนมัติใน 10 วินาที\n                  </span>\n                )}\n              </p>\n              \n              <div className=\"bg-white p-4 rounded-lg border mb-6 text-left\">\n                <h3 className=\"font-semibold mb-2\">ข้อมูลที่ลงทะเบียน:</h3>\n                <div className=\"space-y-1 text-sm\">\n                  <p><strong>ชื่อ:</strong> {patientData.fullName}</p>\n                  <p><strong>เบอร์โทร:</strong> {patientData.phone}</p>\n                  <p><strong>สถานที่:</strong> โรงพยาบาลโฮม</p>\n                  {patientData.lineUserId && (\n                    <p><strong>LINE ID:</strong> {patientData.lineUserId}</p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Button onClick={resetForm} variant=\"outline\" className=\"w-full\">\n                  ลงทะเบียนใหม่\n                </Button>\n                {window.liff && window.liff.isInClient() && (\n                  <Button \n                    onClick={() => window.liff.closeWindow()} \n                    className=\"w-full\"\n                  >\n                    ปิดหน้าต่าง\n                  </Button>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background p-6\">\n      <div className=\"max-w-4xl mx-auto space-y-6\">\n        {/* Header with Logo */}\n        <div className=\"text-center\">\n          <div className=\"mb-4\">\n            <img \n              src={`${import.meta.env.BASE_URL}images/hospital-logo.png`}\n              alt=\"โรงพยาบาลโฮม\" \n              className=\"mx-auto h-24 w-auto object-contain\"\n            />\n          </div>\n          <h1 className=\"text-3xl font-bold\">โรงพยาบาลโฮม</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            บริการวัคซีนและการนัดหมาย\n          </p>\n        </div>\n\n        {/* Tabs for different functions */}\n        <Tabs defaultValue=\"appointments\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2\">\n            <TabsTrigger value=\"appointments\" className=\"flex items-center gap-2\">\n              <Calendar className=\"h-4 w-4\" />\n              นัดหมายของฉัน\n            </TabsTrigger>\n            <TabsTrigger value=\"register\" className=\"flex items-center gap-2\">\n              <User className=\"h-4 w-4\" />\n              ลงทะเบียน\n            </TabsTrigger>\n          </TabsList>\n          \n          <TabsContent value=\"appointments\" className=\"mt-6\">\n            <PatientNextAppointment />\n          </TabsContent>\n          \n          <TabsContent value=\"register\" className=\"mt-6\">\n            <div className=\"max-w-md mx-auto space-y-6\">\n              <div className=\"text-center\">\n                <h2 className=\"text-2xl font-bold\">ลงทะเบียนรับบริการ</h2>\n                <p className=\"text-muted-foreground mt-1 text-sm\">\n                  กรุณากรอกข้อมูลเพื่อลงทะเบียนรับบริการ\n                </p>\n              </div>\n\n              {/* Patient Registration Form */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <User className=\"h-5 w-5\" />\n                    ข้อมูลผู้ลงทะเบียน\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"fullName\">ชื่อ-นามสกุล</Label>\n                    <Input\n                      id=\"fullName\"\n                      placeholder=\"นาย/นาง/นางสาว ชื่อ นามสกุล\"\n                      value={patientData.fullName}\n                      onChange={(e) => {\n                        console.log('Name input changed:', e.target.value);\n                        handleInputChange('fullName', e.target.value);\n                      }}\n                      onFocus={() => console.log('Name input focused')}\n                      onBlur={() => console.log('Name input blurred')}\n                      className=\"mt-1\"\n                      autoComplete=\"name\"\n                    />\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"phone\">หมายเลขโทรศัพท์</Label>\n                    <Input\n                      id=\"phone\"\n                      placeholder=\"08x-xxx-xxxx\"\n                      value={patientData.phone}\n                      onChange={(e) => handleInputChange('phone', e.target.value)}\n                      className=\"mt-1\"\n                    />\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Submit Button */}\n              <Button \n                onClick={submitRegistration}\n                disabled={isLoading}\n                className=\"w-full\"\n                size=\"lg\"\n              >\n                {isLoading ? 'กำลังลงทะเบียน...' : 'ลงทะเบียนรับบริการ'}\n              </Button>\n\n              <Alert>\n                <AlertDescription>\n                  หลังจากลงทะเบียน เจ้าหน้าที่จะติดต่อกลับเพื่อยืนยันนัดหมาย\n                  และแจ้งข้อมูลบริการที่ต้องการ\n                </AlertDescription>\n              </Alert>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n};\n\nexport default PatientPortal;","/**\n * Admin Authentication Hook\n * Manages admin role verification and access control\n */\n\nimport { useState, useEffect } from 'react';\nimport { supabase } from '@/integrations/supabase/client';\n\nexport interface AdminUser {\n  id: string;\n  email: string;\n  role: string;\n  permissions: string[];\n  isAdmin: boolean;\n  isSuperAdmin: boolean;\n}\n\nexport interface UseAdminAuthReturn {\n  user: AdminUser | null;\n  isLoading: boolean;\n  isAdmin: boolean;\n  isSuperAdmin: boolean;\n  hasPermission: (permission: string) => boolean;\n  login: (email: string, password: string) => Promise<void>;\n  logout: () => Promise<void>;\n  error: string | null;\n}\n\n// Default admin permissions\nconst ADMIN_PERMISSIONS = [\n  'domain:read',\n  'domain:write',\n  'domain:delete',\n  'vaccine:read',\n  'vaccine:write',\n  'appointments:read',\n  'appointments:write',\n  'system:settings'\n];\n\nconst SUPER_ADMIN_PERMISSIONS = [\n  ...ADMIN_PERMISSIONS,\n  'users:manage',\n  'system:admin',\n  'domain:force_delete'\n];\n\n// Admin users configuration\nconst ADMIN_USERS = [\n  {\n    email: 'admin@vchomehospital.co.th',\n    password: 'admin123',\n    role: 'admin',\n    permissions: ADMIN_PERMISSIONS\n  },\n  {\n    email: 'superadmin@vchomehospital.co.th', \n    password: 'superadmin123',\n    role: 'superadmin',\n    permissions: SUPER_ADMIN_PERMISSIONS\n  }\n];\n\n// Check if user is admin by email domain or specific emails\nconst isAdminUser = (email: string): boolean => {\n  // Allow any @vchomehospital.co.th email as admin\n  if (email.endsWith('@vchomehospital.co.th')) {\n    return true;\n  }\n  \n  // Allow specific admin emails\n  const adminEmails = [\n    'admin@gmail.com',\n    'admin@example.com',\n    'test@admin.com',\n    // Add more admin emails here\n  ];\n  \n  return adminEmails.includes(email.toLowerCase());\n};\n\nexport function useAdminAuth(): UseAdminAuthReturn {\n  const [user, setUser] = useState<AdminUser | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      // Check Supabase auth first\n      const { data: { session } } = await supabase.auth.getSession();\n      \n      if (session?.user?.email && isAdminUser(session.user.email)) {\n        const adminUser: AdminUser = {\n          id: session.user.id,\n          email: session.user.email,\n          role: session.user.email.endsWith('@vchomehospital.co.th') ? 'admin' : 'admin',\n          permissions: ADMIN_PERMISSIONS,\n          isAdmin: true,\n          isSuperAdmin: session.user.email === 'superadmin@vchomehospital.co.th'\n        };\n        setUser(adminUser);\n        localStorage.setItem('admin_user', JSON.stringify(adminUser));\n        setIsLoading(false);\n        return;\n      }\n\n      // Check localStorage for custom admin login\n      const savedUser = localStorage.getItem('admin_user');\n      if (savedUser) {\n        try {\n          const parsedUser = JSON.parse(savedUser);\n          setUser(parsedUser);\n        } catch (err) {\n          localStorage.removeItem('admin_user');\n        }\n      }\n      \n      setIsLoading(false);\n    };\n\n    checkAuth();\n\n    // Listen for auth changes\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(async (event, session) => {\n      if (session?.user?.email && isAdminUser(session.user.email)) {\n        const adminUser: AdminUser = {\n          id: session.user.id,\n          email: session.user.email,\n          role: session.user.email.endsWith('@vchomehospital.co.th') ? 'admin' : 'admin',\n          permissions: ADMIN_PERMISSIONS,\n          isAdmin: true,\n          isSuperAdmin: session.user.email === 'superadmin@vchomehospital.co.th'\n        };\n        setUser(adminUser);\n        localStorage.setItem('admin_user', JSON.stringify(adminUser));\n      } else if (event === 'SIGNED_OUT') {\n        setUser(null);\n        localStorage.removeItem('admin_user');\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const login = async (email: string, password: string): Promise<void> => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      // First try Supabase auth for existing users\n      const { data, error: authError } = await supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n\n      if (data.user && isAdminUser(email)) {\n        // Supabase user is admin\n        const adminUser: AdminUser = {\n          id: data.user.id,\n          email: data.user.email!,\n          role: email.endsWith('@vchomehospital.co.th') ? 'admin' : 'admin',\n          permissions: ADMIN_PERMISSIONS,\n          isAdmin: true,\n          isSuperAdmin: email === 'superadmin@vchomehospital.co.th'\n        };\n\n        setUser(adminUser);\n        localStorage.setItem('admin_user', JSON.stringify(adminUser));\n        return;\n      }\n\n      // If Supabase auth fails, try demo admin accounts\n      if (authError) {\n        const adminUser = ADMIN_USERS.find(\n          u => u.email === email && u.password === password\n        );\n\n        if (!adminUser) {\n          throw new Error('Invalid credentials. Please check your email and password.');\n        }\n\n        const user: AdminUser = {\n          id: `demo_admin_${Date.now()}`,\n          email: adminUser.email,\n          role: adminUser.role,\n          permissions: adminUser.permissions,\n          isAdmin: true,\n          isSuperAdmin: adminUser.role === 'superadmin'\n        };\n\n        setUser(user);\n        localStorage.setItem('admin_user', JSON.stringify(user));\n        return;\n      }\n\n      // User exists but is not admin\n      if (data.user && !isAdminUser(email)) {\n        await supabase.auth.signOut();\n        throw new Error('Access denied. Admin privileges required.');\n      }\n\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Login failed');\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const logout = async (): Promise<void> => {\n    // Sign out from Supabase if signed in\n    await supabase.auth.signOut();\n    \n    setUser(null);\n    localStorage.removeItem('admin_user');\n  };\n\n  const hasPermission = (permission: string): boolean => {\n    return user?.permissions.includes(permission) || false;\n  };\n\n  return {\n    user,\n    isLoading,\n    isAdmin: user?.isAdmin || false,\n    isSuperAdmin: user?.isSuperAdmin || false,\n    hasPermission,\n    login,\n    logout,\n    error\n  };\n}","/**\n * Admin Login Component\n * Simple login form for admin access\n */\n\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Loader2, Shield, Eye, EyeOff } from 'lucide-react';\nimport { useAdminAuth } from '@/hooks/use-admin-auth';\n\ninterface AdminLoginProps {\n  onSuccess?: () => void;\n}\n\nexport function AdminLogin({ onSuccess }: AdminLoginProps) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const { login, isLoading, error } = useAdminAuth();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      await login(email, password);\n      onSuccess?.();\n    } catch (err) {\n      // Error is handled by the hook\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <div className=\"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4\">\n            <Shield className=\"h-6 w-6 text-blue-600\" />\n          </div>\n          <CardTitle className=\"text-2xl font-bold\">Admin Access</CardTitle>\n          <CardDescription>\n            เข้าสู่ระบบสำหรับผู้ดูแลระบบ\n          </CardDescription>\n        </CardHeader>\n\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {error && (\n              <Alert variant=\"destructive\">\n                <AlertDescription>{error}</AlertDescription>\n              </Alert>\n            )}\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"admin@vchomehospital.co.th\"\n                required\n                disabled={isLoading}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"รหัสผ่าน\"\n                  required\n                  disabled={isLoading}\n                />\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  disabled={isLoading}\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-4 w-4\" />\n                  ) : (\n                    <Eye className=\"h-4 w-4\" />\n                  )}\n                </Button>\n              </div>\n            </div>\n\n            <Button\n              type=\"submit\"\n              className=\"w-full\"\n              disabled={isLoading || !email || !password}\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                  กำลังเข้าสู่ระบบ...\n                </>\n              ) : (\n                <>\n                  <Shield className=\"h-4 w-4 mr-2\" />\n                  เข้าสู่ระบบ\n                </>\n              )}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n            <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Admin Access:</h4>\n            <div className=\"text-xs text-gray-600 space-y-1\">\n              <div>\n                <strong>Existing Users:</strong> Use your regular login credentials\n              </div>\n              <div>\n                <strong>Demo Admin:</strong> admin@vchomehospital.co.th / admin123\n              </div>\n              <div>\n                <strong>Super Admin:</strong> superadmin@vchomehospital.co.th / superadmin123\n              </div>\n            </div>\n            <div className=\"mt-2 text-xs text-blue-600\">\n              💡 Admin access is granted to @vchomehospital.co.th emails\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","/**\n * Protected Route Component\n * Wraps components that require admin access\n */\n\nimport React from 'react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { Shield, Lock, LogOut } from 'lucide-react';\nimport { useAdminAuth } from '@/hooks/use-admin-auth';\nimport { AdminLogin } from './AdminLogin';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n  requiredPermission?: string;\n  fallback?: React.ReactNode;\n  showLoginForm?: boolean;\n}\n\nexport function ProtectedRoute({ \n  children, \n  requiredPermission,\n  fallback,\n  showLoginForm = true\n}: ProtectedRouteProps) {\n  const { user, isLoading, isAdmin, hasPermission, logout } = useAdminAuth();\n\n  if (isLoading) {\n    return (\n      <Card>\n        <CardContent className=\"py-8\">\n          <div className=\"text-center\">\n            <Shield className=\"h-8 w-8 animate-pulse text-blue-500 mx-auto mb-4\" />\n            <p className=\"text-muted-foreground\">กำลังตรวจสอบสิทธิ์...</p>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (!isAdmin) {\n    if (showLoginForm) {\n      return <AdminLogin />;\n    }\n\n    return fallback || (\n      <Card>\n        <CardContent className=\"py-8\">\n          <div className=\"text-center space-y-4\">\n            <Lock className=\"h-12 w-12 text-red-500 mx-auto\" />\n            <div>\n              <h3 className=\"text-lg font-semibold text-red-700\">Access Restricted</h3>\n              <p className=\"text-sm text-muted-foreground mt-2\">\n                คุณต้องเป็น Admin เพื่อเข้าถึงส่วนนี้\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (requiredPermission && !hasPermission(requiredPermission)) {\n    return (\n      <Card>\n        <CardContent className=\"py-8\">\n          <div className=\"text-center space-y-4\">\n            <Lock className=\"h-12 w-12 text-orange-500 mx-auto\" />\n            <div>\n              <h3 className=\"text-lg font-semibold text-orange-700\">Insufficient Permissions</h3>\n              <p className=\"text-sm text-muted-foreground mt-2\">\n                คุณไม่มีสิทธิ์เข้าถึงฟีเจอร์นี้\n              </p>\n              <p className=\"text-xs text-muted-foreground\">\n                Required: {requiredPermission}\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div>\n      {/* Admin Status Bar */}\n      <div className=\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Shield className=\"h-4 w-4 text-blue-600\" />\n            <span className=\"text-sm font-medium text-blue-800\">\n              Admin Mode: {user?.email}\n            </span>\n            <span className=\"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded\">\n              {user?.role}\n            </span>\n          </div>\n          <Button\n            size=\"sm\"\n            variant=\"ghost\"\n            onClick={logout}\n            className=\"text-blue-600 hover:text-blue-800\"\n          >\n            <LogOut className=\"h-3 w-3 mr-1\" />\n            Logout\n          </Button>\n        </div>\n      </div>\n\n      {children}\n    </div>\n  );\n}","/**\n * Vaccine Settings Component\n * Admin-only vaccine configuration management\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Separator } from '@/components/ui/separator';\nimport { Loader2, Plus, Edit, Trash2, Syringe, Settings, Save, X } from 'lucide-react';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useToast } from '@/hooks/use-toast';\nimport { ProtectedRoute } from './ProtectedRoute';\n\ninterface VaccineSchedule {\n  id: string;\n  vaccine_type: string;\n  vaccine_name: string;\n  total_doses: number;\n  active: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\nexport function VaccineSettings() {\n  const [vaccines, setVaccines] = useState<VaccineSchedule[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [formData, setFormData] = useState({\n    vaccine_type: '',\n    vaccine_name: '',\n    total_doses: 1\n  });\n  const { toast } = useToast();\n\n  const loadVaccines = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('vaccine_schedules')\n        .select('*')\n        .order('vaccine_name');\n\n      if (error) throw error;\n      setVaccines(data || []);\n    } catch (error) {\n      console.error('Error loading vaccines:', error);\n      toast({\n        title: 'เกิดข้อผิดพลาด',\n        description: 'ไม่สามารถโหลดข้อมูลวัคซีนได้',\n        variant: 'destructive',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    if (!formData.vaccine_type || !formData.vaccine_name || formData.total_doses < 1) {\n      toast({\n        title: 'ข้อมูลไม่ครบถ้วน',\n        description: 'กรุณากรอกข้อมูลให้ครบถ้วน',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    try {\n      if (editingId) {\n        // Update existing vaccine\n        const { error } = await supabase\n          .from('vaccine_schedules')\n          .update({\n            vaccine_type: formData.vaccine_type,\n            vaccine_name: formData.vaccine_name,\n            total_doses: formData.total_doses,\n            updated_at: new Date().toISOString()\n          })\n          .eq('id', editingId);\n\n        if (error) throw error;\n\n        toast({\n          title: 'อัพเดตสำเร็จ',\n          description: 'อัพเดตข้อมูลวัคซีนแล้ว',\n        });\n      } else {\n        // Add new vaccine\n        const { error } = await supabase\n          .from('vaccine_schedules')\n          .insert([{\n            vaccine_type: formData.vaccine_type,\n            vaccine_name: formData.vaccine_name,\n            total_doses: formData.total_doses,\n            active: true\n          }]);\n\n        if (error) throw error;\n\n        toast({\n          title: 'เพิ่มสำเร็จ',\n          description: 'เพิ่มวัคซีนใหม่แล้ว',\n        });\n      }\n\n      setFormData({ vaccine_type: '', vaccine_name: '', total_doses: 1 });\n      setEditingId(null);\n      setShowAddForm(false);\n      loadVaccines();\n    } catch (error) {\n      console.error('Error saving vaccine:', error);\n      toast({\n        title: 'เกิดข้อผิดพลาด',\n        description: 'ไม่สามารถบันทึกข้อมูลได้',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  const handleEdit = (vaccine: VaccineSchedule) => {\n    setFormData({\n      vaccine_type: vaccine.vaccine_type,\n      vaccine_name: vaccine.vaccine_name,\n      total_doses: vaccine.total_doses\n    });\n    setEditingId(vaccine.id);\n    setShowAddForm(true);\n  };\n\n  const handleToggleActive = async (id: string, currentActive: boolean) => {\n    try {\n      const { error } = await supabase\n        .from('vaccine_schedules')\n        .update({ \n          active: !currentActive,\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', id);\n\n      if (error) throw error;\n\n      toast({\n        title: 'อัพเดตสำเร็จ',\n        description: `${!currentActive ? 'เปิดใช้งาน' : 'ปิดใช้งาน'}วัคซีนแล้ว`,\n      });\n\n      loadVaccines();\n    } catch (error) {\n      console.error('Error toggling vaccine status:', error);\n      toast({\n        title: 'เกิดข้อผิดพลาด',\n        description: 'ไม่สามารถอัพเดตสถานะได้',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  const handleDelete = async (id: string, vaccineName: string) => {\n    if (!confirm(`คุณต้องการลบวัคซีน \"${vaccineName}\" หรือไม่?`)) {\n      return;\n    }\n\n    try {\n      const { error } = await supabase\n        .from('vaccine_schedules')\n        .delete()\n        .eq('id', id);\n\n      if (error) throw error;\n\n      toast({\n        title: 'ลบสำเร็จ',\n        description: 'ลบวัคซีนแล้ว',\n      });\n\n      loadVaccines();\n    } catch (error) {\n      console.error('Error deleting vaccine:', error);\n      toast({\n        title: 'เกิดข้อผิดพลาด',\n        description: 'ไม่สามารถลบวัคซีนได้',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  const handleCancel = () => {\n    setFormData({ vaccine_type: '', vaccine_name: '', total_doses: 1 });\n    setEditingId(null);\n    setShowAddForm(false);\n  };\n\n  useEffect(() => {\n    loadVaccines();\n  }, []);\n\n  return (\n    <ProtectedRoute requiredPermission=\"vaccine:write\">\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Settings className=\"h-5 w-5\" />\n                การตั้งค่าวัคซีน\n              </CardTitle>\n              <CardDescription>\n                จัดการประเภทวัคซีนและจำนวนเข็มที่ต้องฉีด\n              </CardDescription>\n            </div>\n            <Button\n              onClick={() => setShowAddForm(true)}\n              disabled={showAddForm}\n            >\n              <Plus className=\"h-4 w-4 mr-2\" />\n              เพิ่มวัคซีน\n            </Button>\n          </div>\n        </CardHeader>\n\n        <CardContent>\n          {showAddForm && (\n            <>\n              <Card className=\"mb-6\">\n                <CardHeader>\n                  <CardTitle className=\"text-lg\">\n                    {editingId ? 'แก้ไขวัคซีน' : 'เพิ่มวัคซีนใหม่'}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    <div>\n                      <Label htmlFor=\"vaccine_type\">รหัสวัคซีน</Label>\n                      <Input\n                        id=\"vaccine_type\"\n                        value={formData.vaccine_type}\n                        onChange={(e) => setFormData({ ...formData, vaccine_type: e.target.value })}\n                        placeholder=\"เช่น COVID19, INFLUENZA\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"vaccine_name\">ชื่อวัคซีน</Label>\n                      <Input\n                        id=\"vaccine_name\"\n                        value={formData.vaccine_name}\n                        onChange={(e) => setFormData({ ...formData, vaccine_name: e.target.value })}\n                        placeholder=\"เช่น วัคซีนโควิด-19\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"total_doses\">จำนวนเข็ม</Label>\n                      <Input\n                        id=\"total_doses\"\n                        type=\"number\"\n                        min=\"1\"\n                        max=\"10\"\n                        value={formData.total_doses}\n                        onChange={(e) => setFormData({ ...formData, total_doses: parseInt(e.target.value) || 1 })}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2 mt-4\">\n                    <Button onClick={handleSave}>\n                      <Save className=\"h-4 w-4 mr-2\" />\n                      {editingId ? 'อัพเดต' : 'บันทึก'}\n                    </Button>\n                    <Button variant=\"outline\" onClick={handleCancel}>\n                      <X className=\"h-4 w-4 mr-2\" />\n                      ยกเลิก\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n              <Separator className=\"mb-6\" />\n            </>\n          )}\n\n          {loading ? (\n            <div className=\"text-center py-8\">\n              <Loader2 className=\"h-8 w-8 animate-spin mx-auto mb-4\" />\n              <p className=\"text-muted-foreground\">กำลังโหลดข้อมูลวัคซีน...</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {vaccines.map((vaccine) => (\n                <Card key={vaccine.id}>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"p-2 bg-blue-100 rounded-lg\">\n                          <Syringe className=\"h-5 w-5 text-blue-600\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold\">{vaccine.vaccine_name}</h3>\n                          <p className=\"text-sm text-muted-foreground\">\n                            รหัส: {vaccine.vaccine_type} • {vaccine.total_doses} เข็ม\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant={vaccine.active ? 'default' : 'secondary'}>\n                          {vaccine.active ? 'ใช้งาน' : 'ปิดใช้งาน'}\n                        </Badge>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vaccine)}\n                        >\n                          <Edit className=\"h-3 w-3\" />\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => handleToggleActive(vaccine.id, vaccine.active)}\n                        >\n                          {vaccine.active ? 'ปิด' : 'เปิด'}\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vaccine.id, vaccine.vaccine_name)}\n                        >\n                          <Trash2 className=\"h-3 w-3\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n\n              {vaccines.length === 0 && (\n                <div className=\"text-center py-12\">\n                  <Syringe className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                  <p className=\"text-muted-foreground\">ยังไม่มีวัคซีนในระบบ</p>\n                  <p className=\"text-sm text-muted-foreground mt-2\">\n                    คลิก \"เพิ่มวัคซีน\" เพื่อเริ่มต้น\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </ProtectedRoute>\n  );\n}","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport {\n  Calendar,\n  CheckCircle,\n  XCircle,\n  Clock,\n  RefreshCw,\n  Stethoscope,\n  TrendingUp,\n  Syringe,\n  UserPlus,\n  Globe,\n  Settings,\n  Lock\n} from 'lucide-react';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { ProtectedRoute } from './ProtectedRoute';\nimport { VaccineSettings } from './VaccineSettings';\nimport React from 'react';\n\ninterface Appointment {\n  id: string;\n  appointment_id: string;\n  patient_name: string;\n  patient_phone?: string;\n  patient_id_number?: string;\n  vaccine_type: string;\n  appointment_date: string;\n  appointment_time?: string;\n  status: string;\n  scheduled_by?: string;\n  notes?: string;\n  line_user_id?: string;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface VaccineOption {\n  id: string;\n  vaccine_type: string;\n  vaccine_name: string;\n  total_doses: number;\n}\n\ninterface PatientRegistration {\n  id: string;\n  registration_id: string;\n  full_name: string;\n  phone: string;\n  line_user_id?: string;\n  status: string;\n}\n\n// Error boundary component for domain management\nclass DomainManagementErrorBoundary extends React.Component<\n  { children: React.ReactNode; fallback: React.ComponentType<{ error: Error; retry: () => void }> },\n  { hasError: boolean; error: Error | null }\n> {\n  constructor(props: { children: React.ReactNode; fallback: React.ComponentType<{ error: Error; retry: () => void }> }) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error('Domain Management Error:', error, errorInfo);\n  }\n\n  retry = () => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      const FallbackComponent = this.props.fallback;\n      return <FallbackComponent error={this.state.error} retry={this.retry} />;\n    }\n\n    return this.props.children;\n  }\n}\n\n// Error fallback component for domain management\nfunction DomainManagementErrorFallback({ error, retry }: { error: Error; retry: () => void }) {\n  return (\n    <Card>\n      <CardContent className=\"py-8\">\n        <div className=\"text-center space-y-4\">\n          <XCircle className=\"h-12 w-12 text-red-500 mx-auto\" />\n          <div>\n            <h3 className=\"text-lg font-semibold text-red-700\">Domain Management Error</h3>\n            <p className=\"text-sm text-muted-foreground mt-2\">\n              Failed to load domain management: {error.message}\n            </p>\n          </div>\n          <Button onClick={retry} variant=\"outline\">\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Try Again\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nconst StaffPortal = () => {\n  const [todayAppointments, setTodayAppointments] = useState<Appointment[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedDate, setSelectedDate] = useState<string>(new Date().toISOString().split('T')[0]);\n  const [vaccineOptions, setVaccineOptions] = useState<VaccineOption[]>([]);\n  const [patientRegistrations, setPatientRegistrations] = useState<PatientRegistration[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedPatient, setSelectedPatient] = useState<PatientRegistration | null>(null);\n  const [activeTab, setActiveTab] = useState('appointments');\n  const [walkInForm, setWalkInForm] = useState({\n    vaccineType: '',\n    doseNumber: '1',\n    notes: ''\n  });\n  const { toast } = useToast();\n\n  // Kiosk Mode: ซ่อนแท็บ Settings\n  const isKioskMode = import.meta.env.VITE_KIOSK_MODE === 'true';\n\n  const loadAppointmentsByDate = async (date: string) => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('appointments')\n        .select('*')\n        .eq('appointment_date', date)\n        .order('appointment_time', { ascending: true });\n\n      if (error) throw error;\n      setTodayAppointments(data || []);\n    } catch (error) {\n      console.error('Error loading appointments:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: `ไม่สามารถโหลดข้อมูลนัดหมายวันที่ ${new Date(date).toLocaleDateString('th-TH')} ได้`,\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadTodayAppointments = () => loadAppointmentsByDate(selectedDate);\n\n  const loadVaccineOptions = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('vaccine_schedules')\n        .select('id, vaccine_type, vaccine_name, total_doses')\n        .eq('active', true)\n        .order('vaccine_name');\n\n      if (error) throw error;\n      setVaccineOptions(data || []);\n    } catch (error) {\n      console.error('Error loading vaccine options:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลวัคซีนได้\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const loadPatientRegistrations = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('patient_registrations')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n\n      console.log('Patient registrations loaded:', data?.length || 0, 'records');\n      console.log('Sample data:', data?.slice(0, 3));\n\n      setPatientRegistrations(data || []);\n    } catch (error) {\n      console.error('Error loading patient registrations:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลผู้ป่วยได้\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const updateAppointmentStatus = async (appointmentId: string, status: string) => {\n    try {\n      const { error } = await supabase\n        .from('appointments')\n        .update({ status, updated_at: new Date().toISOString() })\n        .eq('appointment_id', appointmentId);\n\n      if (error) throw error;\n\n      toast({\n        title: \"อัปเดตสำเร็จ\",\n        description: `อัปเดตสถานะนัดหมายเป็น ${getStatusText(status)} แล้ว`,\n      });\n\n      loadTodayAppointments();\n    } catch (error) {\n      console.error('Error updating appointment:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถอัปเดตสถานะได้\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const createWalkInVaccination = async () => {\n    if (!selectedPatient || !walkInForm.vaccineType || !walkInForm.doseNumber) {\n      toast({\n        title: \"ข้อมูลไม่ครบถ้วน\",\n        description: \"กรุณาเลือกผู้ป่วย ประเภทวัคซีน และโดสที่ฉีด\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Validate dose number against vaccine's total doses\n    const selectedVaccine = vaccineOptions.find(v => v.vaccine_type === walkInForm.vaccineType);\n    const doseNum = parseInt(walkInForm.doseNumber);\n\n    if (selectedVaccine && doseNum > selectedVaccine.total_doses) {\n      toast({\n        title: \"โดสไม่ถูกต้อง\",\n        description: `วัคซีน ${selectedVaccine.vaccine_name} มีเพียง ${selectedVaccine.total_doses} เข็ม`,\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      const now = new Date();\n      const currentTime = now.toTimeString().slice(0, 5);\n\n      const doseText = walkInForm.doseNumber === '1' ? 'เข็มที่ 1' :\n        walkInForm.doseNumber === '2' ? 'เข็มที่ 2' :\n          walkInForm.doseNumber === '3' ? 'เข็มที่ 3' :\n            `เข็มที่ ${walkInForm.doseNumber}`;\n\n      const appointmentData = {\n        patient_name: selectedPatient.full_name,\n        patient_phone: selectedPatient.phone,\n        patient_id_number: selectedPatient.registration_id,\n        line_user_id: selectedPatient.line_user_id,\n        vaccine_type: walkInForm.vaccineType,\n        appointment_date: today,\n        appointment_time: currentTime,\n        status: 'completed',\n        scheduled_by: 'walk_in',\n        notes: `ฉีดวัคซีน Walk-in ${doseText} (${selectedVaccine?.vaccine_name}) วันนี้${walkInForm.notes ? ' - ' + walkInForm.notes : ''}`\n      };\n\n      const { error } = await supabase\n        .from('appointments')\n        .insert([appointmentData]);\n\n      if (error) throw error;\n\n      toast({\n        title: \"บันทึกสำเร็จ\",\n        description: `บันทึกการฉีดวัคซีน ${selectedVaccine?.vaccine_name} ${doseText} ของ ${selectedPatient.full_name} แล้ว`,\n      });\n\n      // Reset form\n      setSelectedPatient(null);\n      setSearchTerm('');\n      setWalkInForm({\n        vaccineType: '',\n        doseNumber: '1',\n        notes: ''\n      });\n\n      loadTodayAppointments();\n    } catch (error) {\n      console.error('Error creating walk-in vaccination:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถบันทึกการฉีดวัคซีนได้\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    loadAppointmentsByDate(selectedDate);\n    loadVaccineOptions();\n    loadPatientRegistrations();\n  }, [selectedDate]);\n\n  const handleDateChange = (date: string) => {\n    setSelectedDate(date);\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'scheduled': return 'นัดหมาย';\n      case 'completed': return 'เสร็จสิ้น';\n      case 'cancelled': return 'ยกเลิก';\n      case 'no_show': return 'ไม่มา';\n      default: return status;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'scheduled': return 'bg-blue-100 text-blue-800 border-blue-200';\n      case 'completed': return 'bg-green-100 text-green-800 border-green-200';\n      case 'cancelled': return 'bg-red-100 text-red-800 border-red-200';\n      case 'no_show': return 'bg-gray-100 text-gray-800 border-gray-200';\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'scheduled': return <Clock className=\"h-4 w-4\" />;\n      case 'completed': return <CheckCircle className=\"h-4 w-4\" />;\n      case 'cancelled': return <XCircle className=\"h-4 w-4\" />;\n      case 'no_show': return <XCircle className=\"h-4 w-4\" />;\n      default: return <Clock className=\"h-4 w-4\" />;\n    }\n  };\n\n  const completedToday = todayAppointments.filter(a => a.status === 'completed').length;\n  const scheduledToday = todayAppointments.filter(a => a.status === 'scheduled').length;\n  const totalToday = todayAppointments.length;\n\n  const isToday = selectedDate === new Date().toISOString().split('T')[0];\n  const dateLabel = isToday ? 'วันนี้' : new Date(selectedDate).toLocaleDateString('th-TH');\n\n  return (\n    <div className=\"container mx-auto p-4 sm:p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 bg-primary/10 rounded-lg\">\n            <Stethoscope className=\"h-6 w-6 text-primary\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">Staff Portal</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              จัดการระบบโรงพยาบาลวัคซีน\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        {isKioskMode ? (\n          // Kiosk Mode: ไม่แสดงแท็บ (เน้นที่ฟอร์มบันทึกการฉีดเท่านั้น)\n          <div className=\"hidden\"></div>\n        ) : (\n          <TabsList className=\"grid w-full grid-cols-2 lg:w-auto lg:grid-cols-2\">\n            <TabsTrigger value=\"appointments\" className=\"flex items-center gap-2\">\n              <Calendar className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">นัดหมายและการฉีด</span>\n              <span className=\"sm:hidden\">นัดหมาย</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"settings\" className=\"flex items-center gap-2\">\n              <Settings className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">ตั้งค่าระบบ</span>\n              <span className=\"sm:hidden\">ตั้งค่า</span>\n            </TabsTrigger>\n          </TabsList>\n        )}\n\n        {/* Appointments Tab */}\n        <TabsContent value=\"appointments\" className=\"space-y-6 mt-6\">\n          {/* Date Controls */}\n          <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3\">\n            <div className=\"flex items-center gap-2\">\n              <Label htmlFor=\"date-picker\" className=\"text-sm font-medium\">เลือกวันที่:</Label>\n              <Input\n                id=\"date-picker\"\n                type=\"date\"\n                value={selectedDate}\n                onChange={(e) => handleDateChange(e.target.value)}\n                className=\"w-40\"\n              />\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                onClick={() => handleDateChange(new Date().toISOString().split('T')[0])}\n                variant=\"outline\"\n                size=\"sm\"\n                disabled={isToday}\n              >\n                วันนี้\n              </Button>\n              <Button\n                onClick={() => {\n                  const tomorrow = new Date();\n                  tomorrow.setDate(tomorrow.getDate() + 1);\n                  handleDateChange(tomorrow.toISOString().split('T')[0]);\n                }}\n                variant=\"outline\"\n                size=\"sm\"\n              >\n                พรุ่งนี้\n              </Button>\n              <Button onClick={loadTodayAppointments} disabled={loading} variant=\"outline\" size=\"sm\">\n                <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n                รีเฟรช\n              </Button>\n            </div>\n          </div>\n\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-2 bg-blue-100 rounded-lg\">\n                    <Calendar className=\"h-6 w-6 text-blue-600\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">นัดหมาย{dateLabel}</p>\n                    <p className=\"text-2xl font-bold text-blue-600\">{totalToday}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-2 bg-green-100 rounded-lg\">\n                    <CheckCircle className=\"h-6 w-6 text-green-600\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">ฉีดแล้ว</p>\n                    <p className=\"text-2xl font-bold text-green-600\">{completedToday}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-2 bg-yellow-100 rounded-lg\">\n                    <Clock className=\"h-6 w-6 text-yellow-600\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">รอฉีด</p>\n                    <p className=\"text-2xl font-bold text-yellow-600\">{scheduledToday}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-2 bg-purple-100 rounded-lg\">\n                    <TrendingUp className=\"h-6 w-6 text-purple-600\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">อัตราสำเร็จ</p>\n                    <p className=\"text-2xl font-bold text-purple-600\">\n                      {totalToday > 0 ? Math.round((completedToday / totalToday) * 100) : 0}%\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Walk-in Vaccination Form */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <UserPlus className=\"h-5 w-5\" />\n                บันทึกการฉีดวัคซีน Walk-in\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"patientSearch\">ค้นหาผู้ป่วยที่ลงทะเบียนแล้ว *</Label>\n                  <div className=\"relative\">\n                    <Input\n                      id=\"patientSearch\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      placeholder=\"กรอกชื่อ หรือเบอร์โทรศัพท์เพื่อค้นหา\"\n                      className=\"pr-10\"\n                    />\n                    {searchTerm && (\n                      <div className=\"absolute top-full left-0 right-0 z-50 bg-background border rounded-b-md shadow-lg max-h-60 overflow-y-auto\">\n                        {patientRegistrations\n                          .filter(patient =>\n                            patient.full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                            patient.phone.includes(searchTerm) ||\n                            patient.registration_id.includes(searchTerm)\n                          )\n                          .slice(0, 10)\n                          .map((patient) => (\n                            <div\n                              key={patient.id}\n                              className=\"p-3 hover:bg-muted cursor-pointer border-b last:border-b-0 transition-colors\"\n                              onClick={() => {\n                                setSelectedPatient(patient);\n                                setSearchTerm('');\n                              }}\n                            >\n                              <div className=\"font-medium text-foreground\">{patient.full_name}</div>\n                              <div className=\"text-sm text-muted-foreground flex items-center justify-between\">\n                                <span>โทร: {patient.phone}</span>\n                                <span className=\"text-xs\">ID: {patient.registration_id}</span>\n                              </div>\n                            </div>\n                          ))\n                        }\n                        {patientRegistrations.filter(patient =>\n                          patient.full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                          patient.phone.includes(searchTerm) ||\n                          patient.registration_id.includes(searchTerm)\n                        ).length === 0 && (\n                            <div className=\"p-3 text-center text-muted-foreground\">\n                              ไม่พบผู้ป่วยที่ตรงกับการค้นหา\n                            </div>\n                          )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {selectedPatient && (\n                  <div className=\"p-3 bg-muted/50 rounded-lg\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <div className=\"font-medium\">{selectedPatient.full_name}</div>\n                        <div className=\"text-sm text-muted-foreground\">{selectedPatient.phone}</div>\n                        <div className=\"text-xs text-muted-foreground\">ID: {selectedPatient.registration_id}</div>\n                      </div>\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => setSelectedPatient(null)}\n                      >\n                        <XCircle className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <Label htmlFor=\"vaccineType\">ประเภทวัคซีน *</Label>\n                    <Select\n                      value={walkInForm.vaccineType}\n                      onValueChange={(value) => setWalkInForm({ ...walkInForm, vaccineType: value, doseNumber: '1' })}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"เลือกประเภทวัคซีน\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {vaccineOptions\n                          .filter(vaccine => vaccine.vaccine_type && vaccine.vaccine_type.trim() !== '')\n                          .map((vaccine) => (\n                            <SelectItem\n                              key={vaccine.id}\n                              value={vaccine.vaccine_type}\n                            >\n                              {vaccine.vaccine_name}\n                            </SelectItem>\n                          ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div>\n                    <Label htmlFor=\"doseNumber\">โดสที่มาฉีด *</Label>\n                    <Select\n                      value={walkInForm.doseNumber}\n                      onValueChange={(value) => setWalkInForm({ ...walkInForm, doseNumber: value })}\n                      disabled={!walkInForm.vaccineType}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder={walkInForm.vaccineType ? \"เลือกโดสที่ฉีด\" : \"เลือกวัคซีนก่อน\"} />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {walkInForm.vaccineType && (() => {\n                          const selectedVaccine = vaccineOptions.find(v => v.vaccine_type === walkInForm.vaccineType);\n                          const maxDoses = selectedVaccine?.total_doses || 1;\n                          const doseOptions = [];\n\n                          for (let i = 1; i <= maxDoses; i++) {\n                            let label = `เข็มที่ ${i}`;\n                            if (i === 1) label += ' (เข็มแรก)';\n                            else if (i === maxDoses && maxDoses > 2) label += ' (เข็มสุดท้าย)';\n                            else if (i > 2) label += ' (เข็มเสริม)';\n\n                            doseOptions.push(\n                              <SelectItem key={i} value={i.toString()}>\n                                {label}\n                              </SelectItem>\n                            );\n                          }\n                          return doseOptions;\n                        })()}\n                      </SelectContent>\n                    </Select>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      {walkInForm.vaccineType ? (\n                        (() => {\n                          const selectedVaccine = vaccineOptions.find(v => v.vaccine_type === walkInForm.vaccineType);\n                          return `วัคซีนนี้มี ${selectedVaccine?.total_doses || 1} เข็ม - เลือกโดสที่คนไข้มาฉีดครั้งนี้`;\n                        })()\n                      ) : (\n                        'กรุณาเลือกประเภทวัคซีนก่อน'\n                      )}\n                    </p>\n                  </div>\n                  <div>\n                    <Label htmlFor=\"notes\">หมายเหตุ</Label>\n                    <Input\n                      id=\"notes\"\n                      value={walkInForm.notes}\n                      onChange={(e) => setWalkInForm({ ...walkInForm, notes: e.target.value })}\n                      placeholder=\"หมายเหตุเพิ่มเติม\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"mt-4\">\n                <Button onClick={createWalkInVaccination} className=\"bg-green-600 hover:bg-green-700\">\n                  <Syringe className=\"h-4 w-4 mr-2\" />\n                  บันทึกการฉีดวัคซีน\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Today's Appointments */}\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Calendar className=\"h-5 w-5\" />\n                  นัดหมาย{dateLabel}\n                </CardTitle>\n                <Badge variant=\"secondary\">\n                  {todayAppointments.length} รายการ\n                </Badge>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {todayAppointments.map((appointment) => (\n                  <div key={appointment.id} className=\"p-4 border rounded-lg hover:shadow-md transition-shadow\">\n                    <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n                      <div className=\"flex-1 w-full\">\n                        <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2\">\n                          <h3 className=\"font-semibold text-lg\">{appointment.patient_name}</h3>\n                          <Badge className={getStatusColor(appointment.status)}>\n                            {getStatusIcon(appointment.status)}\n                            <span className=\"ml-1\">{getStatusText(appointment.status)}</span>\n                          </Badge>\n                        </div>\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 text-sm text-muted-foreground\">\n                          <div className=\"flex items-center gap-2\">\n                            <Syringe className=\"h-4 w-4\" />\n                            {appointment.vaccine_type}\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <Clock className=\"h-4 w-4\" />\n                            {appointment.appointment_time || 'ไม่ระบุเวลา'}\n                          </div>\n                          {appointment.patient_phone && (\n                            <div className=\"flex items-center gap-2\">\n                              <span>📞</span>\n                              {appointment.patient_phone}\n                            </div>\n                          )}\n                          <div className=\"flex items-center gap-2\">\n                            <span>🆔</span>\n                            {appointment.appointment_id}\n                          </div>\n                        </div>\n                        {appointment.notes && (\n                          <p className=\"mt-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded\">\n                            {appointment.notes}\n                          </p>\n                        )}\n                      </div>\n                      <div className=\"flex gap-2 w-full sm:w-auto\">\n                        {appointment.status === 'scheduled' && (\n                          <>\n                            <Button\n                              size=\"sm\"\n                              onClick={() => updateAppointmentStatus(appointment.appointment_id, 'completed')}\n                              className=\"bg-green-600 hover:bg-green-700 flex-1 sm:flex-none\"\n                            >\n                              <CheckCircle className=\"h-4 w-4 mr-1\" />\n                              ฉีดแล้ว\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => updateAppointmentStatus(appointment.appointment_id, 'no_show')}\n                              className=\"flex-1 sm:flex-none\"\n                            >\n                              <XCircle className=\"h-4 w-4 mr-1\" />\n                              ไม่มา\n                            </Button>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {todayAppointments.length === 0 && (\n                <div className=\"text-center py-12\">\n                  <Calendar className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                  <p className=\"text-muted-foreground\">ไม่มีนัดหมายใน{dateLabel}</p>\n                  <p className=\"text-sm text-muted-foreground mt-2\">\n                    {isToday ? 'ใช้ฟอร์มด้านบนสำหรับบันทึกการฉีดวัคซีน Walk-in' : 'เลือกวันที่อื่นเพื่อดูนัดหมาย'}\n                  </p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Settings Tab */}\n        <TabsContent value=\"settings\" className=\"space-y-6 mt-6\">\n          <ProtectedRoute \n            requiredPermission=\"system:settings\"\n            showLoginForm={false}\n            fallback={\n              <Card>\n                <CardContent className=\"py-8\">\n                  <div className=\"text-center space-y-4\">\n                    <Lock className=\"h-12 w-12 text-orange-500 mx-auto\" />\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-orange-700\">Admin Access Required</h3>\n                      <p className=\"text-sm text-muted-foreground mt-2\">\n                        การตั้งค่าระบบต้องใช้สิทธิ์ Admin เท่านั้น\n                      </p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        กรุณาติดต่อผู้ดูแลระบบเพื่อขอสิทธิ์เข้าถึง\n                      </p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            }\n          >\n            <VaccineSettings />\n          </ProtectedRoute>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default StaffPortal;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { useToast } from '@/hooks/use-toast';\nimport { Calendar, Users, Bell, FileSpreadsheet } from 'lucide-react';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { supabase } from '@/integrations/supabase/client';\n\ninterface PatientData {\n  id: string;\n  name: string;\n  phone: string;\n  email?: string;\n  lineId?: string;\n}\n\ninterface AppointmentData {\n  patientId: string;\n  patientName: string;\n  date: string;\n  time: string;\n  vaccine: string;\n  hospital: string;\n  notes?: string;\n  notificationDate?: string;\n}\n\nconst PatientAppointmentManager = () => {\n  const [patients, setPatients] = useState<PatientData[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [appointment, setAppointment] = useState<AppointmentData>({\n    patientId: '',\n    patientName: '',\n    date: '',\n    time: '',\n    vaccine: '',\n    hospital: 'โรงพยาบาลโฮม',\n    notes: '',\n    notificationDate: ''\n  });\n  const { toast } = useToast();\n\n  // โหลดข้อมูลผู้ป่วยจาก Supabase และ Sync ไป Google Sheets\n  const loadPatients = async () => {\n    setIsLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('patient_registrations')\n        .select('id, full_name, phone, line_user_id, registration_id, created_at')\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n\n      const formattedPatients = data?.map(patient => ({\n        id: patient.registration_id || patient.id,\n        name: patient.full_name,\n        phone: patient.phone,\n        lineId: patient.line_user_id,\n        createdAt: patient.created_at\n      })) || [];\n\n      setPatients(formattedPatients);\n      toast({\n        title: \"โหลดข้อมูลสำเร็จ\",\n        description: `โหลดข้อมูลผู้ป่วย ${formattedPatients.length} คน จาก Supabase`,\n      });\n    } catch (error: any) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: error.message || \"ไม่สามารถโหลดข้อมูลได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Sync ข้อมูลผู้ป่วยไป Google Sheets\n  const syncPatientsToSheets = async () => {\n    if (patients.length === 0) {\n      toast({\n        title: \"ไม่มีข้อมูล\",\n        description: \"กรุณาโหลดข้อมูลผู้ป่วยก่อน\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const { data, error } = await supabase.functions.invoke('google-sheets-integration', {\n        body: { \n          action: 'syncPatients',\n          data: patients\n        }\n      });\n\n      if (error) throw error;\n\n      toast({\n        title: \"Sync สำเร็จ\",\n        description: `Sync ข้อมูลผู้ป่วย ${patients.length} คน ไป Google Sheets แล้ว`,\n      });\n    } catch (error: any) {\n      toast({\n        title: \"Sync ไม่สำเร็จ\",\n        description: error.message || \"ไม่สามารถ sync ข้อมูลได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // บันทึกการนัดหมายลง Supabase และ Google Sheets\n  const saveAppointment = async () => {\n    if (!appointment.patientId || !appointment.date || !appointment.time || !appointment.vaccine) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"กรุณากรอกข้อมูลให้ครบถ้วน\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      // หาข้อมูลผู้ป่วย\n      const selectedPatient = patients.find(p => p.id === appointment.patientId);\n      if (!selectedPatient) {\n        throw new Error('ไม่พบข้อมูลผู้ป่วย');\n      }\n\n      // 1. บันทึกลงตาราง appointments ใน Supabase (หลัก)\n      const appointmentData = {\n        patient_name: selectedPatient.name,\n        patient_phone: selectedPatient.phone,\n        patient_id_number: appointment.patientId,\n        line_user_id: selectedPatient.lineId,\n        vaccine_type: appointment.vaccine,\n        appointment_date: appointment.date,\n        appointment_time: appointment.time,\n        status: 'scheduled',\n        notes: appointment.notes || `นัดหมายจาก ${appointment.hospital}`,\n        scheduled_by: 'staff_manual'\n      };\n\n      const { error: supabaseError } = await supabase\n        .from('appointments')\n        .insert([appointmentData]);\n\n      if (supabaseError) throw supabaseError;\n\n      // 2. Sync ข้อมูลไป Google Sheets (สำรอง)\n      try {\n        await supabase.functions.invoke('google-sheets-integration', {\n          body: { \n            action: 'saveAppointment',\n            data: {\n              ...appointment,\n              patientName: selectedPatient.name,\n              patientPhone: selectedPatient.phone,\n              lineId: selectedPatient.lineId,\n              timestamp: new Date().toISOString()\n            }\n          }\n        });\n        console.log('✅ Synced to Google Sheets successfully');\n      } catch (syncError) {\n        console.warn('⚠️ Failed to sync to Google Sheets:', syncError);\n        // ไม่ให้ sync error หยุดการทำงานหลัก\n      }\n\n      toast({\n        title: \"บันทึกสำเร็จ\",\n        description: `บันทึกการนัดหมายของ ${selectedPatient.name} เรียบร้อยแล้ว (พร้อม sync ข้อมูลสำรอง)`,\n      });\n\n      // รีเซ็ตฟอร์ม\n      setAppointment({\n        patientId: '',\n        patientName: '',\n        date: '',\n        time: '',\n        vaccine: '',\n        hospital: 'โรงพยาบาลโฮม',\n        notes: '',\n        notificationDate: ''\n      });\n    } catch (error: any) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: error.message || \"ไม่สามารถบันทึกได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // ส่งการแจ้งเตือนทันที\n  const sendNotification = async () => {\n    if (!appointment.patientId || !appointment.date) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"กรุณากรอกข้อมูลผู้ป่วยและวันที่นัดก่อน\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const selectedPatient = patients.find(p => p.id === appointment.patientId);\n      if (!selectedPatient || !selectedPatient.lineId) {\n        throw new Error('ไม่พบ LINE ID ของผู้ป่วย');\n      }\n\n      const message = `🔔 แจ้งเตือนการนัดหมายฉีดวัคซีน\n\nสวัสดีคุณ ${selectedPatient.name}\n\n📅 วันที่: ${appointment.date}\n⏰ เวลา: ${appointment.time}\n💉 วัคซีน: ${appointment.vaccine}\n🏥 สถานที่: ${appointment.hospital}\n\n${appointment.notes ? `📝 หมายเหตุ: ${appointment.notes}` : ''}\n\nกรุณามาตามเวลานัดหมาย`;\n\n      const { error } = await supabase.functions.invoke('send-line-message', {\n        body: {\n          userId: selectedPatient.lineId,\n          message: message\n        }\n      });\n\n      if (error) throw error;\n\n      toast({\n        title: \"ส่งการแจ้งเตือนสำเร็จ\",\n        description: `ส่งข้อความแจ้งเตือนไปยัง ${selectedPatient.name} แล้ว`,\n      });\n    } catch (error: any) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: error.message || \"ไม่สามารถตั้งค่าการแจ้งเตือนได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handlePatientSelect = (patientId: string) => {\n    const selectedPatient = patients.find(p => p.id === patientId);\n    if (selectedPatient) {\n      setAppointment(prev => ({\n        ...prev,\n        patientId,\n        patientName: selectedPatient.name\n      }));\n    }\n  };\n\n  // Sync ข้อมูลนัดหมายที่มีอยู่แล้วไป Google Sheets\n  const syncExistingAppointments = async () => {\n    setIsLoading(true);\n    try {\n      // ดึงข้อมูลนัดหมายจาก Supabase\n      const { data: appointments, error } = await supabase\n        .from('appointments')\n        .select('*')\n        .order('created_at', { ascending: false })\n        .limit(100); // จำกัดที่ 100 รายการล่าสุด\n\n      if (error) throw error;\n\n      if (!appointments || appointments.length === 0) {\n        toast({\n          title: \"ไม่มีข้อมูล\",\n          description: \"ไม่พบข้อมูลนัดหมายที่จะ sync\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      // Sync ไป Google Sheets\n      const { error: syncError } = await supabase.functions.invoke('google-sheets-integration', {\n        body: { \n          action: 'syncAppointments',\n          data: appointments\n        }\n      });\n\n      if (syncError) throw syncError;\n\n      toast({\n        title: \"Sync สำเร็จ\",\n        description: `Sync ข้อมูลนัดหมาย ${appointments.length} รายการ ไป Google Sheets แล้ว`,\n      });\n    } catch (error: any) {\n      toast({\n        title: \"Sync ไม่สำเร็จ\",\n        description: error.message || \"ไม่สามารถ sync ข้อมูลนัดหมายได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadPatients();\n  }, []);\n\n  return (\n    <div className=\"space-y-4 md:space-y-6\">\n      {/* ข้อมูลผู้ป่วย */}\n      <Card>\n        <CardHeader className=\"pb-3 md:pb-4\">\n          <CardTitle className=\"flex items-center gap-2 text-lg md:text-xl\">\n            <Users className=\"h-5 w-5 text-primary\" />\n            ข้อมูลผู้ป่วยจาก Supabase\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4 p-4 md:p-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n            <Button onClick={loadPatients} disabled={isLoading} className=\"h-10 md:h-11\">\n              <FileSpreadsheet className=\"h-4 w-4 mr-2\" />\n              {isLoading ? 'กำลังโหลด...' : 'โหลดข้อมูลผู้ป่วย'}\n            </Button>\n            <Button \n              onClick={syncPatientsToSheets} \n              disabled={isLoading || patients.length === 0} \n              variant=\"outline\" \n              className=\"h-10 md:h-11\"\n            >\n              <FileSpreadsheet className=\"h-4 w-4 mr-2\" />\n              {isLoading ? 'กำลัง Sync...' : 'Sync ไป Google Sheets'}\n            </Button>\n          </div>\n\n          <Alert>\n            <FileSpreadsheet className=\"h-4 w-4\" />\n            <AlertDescription>\n              <strong>ระบบ Dual Backup:</strong> ข้อมูลจะถูกบันทึกใน Supabase (หลัก) และ sync ไป Google Sheets (สำรอง) \n              เพื่อความปลอดภัยและการเข้าถึงที่สะดวก\n            </AlertDescription>\n          </Alert>\n          \n          {patients.length > 0 && (\n            <div className=\"bg-muted/50 p-3 md:p-4 rounded-lg border\">\n              <p className=\"text-sm md:text-base font-medium mb-3\">ผู้ป่วยทั้งหมด: {patients.length} คน</p>\n              <div className=\"max-h-32 md:max-h-40 overflow-y-auto space-y-2\">\n                {patients.map((patient) => (\n                  <div key={patient.id} className=\"text-xs md:text-sm bg-background p-2 md:p-3 rounded border border-border/30\">\n                    <div className=\"font-medium\">{patient.name}</div>\n                    <div className=\"text-muted-foreground\">{patient.phone}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* การนัดหมาย */}\n      <Card>\n        <CardHeader className=\"pb-3 md:pb-4\">\n          <CardTitle className=\"flex items-center gap-2 text-lg md:text-xl\">\n            <Calendar className=\"h-5 w-5 text-primary\" />\n            บันทึกการนัดหมาย\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4 p-4 md:p-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <Label htmlFor=\"patient\" className=\"text-sm md:text-base font-medium\">เลือกผู้ป่วย</Label>\n              <Select value={appointment.patientId} onValueChange={handlePatientSelect}>\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue placeholder=\"เลือกผู้ป่วย\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {patients\n                    .filter(patient => patient.id && patient.id.trim() !== '')\n                    .map((patient) => (\n                      <SelectItem \n                        key={patient.id} \n                        value={patient.id}\n                      >\n                        {patient.name} - {patient.phone}\n                      </SelectItem>\n                    ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"vaccine\" className=\"text-sm md:text-base font-medium\">ประเภทวัคซีน</Label>\n              <Select value={appointment.vaccine} onValueChange={(value) => \n                setAppointment(prev => ({ ...prev, vaccine: value }))\n              }>\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue placeholder=\"เลือกประเภทวัคซีน\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"COVID-19\">COVID-19</SelectItem>\n                  <SelectItem value=\"ไข้หวัดใหญ่\">ไข้หวัดใหญ่</SelectItem>\n                  <SelectItem value=\"โควิด + ไข้หวัดใหญ่\">โควิด + ไข้หวัดใหญ่</SelectItem>\n                  <SelectItem value=\"HPV\">HPV</SelectItem>\n                  <SelectItem value=\"MMR\">MMR</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"date\" className=\"text-sm md:text-base font-medium\">วันที่นัด</Label>\n              <Input\n                id=\"date\"\n                type=\"date\"\n                value={appointment.date}\n                onChange={(e) => setAppointment(prev => ({ ...prev, date: e.target.value }))}\n                className=\"mt-1\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"time\" className=\"text-sm md:text-base font-medium\">เวลา</Label>\n              <Input\n                id=\"time\"\n                type=\"time\"\n                value={appointment.time}\n                onChange={(e) => setAppointment(prev => ({ ...prev, time: e.target.value }))}\n                className=\"mt-1\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <Label htmlFor=\"notes\" className=\"text-sm md:text-base font-medium\">หมายเหตุ</Label>\n            <Textarea\n              id=\"notes\"\n              placeholder=\"หมายเหตุเพิ่มเติม\"\n              value={appointment.notes}\n              onChange={(e) => setAppointment(prev => ({ ...prev, notes: e.target.value }))}\n              className=\"mt-1 min-h-[80px] md:min-h-[100px]\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n            <Button onClick={saveAppointment} disabled={isLoading} className=\"h-10 md:h-11\">\n              <Calendar className=\"h-4 w-4 mr-2\" />\n              {isLoading ? 'กำลังบันทึก...' : 'บันทึกการนัดหมาย'}\n            </Button>\n            <Button \n              onClick={syncExistingAppointments} \n              disabled={isLoading} \n              variant=\"outline\" \n              className=\"h-10 md:h-11\"\n            >\n              <FileSpreadsheet className=\"h-4 w-4 mr-2\" />\n              {isLoading ? 'กำลัง Sync...' : 'Sync นัดหมายทั้งหมด'}\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* การแจ้งเตือน */}\n      <Card>\n        <CardHeader className=\"pb-3 md:pb-4\">\n          <CardTitle className=\"flex items-center gap-2 text-lg md:text-xl\">\n            <Bell className=\"h-5 w-5 text-primary\" />\n            ส่งการแจ้งเตือน\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4 p-4 md:p-6\">\n          <div>\n            <Label htmlFor=\"notificationDate\" className=\"text-sm md:text-base font-medium\">วันที่ต้องการแจ้งเตือน</Label>\n            <Input\n              id=\"notificationDate\"\n              type=\"date\"\n              value={appointment.notificationDate}\n              onChange={(e) => setAppointment(prev => ({ ...prev, notificationDate: e.target.value }))}\n              className=\"mt-1\"\n            />\n          </div>\n\n          <Alert>\n            <Bell className=\"h-4 w-4\" />\n            <AlertDescription className=\"text-sm md:text-base\">\n              ระบบจะแจ้งเตือนผู้ป่วยผ่าน LINE ในวันที่กำหนด เพื่อเตือนเรื่องการนัดหมายฉีดวัคซีน\n            </AlertDescription>\n          </Alert>\n\n          <Button onClick={sendNotification} disabled={isLoading} className=\"w-full h-10 md:h-11\">\n            <Bell className=\"h-4 w-4 mr-2\" />\n            {isLoading ? 'กำลังส่ง...' : 'ส่งการแจ้งเตือนทันที'}\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default PatientAppointmentManager;","import { useState } from 'react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport WorkflowAnalyzer from '@/components/WorkflowAnalyzer';\nimport VaccineWorkflowDesigner from '@/components/VaccineWorkflowDesigner';\nimport StaffDashboard from '@/components/StaffDashboard';\nimport PatientRegistration from '@/components/PatientRegistration';\nimport SetupGuide from '@/components/SetupGuide';\nimport RenderSetupGuide from '@/components/RenderSetupGuide';\nimport LineBot from '@/components/LineBot';\nimport PatientPortal from '@/components/PatientPortal';\nimport StaffPortal from '@/components/StaffPortal';\nimport GoogleSheetsIntegration from '@/components/GoogleSheetsIntegration';\n\nconst Index = () => {\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Tabs defaultValue=\"designer\" className=\"w-full\">\n        <div className=\"container mx-auto pt-6\">\n          <TabsList className=\"grid w-full grid-cols-8 max-w-7xl mx-auto\">\n            <TabsTrigger value=\"setup\">คู่มือติดตั้ง</TabsTrigger>\n            <TabsTrigger value=\"designer\">Workflow Designer</TabsTrigger>\n            <TabsTrigger value=\"analyzer\">Analyzer</TabsTrigger>\n            <TabsTrigger value=\"LineBot\">LINE Bot</TabsTrigger>\n            <TabsTrigger value=\"PatientPortal\">ลงทะเบียนผู้ป่วย</TabsTrigger>\n            <TabsTrigger value=\"StaffPortal\">เจ้าหน้าที่</TabsTrigger>\n            <TabsTrigger value=\"googlesheets\">Google Sheets</TabsTrigger>\n            <TabsTrigger value=\"staff\">Dashboard เดิม</TabsTrigger>\n          </TabsList>\n        </div>\n        \n        <TabsContent value=\"designer\" className=\"mt-0\">\n          <VaccineWorkflowDesigner />\n        </TabsContent>\n        \n        <TabsContent value=\"analyzer\" className=\"mt-0\">\n          <WorkflowAnalyzer />\n        </TabsContent>\n        \n        <TabsContent value=\"staff\" className=\"mt-0\">\n          <StaffDashboard />\n        </TabsContent>\n        \n        <TabsContent value=\"patient\" className=\"mt-0\">\n          <PatientRegistration />\n        </TabsContent>\n        \n        <TabsContent value=\"setup\" className=\"mt-0\">\n          <SetupGuide />\n        </TabsContent>\n        \n        <TabsContent value=\"LineBot\" className=\"mt-0\">\n          <LineBot />\n        </TabsContent>\n        \n        <TabsContent value=\"PatientPortal\" className=\"mt-0\">\n          <PatientPortal />\n        </TabsContent>\n        \n        <TabsContent value=\"StaffPortal\" className=\"mt-0\">\n          <StaffPortal />\n        </TabsContent>\n        \n        <TabsContent value=\"googlesheets\" className=\"mt-0\">\n          <GoogleSheetsIntegration />\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default Index;\n","import { useLocation } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nconst NotFound = () => {\n  const location = useLocation();\n\n  useEffect(() => {\n    console.error(\n      \"404 Error: User attempted to access non-existent route:\",\n      location.pathname\n    );\n  }, [location.pathname]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n      <div className=\"text-center\">\n        <h1 className=\"text-4xl font-bold mb-4\">404</h1>\n        <p className=\"text-xl text-gray-600 mb-4\">Oops! Page not found</p>\n        <a href=\"/\" className=\"text-blue-500 hover:text-blue-700 underline\">\n          Return to Home\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import LineBot from '@/components/LineBot';\n\nconst LineBotPage = () => {\n  return <LineBot />;\n};\n\nexport default LineBotPage;","import PatientPortal from '@/components/PatientPortal';\n\nconst PatientPortalPage = () => {\n  return <PatientPortal />;\n};\n\nexport default PatientPortalPage;","\"use client\";\n\n// packages/react/checkbox/src/Checkbox.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar CHECKBOX_NAME = \"Checkbox\";\nvar [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\nvar [CheckboxProvider, useCheckboxContext] = createCheckboxContext(CHECKBOX_NAME);\nvar Checkbox = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = \"on\",\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    const [checked = false, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked,\n      onChange: onCheckedChange\n    });\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form2 = button?.form;\n      if (form2) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form2.addEventListener(\"reset\", reset);\n        return () => form2.removeEventListener(\"reset\", reset);\n      }\n    }, [button, setChecked]);\n    return /* @__PURE__ */ jsxs(CheckboxProvider, { scope: __scopeCheckbox, state: checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"checkbox\",\n          \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n          \"aria-required\": required,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...checkboxProps,\n          ref: composedRefs,\n          onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === \"Enter\") event.preventDefault();\n          }),\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => isIndeterminate(prevChecked) ? true : !prevChecked);\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        BubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" },\n          defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked\n        }\n      )\n    ] });\n  }\n);\nCheckbox.displayName = CHECKBOX_NAME;\nvar INDICATOR_NAME = \"CheckboxIndicator\";\nvar CheckboxIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || isIndeterminate(context.state) || context.state === true, children: /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.state),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...indicatorProps,\n        ref: forwardedRef,\n        style: { pointerEvents: \"none\", ...props.style }\n      }\n    ) });\n  }\n);\nCheckboxIndicator.displayName = INDICATOR_NAME;\nvar BubbleInput = (props) => {\n  const { control, checked, bubbles = true, defaultChecked, ...inputProps } = props;\n  const ref = React.useRef(null);\n  const prevChecked = usePrevious(checked);\n  const controlSize = useSize(control);\n  React.useEffect(() => {\n    const input = ref.current;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"checked\");\n    const setChecked = descriptor.set;\n    if (prevChecked !== checked && setChecked) {\n      const event = new Event(\"click\", { bubbles });\n      input.indeterminate = isIndeterminate(checked);\n      setChecked.call(input, isIndeterminate(checked) ? false : checked);\n      input.dispatchEvent(event);\n    }\n  }, [prevChecked, checked, bubbles]);\n  const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n  return /* @__PURE__ */ jsx(\n    \"input\",\n    {\n      type: \"checkbox\",\n      \"aria-hidden\": true,\n      defaultChecked: defaultChecked ?? defaultCheckedRef.current,\n      ...inputProps,\n      tabIndex: -1,\n      ref,\n      style: {\n        ...props.style,\n        ...controlSize,\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        opacity: 0,\n        margin: 0\n      }\n    }\n  );\n};\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nvar Root = Checkbox;\nvar Indicator = CheckboxIndicator;\nexport {\n  Checkbox,\n  CheckboxIndicator,\n  Indicator,\n  Root,\n  createCheckboxScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n","import { startOfWeek } from \"./startOfWeek.mjs\";\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date) {\n  return startOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { millisecondsInDay } from \"./constants.mjs\";\nimport { startOfDay } from \"./startOfDay.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(dateLeft, dateRight) {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft =\n    +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight =\n    +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n","import { getISOWeekYear } from \"./getISOWeekYear.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date) {\n  const year = getISOWeekYear(date);\n  const fourthOfJanuary = constructFrom(date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n","import { addDays } from \"./addDays.mjs\";\n\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of week to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be added.\n *\n * @returns The new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport function addWeeks(date, amount) {\n  const days = amount * 7;\n  return addDays(date, days);\n}\n\n// Fallback for modularized imports:\nexport default addWeeks;\n","import { addMonths } from \"./addMonths.mjs\";\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be added.\n *\n * @returns The new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport function addYears(date, amount) {\n  return addMonths(date, amount * 12);\n}\n\n// Fallback for modularized imports:\nexport default addYears;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name max\n * @category Common Helpers\n * @summary Return the latest of the given dates.\n *\n * @description\n * Return the latest of the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dates - The dates to compare\n *\n * @returns The latest of the dates\n *\n * @example\n * // Which of these dates is the latest?\n * const result = max([\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * ])\n * //=> Sun Jul 02 1995 00:00:00\n */\nexport function max(dates) {\n  let result;\n  dates.forEach(function (dirtyDate) {\n    const currentDate = toDate(dirtyDate);\n\n    if (\n      result === undefined ||\n      result < currentDate ||\n      isNaN(Number(currentDate))\n    ) {\n      result = currentDate;\n    }\n  });\n\n  return result || new Date(NaN);\n}\n\n// Fallback for modularized imports:\nexport default max;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name min\n * @category Common Helpers\n * @summary Returns the earliest of the given dates.\n *\n * @description\n * Returns the earliest of the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dates - The dates to compare\n *\n * @returns The earliest of the dates\n *\n * @example\n * // Which of these dates is the earliest?\n * const result = min([\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * ])\n * //=> Wed Feb 11 1987 00:00:00\n */\nexport function min(dates) {\n  let result;\n\n  dates.forEach((dirtyDate) => {\n    const date = toDate(dirtyDate);\n    if (!result || result > date || isNaN(+date)) {\n      result = date;\n    }\n  });\n\n  return result || new Date(NaN);\n}\n\n// Fallback for modularized imports:\nexport default min;\n","import { startOfDay } from \"./startOfDay.mjs\";\n\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to check\n * @param dateRight - The second date to check\n\n * @returns The dates are in the same day (and year and month)\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport function isSameDay(dateLeft, dateRight) {\n  const dateLeftStartOfDay = startOfDay(dateLeft);\n  const dateRightStartOfDay = startOfDay(dateRight);\n\n  return +dateLeftStartOfDay === +dateRightStartOfDay;\n}\n\n// Fallback for modularized imports:\nexport default isSameDay;\n","/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n","import { isDate } from \"./isDate.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  if (!isDate(date) && typeof date !== \"number\") {\n    return false;\n  }\n  const _date = toDate(date);\n  return !isNaN(Number(_date));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const yearDiff = _dateLeft.getFullYear() - _dateRight.getFullYear();\n  const monthDiff = _dateLeft.getMonth() - _dateRight.getMonth();\n\n  return yearDiff * 12 + monthDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * The {@link differenceInCalendarWeeks} function options.\n */\n\n/**\n * @name differenceInCalendarWeeks\n * @category Week Helpers\n * @summary Get the number of calendar weeks between the given dates.\n *\n * @description\n * Get the number of calendar weeks between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of calendar weeks\n *\n * @example\n * // How many calendar weeks are between 5 July 2014 and 20 July 2014?\n * const result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5)\n * )\n * //=> 3\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks are between 5 July 2014 and 20 July 2014?\n * const result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5),\n *   { weekStartsOn: 1 }\n * )\n * //=> 2\n */\nexport function differenceInCalendarWeeks(dateLeft, dateRight, options) {\n  const startOfWeekLeft = startOfWeek(dateLeft, options);\n  const startOfWeekRight = startOfWeek(dateRight, options);\n\n  const timestampLeft =\n    +startOfWeekLeft - getTimezoneOffsetInMilliseconds(startOfWeekLeft);\n  const timestampRight =\n    +startOfWeekRight - getTimezoneOffsetInMilliseconds(startOfWeekRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a days is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInWeek);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarWeeks;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.trunc(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full days according to the local timezone\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n *\n * @example\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n * //=> 92\n */\nexport function differenceInDays(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareLocalAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(differenceInCalendarDays(_dateLeft, _dateRight));\n\n  _dateLeft.setDate(_dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  const isLastDayNotFull = Number(\n    compareLocalAsc(_dateLeft, _dateRight) === -sign,\n  );\n  const result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  const diff =\n    dateLeft.getFullYear() - dateRight.getFullYear() ||\n    dateLeft.getMonth() - dateRight.getMonth() ||\n    dateLeft.getDate() - dateRight.getDate() ||\n    dateLeft.getHours() - dateRight.getHours() ||\n    dateLeft.getMinutes() - dateRight.getMinutes() ||\n    dateLeft.getSeconds() - dateRight.getSeconds() ||\n    dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default differenceInDays;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date) {\n  const _date = toDate(date);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date) {\n  const cleanDate = toDate(date);\n  const _date = constructFrom(date, 0);\n  _date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n","import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link endOfWeek} function options.\n */\n\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a week\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport function endOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n\n  _date.setDate(_date.getDate() + diff);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfWeek;\n","import { endOfWeek } from \"./endOfWeek.mjs\";\n\n/**\n * @name endOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the end of an ISO week for the given date.\n *\n * @description\n * Return the end of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of an ISO week\n *\n * @example\n * // The end of an ISO week for 2 September 2014 11:55:00:\n * const result = endOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport function endOfISOWeek(date) {\n  return endOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default endOfISOWeek;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { startOfYear } from \"./startOfYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date) {\n  const _date = toDate(date);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date) {\n  const _date = toDate(date);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { getWeekYear } from \"./getWeekYear.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { startOfWeekYear } from \"./startOfWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport function getWeek(date, options) {\n  const _date = toDate(date);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n","export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n","import { addLeadingZeros } from \"../addLeadingZeros.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n","import { getDayOfYear } from \"../../getDayOfYear.mjs\";\nimport { getISOWeek } from \"../../getISOWeek.mjs\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.mjs\";\nimport { getWeek } from \"../../getWeek.mjs\";\nimport { getWeekYear } from \"../../getWeekYear.mjs\";\nimport { addLeadingZeros } from \"../addLeadingZeros.mjs\";\nimport { lightFormatters } from \"./lightFormatters.mjs\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(date.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    const timestamp = date.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n","const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n","const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n","import { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { formatters } from \"./_lib/format/formatters.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\nimport { isValid } from \"./isValid.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name getDaysInMonth\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * const result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nexport function getDaysInMonth(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n  const monthIndex = _date.getMonth();\n  const lastDayOfMonth = constructFrom(date, 0);\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0);\n  lastDayOfMonth.setHours(0, 0, 0, 0);\n  return lastDayOfMonth.getDate();\n}\n\n// Fallback for modularized imports:\nexport default getDaysInMonth;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getUnixTime\n * @category Timestamp Helpers\n * @summary Get the seconds timestamp of the given date.\n *\n * @description\n * Get the seconds timestamp of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The timestamp\n *\n * @example\n * // Get the timestamp of 29 February 2012 11:45:05 CET:\n * const result = getUnixTime(new Date(2012, 1, 29, 11, 45, 5))\n * //=> 1330512305\n */\nexport function getUnixTime(date) {\n  return Math.trunc(+toDate(date) / 1000);\n}\n\n// Fallback for modularized imports:\nexport default getUnixTime;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name lastDayOfMonth\n * @category Month Helpers\n * @summary Return the last day of a month for the given date.\n *\n * @description\n * Return the last day of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The last day of a month\n *\n * @example\n * // The last day of a month for 2 September 2014 11:55:00:\n * const result = lastDayOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 00:00:00\n */\nexport function lastDayOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default lastDayOfMonth;\n","import { differenceInCalendarWeeks } from \"./differenceInCalendarWeeks.mjs\";\nimport { lastDayOfMonth } from \"./lastDayOfMonth.mjs\";\nimport { startOfMonth } from \"./startOfMonth.mjs\";\n\n/**\n * The {@link getWeeksInMonth} function options.\n */\n\n/**\n * @name getWeeksInMonth\n * @category Week Helpers\n * @summary Get the number of calendar weeks a month spans.\n *\n * @description\n * Get the number of calendar weeks the month in the given date spans.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The number of calendar weeks\n *\n * @example\n * // How many calendar weeks does February 2015 span?\n * const result = getWeeksInMonth(new Date(2015, 1, 8))\n * //=> 4\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks does July 2017 span?\n * const result = getWeeksInMonth(new Date(2017, 6, 5), { weekStartsOn: 1 })\n * //=> 6\n */\nexport function getWeeksInMonth(date, options) {\n  return (\n    differenceInCalendarWeeks(\n      lastDayOfMonth(date),\n      startOfMonth(date),\n      options,\n    ) + 1\n  );\n}\n\n// Fallback for modularized imports:\nexport default getWeeksInMonth;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isAfter\n * @category Common Helpers\n * @summary Is the first date after the second one?\n *\n * @description\n * Is the first date after the second one?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date that should be after the other one to return true\n * @param dateToCompare - The date to compare with\n *\n * @returns The first date is after the second date\n *\n * @example\n * // Is 10 July 1989 after 11 February 1987?\n * const result = isAfter(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> true\n */\nexport function isAfter(date, dateToCompare) {\n  const _date = toDate(date);\n  const _dateToCompare = toDate(dateToCompare);\n  return _date.getTime() > _dateToCompare.getTime();\n}\n\n// Fallback for modularized imports:\nexport default isAfter;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isBefore\n * @category Common Helpers\n * @summary Is the first date before the second one?\n *\n * @description\n * Is the first date before the second one?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date that should be before the other one to return true\n * @param dateToCompare - The date to compare with\n *\n * @returns The first date is before the second date\n *\n * @example\n * // Is 10 July 1989 before 11 February 1987?\n * const result = isBefore(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> false\n */\nexport function isBefore(date, dateToCompare) {\n  const _date = toDate(date);\n  const _dateToCompare = toDate(dateToCompare);\n  return +_date < +_dateToCompare;\n}\n\n// Fallback for modularized imports:\nexport default isBefore;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isSameMonth\n * @category Month Helpers\n * @summary Are the given dates in the same month (and year)?\n *\n * @description\n * Are the given dates in the same month (and year)?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to check\n * @param dateRight - The second date to check\n *\n * @returns The dates are in the same month (and year)\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n *\n * @example\n * // Are 2 September 2014 and 25 September 2015 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2015, 8, 25))\n * //=> false\n */\nexport function isSameMonth(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n  return (\n    _dateLeft.getFullYear() === _dateRight.getFullYear() &&\n    _dateLeft.getMonth() === _dateRight.getMonth()\n  );\n}\n\n// Fallback for modularized imports:\nexport default isSameMonth;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isSameYear\n * @category Year Helpers\n * @summary Are the given dates in the same year?\n *\n * @description\n * Are the given dates in the same year?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to check\n * @param dateRight - The second date to check\n *\n * @returns The dates are in the same year\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same year?\n * const result = isSameYear(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n */\nexport function isSameYear(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n  return _dateLeft.getFullYear() === _dateRight.getFullYear();\n}\n\n// Fallback for modularized imports:\nexport default isSameYear;\n","import { addDays } from \"./addDays.mjs\";\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be subtracted.\n *\n * @returns The new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport function subDays(date, amount) {\n  return addDays(date, -amount);\n}\n\n// Fallback for modularized imports:\nexport default subDays;\n","import { millisecondsInHour, millisecondsInMinute } from \"./constants.mjs\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(date.getTime())) {\n    return new Date(NaN);\n  }\n\n  const timestamp = date.getTime();\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    const dirtyDate = new Date(timestamp + time);\n    // JS parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n    const result = new Date(0);\n    result.setFullYear(\n      dirtyDate.getUTCFullYear(),\n      dirtyDate.getUTCMonth(),\n      dirtyDate.getUTCDate(),\n    );\n    result.setHours(\n      dirtyDate.getUTCHours(),\n      dirtyDate.getUTCMinutes(),\n      dirtyDate.getUTCSeconds(),\n      dirtyDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { getDaysInMonth } from \"./getDaysInMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name setMonth\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param month - The month index to set (0-11)\n *\n * @returns The new date with the month set\n *\n * @example\n * // Set February to 1 September 2014:\n * const result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nexport function setMonth(date, month) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n  const day = _date.getDate();\n\n  const dateWithDesiredMonth = constructFrom(date, 0);\n  dateWithDesiredMonth.setFullYear(year, month, 15);\n  dateWithDesiredMonth.setHours(0, 0, 0, 0);\n  const daysInMonth = getDaysInMonth(dateWithDesiredMonth);\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  _date.setMonth(month, Math.min(day, daysInMonth));\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setMonth;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name setYear\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param year - The year of the new date\n *\n * @returns The new date with the year set\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * const result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nexport function setYear(date, year) {\n  const _date = toDate(date);\n\n  // Check if date is Invalid Date because Date.prototype.setFullYear ignores the value of Invalid Date\n  if (isNaN(+_date)) {\n    return constructFrom(date, NaN);\n  }\n\n  _date.setFullYear(year);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setYear;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"น้อยกว่า 1 วินาที\",\n    other: \"น้อยกว่า {{count}} วินาที\",\n  },\n\n  xSeconds: {\n    one: \"1 วินาที\",\n    other: \"{{count}} วินาที\",\n  },\n\n  halfAMinute: \"ครึ่งนาที\",\n\n  lessThanXMinutes: {\n    one: \"น้อยกว่า 1 นาที\",\n    other: \"น้อยกว่า {{count}} นาที\",\n  },\n\n  xMinutes: {\n    one: \"1 นาที\",\n    other: \"{{count}} นาที\",\n  },\n\n  aboutXHours: {\n    one: \"ประมาณ 1 ชั่วโมง\",\n    other: \"ประมาณ {{count}} ชั่วโมง\",\n  },\n\n  xHours: {\n    one: \"1 ชั่วโมง\",\n    other: \"{{count}} ชั่วโมง\",\n  },\n\n  xDays: {\n    one: \"1 วัน\",\n    other: \"{{count}} วัน\",\n  },\n\n  aboutXWeeks: {\n    one: \"ประมาณ 1 สัปดาห์\",\n    other: \"ประมาณ {{count}} สัปดาห์\",\n  },\n\n  xWeeks: {\n    one: \"1 สัปดาห์\",\n    other: \"{{count}} สัปดาห์\",\n  },\n\n  aboutXMonths: {\n    one: \"ประมาณ 1 เดือน\",\n    other: \"ประมาณ {{count}} เดือน\",\n  },\n\n  xMonths: {\n    one: \"1 เดือน\",\n    other: \"{{count}} เดือน\",\n  },\n\n  aboutXYears: {\n    one: \"ประมาณ 1 ปี\",\n    other: \"ประมาณ {{count}} ปี\",\n  },\n\n  xYears: {\n    one: \"1 ปี\",\n    other: \"{{count}} ปี\",\n  },\n\n  overXYears: {\n    one: \"มากกว่า 1 ปี\",\n    other: \"มากกว่า {{count}} ปี\",\n  },\n\n  almostXYears: {\n    one: \"เกือบ 1 ปี\",\n    other: \"เกือบ {{count}} ปี\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", String(count));\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      if (token === \"halfAMinute\") {\n        return \"ใน\" + result;\n      } else {\n        return \"ใน \" + result;\n      }\n    } else {\n      return result + \"ที่ผ่านมา\";\n    }\n  }\n\n  return result;\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"วันEEEEที่ do MMMM y\",\n  long: \"do MMMM y\",\n  medium: \"d MMM y\",\n  short: \"dd/MM/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"H:mm:ss น. zzzz\",\n  long: \"H:mm:ss น. z\",\n  medium: \"H:mm:ss น.\",\n  short: \"H:mm น.\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'เวลา' {{time}}\",\n  long: \"{{date}} 'เวลา' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"medium\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"eeee'ที่แล้วเวลา' p\",\n  yesterday: \"'เมื่อวานนี้เวลา' p\",\n  today: \"'วันนี้เวลา' p\",\n  tomorrow: \"'พรุ่งนี้เวลา' p\",\n  nextWeek: \"eeee 'เวลา' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"คศ\"],\n  abbreviated: [\"BC\", \"ค.ศ.\"],\n  wide: [\"ปีก่อนคริสตกาล\", \"คริสต์ศักราช\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"ไตรมาสแรก\", \"ไตรมาสที่สอง\", \"ไตรมาสที่สาม\", \"ไตรมาสที่สี่\"],\n};\n\nconst dayValues = {\n  narrow: [\"อา.\", \"จ.\", \"อ.\", \"พ.\", \"พฤ.\", \"ศ.\", \"ส.\"],\n  short: [\"อา.\", \"จ.\", \"อ.\", \"พ.\", \"พฤ.\", \"ศ.\", \"ส.\"],\n  abbreviated: [\"อา.\", \"จ.\", \"อ.\", \"พ.\", \"พฤ.\", \"ศ.\", \"ส.\"],\n  wide: [\"อาทิตย์\", \"จันทร์\", \"อังคาร\", \"พุธ\", \"พฤหัสบดี\", \"ศุกร์\", \"เสาร์\"],\n};\n\nconst monthValues = {\n  narrow: [\n    \"ม.ค.\",\n    \"ก.พ.\",\n    \"มี.ค.\",\n    \"เม.ย.\",\n    \"พ.ค.\",\n    \"มิ.ย.\",\n    \"ก.ค.\",\n    \"ส.ค.\",\n    \"ก.ย.\",\n    \"ต.ค.\",\n    \"พ.ย.\",\n    \"ธ.ค.\",\n  ],\n\n  abbreviated: [\n    \"ม.ค.\",\n    \"ก.พ.\",\n    \"มี.ค.\",\n    \"เม.ย.\",\n    \"พ.ค.\",\n    \"มิ.ย.\",\n    \"ก.ค.\",\n    \"ส.ค.\",\n    \"ก.ย.\",\n    \"ต.ค.\",\n    \"พ.ย.\",\n    \"ธ.ค.\",\n  ],\n\n  wide: [\n    \"มกราคม\",\n    \"กุมภาพันธ์\",\n    \"มีนาคม\",\n    \"เมษายน\",\n    \"พฤษภาคม\",\n    \"มิถุนายน\",\n    \"กรกฎาคม\",\n    \"สิงหาคม\",\n    \"กันยายน\",\n    \"ตุลาคม\",\n    \"พฤศจิกายน\",\n    \"ธันวาคม\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"ก่อนเที่ยง\",\n    pm: \"หลังเที่ยง\",\n    midnight: \"เที่ยงคืน\",\n    noon: \"เที่ยง\",\n    morning: \"เช้า\",\n    afternoon: \"บ่าย\",\n    evening: \"เย็น\",\n    night: \"กลางคืน\",\n  },\n  abbreviated: {\n    am: \"ก่อนเที่ยง\",\n    pm: \"หลังเที่ยง\",\n    midnight: \"เที่ยงคืน\",\n    noon: \"เที่ยง\",\n    morning: \"เช้า\",\n    afternoon: \"บ่าย\",\n    evening: \"เย็น\",\n    night: \"กลางคืน\",\n  },\n  wide: {\n    am: \"ก่อนเที่ยง\",\n    pm: \"หลังเที่ยง\",\n    midnight: \"เที่ยงคืน\",\n    noon: \"เที่ยง\",\n    morning: \"เช้า\",\n    afternoon: \"บ่าย\",\n    evening: \"เย็น\",\n    night: \"กลางคืน\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"ก่อนเที่ยง\",\n    pm: \"หลังเที่ยง\",\n    midnight: \"เที่ยงคืน\",\n    noon: \"เที่ยง\",\n    morning: \"ตอนเช้า\",\n    afternoon: \"ตอนกลางวัน\",\n    evening: \"ตอนเย็น\",\n    night: \"ตอนกลางคืน\",\n  },\n  abbreviated: {\n    am: \"ก่อนเที่ยง\",\n    pm: \"หลังเที่ยง\",\n    midnight: \"เที่ยงคืน\",\n    noon: \"เที่ยง\",\n    morning: \"ตอนเช้า\",\n    afternoon: \"ตอนกลางวัน\",\n    evening: \"ตอนเย็น\",\n    night: \"ตอนกลางคืน\",\n  },\n  wide: {\n    am: \"ก่อนเที่ยง\",\n    pm: \"หลังเที่ยง\",\n    midnight: \"เที่ยงคืน\",\n    noon: \"เที่ยง\",\n    morning: \"ตอนเช้า\",\n    afternoon: \"ตอนกลางวัน\",\n    evening: \"ตอนเย็น\",\n    night: \"ตอนกลางคืน\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  return String(dirtyNumber);\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^\\d+/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^([bB]|[aA]|คศ)/i,\n  abbreviated:\n    /^([bB]\\.?\\s?[cC]\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?|ค\\.?ศ\\.?)/i,\n  wide: /^(ก่อนคริสตกาล|คริสต์ศักราช|คริสตกาล)/i,\n};\nconst parseEraPatterns = {\n  any: [/^[bB]/i, /^(^[aA]|ค\\.?ศ\\.?|คริสตกาล|คริสต์ศักราช|)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^ไตรมาส(ที่)? ?[1234]/i,\n};\nconst parseQuarterPatterns = {\n  any: [/(1|แรก|หนึ่ง)/i, /(2|สอง)/i, /(3|สาม)/i, /(4|สี่)/i],\n};\n\nconst matchMonthPatterns = {\n  narrow:\n    /^(ม\\.?ค\\.?|ก\\.?พ\\.?|มี\\.?ค\\.?|เม\\.?ย\\.?|พ\\.?ค\\.?|มิ\\.?ย\\.?|ก\\.?ค\\.?|ส\\.?ค\\.?|ก\\.?ย\\.?|ต\\.?ค\\.?|พ\\.?ย\\.?|ธ\\.?ค\\.?)/i,\n  abbreviated:\n    /^(ม\\.?ค\\.?|ก\\.?พ\\.?|มี\\.?ค\\.?|เม\\.?ย\\.?|พ\\.?ค\\.?|มิ\\.?ย\\.?|ก\\.?ค\\.?|ส\\.?ค\\.?|ก\\.?ย\\.?|ต\\.?ค\\.?|พ\\.?ย\\.?|ธ\\.?ค\\.?')/i,\n  wide: /^(มกราคม|กุมภาพันธ์|มีนาคม|เมษายน|พฤษภาคม|มิถุนายน|กรกฎาคม|สิงหาคม|กันยายน|ตุลาคม|พฤศจิกายน|ธันวาคม)/i,\n};\nconst parseMonthPatterns = {\n  wide: [\n    /^มก/i,\n    /^กุม/i,\n    /^มี/i,\n    /^เม/i,\n    /^พฤษ/i,\n    /^มิ/i,\n    /^กรก/i,\n    /^ส/i,\n    /^กัน/i,\n    /^ต/i,\n    /^พฤศ/i,\n    /^ธ/i,\n  ],\n\n  any: [\n    /^ม\\.?ค\\.?/i,\n    /^ก\\.?พ\\.?/i,\n    /^มี\\.?ค\\.?/i,\n    /^เม\\.?ย\\.?/i,\n    /^พ\\.?ค\\.?/i,\n    /^มิ\\.?ย\\.?/i,\n    /^ก\\.?ค\\.?/i,\n    /^ส\\.?ค\\.?/i,\n    /^ก\\.?ย\\.?/i,\n    /^ต\\.?ค\\.?/i,\n    /^พ\\.?ย\\.?/i,\n    /^ธ\\.?ค\\.?/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^(อา\\.?|จ\\.?|อ\\.?|พฤ\\.?|พ\\.?|ศ\\.?|ส\\.?)/i,\n  short: /^(อา\\.?|จ\\.?|อ\\.?|พฤ\\.?|พ\\.?|ศ\\.?|ส\\.?)/i,\n  abbreviated: /^(อา\\.?|จ\\.?|อ\\.?|พฤ\\.?|พ\\.?|ศ\\.?|ส\\.?)/i,\n  wide: /^(อาทิตย์|จันทร์|อังคาร|พุธ|พฤหัสบดี|ศุกร์|เสาร์)/i,\n};\nconst parseDayPatterns = {\n  wide: [/^อา/i, /^จั/i, /^อั/i, /^พุธ/i, /^พฤ/i, /^ศ/i, /^เส/i],\n  any: [/^อา/i, /^จ/i, /^อ/i, /^พ(?!ฤ)/i, /^พฤ/i, /^ศ/i, /^ส/i],\n};\n\nconst matchDayPeriodPatterns = {\n  any: /^(ก่อนเที่ยง|หลังเที่ยง|เที่ยงคืน|เที่ยง|(ตอน.*?)?.*(เที่ยง|เช้า|บ่าย|เย็น|กลางคืน))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^ก่อนเที่ยง/i,\n    pm: /^หลังเที่ยง/i,\n    midnight: /^เที่ยงคืน/i,\n    noon: /^เที่ยง/i,\n    morning: /เช้า/i,\n    afternoon: /บ่าย/i,\n    evening: /เย็น/i,\n    night: /กลางคืน/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./th/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./th/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./th/_lib/formatRelative.mjs\";\nimport { localize } from \"./th/_lib/localize.mjs\";\nimport { match } from \"./th/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary Thai locale.\n * @language Thai\n * @iso-639-2 tha\n * @author Athiwat Hirunworawongkun [@athivvat](https://github.com/athivvat)\n * @author [@hawkup](https://github.com/hawkup)\n * @author  Jirawat I. [@nodtem66](https://github.com/nodtem66)\n */\nexport const th = {\n  code: \"th\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default th;\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { createContext, useContext, useState, forwardRef, useEffect, useRef, useLayoutEffect } from 'react';\nimport { format, startOfMonth, endOfMonth, startOfDay, isSameYear, setMonth, setYear, startOfYear, differenceInCalendarMonths, addMonths, isSameMonth, isBefore, startOfISOWeek, startOfWeek, addDays, isSameDay, isAfter, subDays, differenceInCalendarDays, isDate, max, min, addWeeks, addYears, endOfISOWeek, endOfWeek, getUnixTime, getISOWeek, getWeek, getWeeksInMonth, parse } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\n/** Returns true when the props are of type {@link DayPickerMultipleProps}. */\nfunction isDayPickerMultiple(props) {\n    return props.mode === 'multiple';\n}\n\n/** Returns true when the props are of type {@link DayPickerRangeProps}. */\nfunction isDayPickerRange(props) {\n    return props.mode === 'range';\n}\n\n/** Returns true when the props are of type {@link DayPickerSingleProps}. */\nfunction isDayPickerSingle(props) {\n    return props.mode === 'single';\n}\n\n/**\n * The name of the default CSS classes.\n */\nvar defaultClassNames = {\n    root: 'rdp',\n    multiple_months: 'rdp-multiple_months',\n    with_weeknumber: 'rdp-with_weeknumber',\n    vhidden: 'rdp-vhidden',\n    button_reset: 'rdp-button_reset',\n    button: 'rdp-button',\n    caption: 'rdp-caption',\n    caption_start: 'rdp-caption_start',\n    caption_end: 'rdp-caption_end',\n    caption_between: 'rdp-caption_between',\n    caption_label: 'rdp-caption_label',\n    caption_dropdowns: 'rdp-caption_dropdowns',\n    dropdown: 'rdp-dropdown',\n    dropdown_month: 'rdp-dropdown_month',\n    dropdown_year: 'rdp-dropdown_year',\n    dropdown_icon: 'rdp-dropdown_icon',\n    months: 'rdp-months',\n    month: 'rdp-month',\n    table: 'rdp-table',\n    tbody: 'rdp-tbody',\n    tfoot: 'rdp-tfoot',\n    head: 'rdp-head',\n    head_row: 'rdp-head_row',\n    head_cell: 'rdp-head_cell',\n    nav: 'rdp-nav',\n    nav_button: 'rdp-nav_button',\n    nav_button_previous: 'rdp-nav_button_previous',\n    nav_button_next: 'rdp-nav_button_next',\n    nav_icon: 'rdp-nav_icon',\n    row: 'rdp-row',\n    weeknumber: 'rdp-weeknumber',\n    cell: 'rdp-cell',\n    day: 'rdp-day',\n    day_today: 'rdp-day_today',\n    day_outside: 'rdp-day_outside',\n    day_selected: 'rdp-day_selected',\n    day_disabled: 'rdp-day_disabled',\n    day_hidden: 'rdp-day_hidden',\n    day_range_start: 'rdp-day_range_start',\n    day_range_end: 'rdp-day_range_end',\n    day_range_middle: 'rdp-day_range_middle'\n};\n\n/**\n * The default formatter for the caption.\n */\nfunction formatCaption(month, options) {\n    return format(month, 'LLLL y', options);\n}\n\n/**\n * The default formatter for the Day button.\n */\nfunction formatDay(day, options) {\n    return format(day, 'd', options);\n}\n\n/**\n * The default formatter for the Month caption.\n */\nfunction formatMonthCaption(month, options) {\n    return format(month, 'LLLL', options);\n}\n\n/**\n * The default formatter for the week number.\n */\nfunction formatWeekNumber(weekNumber) {\n    return \"\".concat(weekNumber);\n}\n\n/**\n * The default formatter for the name of the weekday.\n */\nfunction formatWeekdayName(weekday, options) {\n    return format(weekday, 'cccccc', options);\n}\n\n/**\n * The default formatter for the Year caption.\n */\nfunction formatYearCaption(year, options) {\n    return format(year, 'yyyy', options);\n}\n\nvar formatters = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    formatCaption: formatCaption,\n    formatDay: formatDay,\n    formatMonthCaption: formatMonthCaption,\n    formatWeekNumber: formatWeekNumber,\n    formatWeekdayName: formatWeekdayName,\n    formatYearCaption: formatYearCaption\n});\n\n/**\n * The default ARIA label for the day button.\n */\nvar labelDay = function (day, activeModifiers, options) {\n    return format(day, 'do MMMM (EEEE)', options);\n};\n\n/**\n * The default ARIA label for the WeekNumber element.\n */\nvar labelMonthDropdown = function () {\n    return 'Month: ';\n};\n\n/**\n * The default ARIA label for next month button in navigation\n */\nvar labelNext = function () {\n    return 'Go to next month';\n};\n\n/**\n * The default ARIA label for previous month button in navigation\n */\nvar labelPrevious = function () {\n    return 'Go to previous month';\n};\n\n/**\n * The default ARIA label for the Weekday element.\n */\nvar labelWeekday = function (day, options) {\n    return format(day, 'cccc', options);\n};\n\n/**\n * The default ARIA label for the WeekNumber element.\n */\nvar labelWeekNumber = function (n) {\n    return \"Week n. \".concat(n);\n};\n\n/**\n * The default ARIA label for the WeekNumber element.\n */\nvar labelYearDropdown = function () {\n    return 'Year: ';\n};\n\nvar labels = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    labelDay: labelDay,\n    labelMonthDropdown: labelMonthDropdown,\n    labelNext: labelNext,\n    labelPrevious: labelPrevious,\n    labelWeekNumber: labelWeekNumber,\n    labelWeekday: labelWeekday,\n    labelYearDropdown: labelYearDropdown\n});\n\n/**\n * Returns the default values to use in the DayPickerContext, in case they are\n * not passed down with the DayPicker initial props.\n */\nfunction getDefaultContextValues() {\n    var captionLayout = 'buttons';\n    var classNames = defaultClassNames;\n    var locale = enUS;\n    var modifiersClassNames = {};\n    var modifiers = {};\n    var numberOfMonths = 1;\n    var styles = {};\n    var today = new Date();\n    return {\n        captionLayout: captionLayout,\n        classNames: classNames,\n        formatters: formatters,\n        labels: labels,\n        locale: locale,\n        modifiersClassNames: modifiersClassNames,\n        modifiers: modifiers,\n        numberOfMonths: numberOfMonths,\n        styles: styles,\n        today: today,\n        mode: 'default'\n    };\n}\n\n/** Return the `fromDate` and `toDate` prop values values parsing the DayPicker props. */\nfunction parseFromToProps(props) {\n    var fromYear = props.fromYear, toYear = props.toYear, fromMonth = props.fromMonth, toMonth = props.toMonth;\n    var fromDate = props.fromDate, toDate = props.toDate;\n    if (fromMonth) {\n        fromDate = startOfMonth(fromMonth);\n    }\n    else if (fromYear) {\n        fromDate = new Date(fromYear, 0, 1);\n    }\n    if (toMonth) {\n        toDate = endOfMonth(toMonth);\n    }\n    else if (toYear) {\n        toDate = new Date(toYear, 11, 31);\n    }\n    return {\n        fromDate: fromDate ? startOfDay(fromDate) : undefined,\n        toDate: toDate ? startOfDay(toDate) : undefined\n    };\n}\n\n/**\n * The DayPicker context shares the props passed to DayPicker within internal\n * and custom components. It is used to set the default values and perform\n * one-time calculations required to render the days.\n *\n * Access to this context from the {@link useDayPicker} hook.\n */\nvar DayPickerContext = createContext(undefined);\n/**\n * The provider for the {@link DayPickerContext}, assigning the defaults from the\n * initial DayPicker props.\n */\nfunction DayPickerProvider(props) {\n    var _a;\n    var initialProps = props.initialProps;\n    var defaultContextValues = getDefaultContextValues();\n    var _b = parseFromToProps(initialProps), fromDate = _b.fromDate, toDate = _b.toDate;\n    var captionLayout = (_a = initialProps.captionLayout) !== null && _a !== void 0 ? _a : defaultContextValues.captionLayout;\n    if (captionLayout !== 'buttons' && (!fromDate || !toDate)) {\n        // When no from/to dates are set, the caption is always buttons\n        captionLayout = 'buttons';\n    }\n    var onSelect;\n    if (isDayPickerSingle(initialProps) ||\n        isDayPickerMultiple(initialProps) ||\n        isDayPickerRange(initialProps)) {\n        onSelect = initialProps.onSelect;\n    }\n    var value = __assign(__assign(__assign({}, defaultContextValues), initialProps), { captionLayout: captionLayout, classNames: __assign(__assign({}, defaultContextValues.classNames), initialProps.classNames), components: __assign({}, initialProps.components), formatters: __assign(__assign({}, defaultContextValues.formatters), initialProps.formatters), fromDate: fromDate, labels: __assign(__assign({}, defaultContextValues.labels), initialProps.labels), mode: initialProps.mode || defaultContextValues.mode, modifiers: __assign(__assign({}, defaultContextValues.modifiers), initialProps.modifiers), modifiersClassNames: __assign(__assign({}, defaultContextValues.modifiersClassNames), initialProps.modifiersClassNames), onSelect: onSelect, styles: __assign(__assign({}, defaultContextValues.styles), initialProps.styles), toDate: toDate });\n    return (jsx(DayPickerContext.Provider, { value: value, children: props.children }));\n}\n/**\n * Hook to access the {@link DayPickerContextValue}.\n *\n * Use the DayPicker context to access to the props passed to DayPicker inside\n * internal or custom components.\n */\nfunction useDayPicker() {\n    var context = useContext(DayPickerContext);\n    if (!context) {\n        throw new Error(\"useDayPicker must be used within a DayPickerProvider.\");\n    }\n    return context;\n}\n\n/** Render the caption for the displayed month. This component is used when `captionLayout=\"buttons\"`. */\nfunction CaptionLabel(props) {\n    var _a = useDayPicker(), locale = _a.locale, classNames = _a.classNames, styles = _a.styles, formatCaption = _a.formatters.formatCaption;\n    return (jsx(\"div\", { className: classNames.caption_label, style: styles.caption_label, \"aria-live\": \"polite\", role: \"presentation\", id: props.id, children: formatCaption(props.displayMonth, { locale: locale }) }));\n}\n\n/**\n * Render the icon in the styled drop-down.\n */\nfunction IconDropdown(props) {\n    return (jsx(\"svg\", __assign({ width: \"8px\", height: \"8px\", viewBox: \"0 0 120 120\", \"data-testid\": \"iconDropdown\" }, props, { children: jsx(\"path\", { d: \"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z\", fill: \"currentColor\", fillRule: \"nonzero\" }) })));\n}\n\n/**\n * Render a styled select component – displaying a caption and a custom\n * drop-down icon.\n */\nfunction Dropdown(props) {\n    var _a, _b;\n    var onChange = props.onChange, value = props.value, children = props.children, caption = props.caption, className = props.className, style = props.style;\n    var dayPicker = useDayPicker();\n    var IconDropdownComponent = (_b = (_a = dayPicker.components) === null || _a === void 0 ? void 0 : _a.IconDropdown) !== null && _b !== void 0 ? _b : IconDropdown;\n    return (jsxs(\"div\", { className: className, style: style, children: [jsx(\"span\", { className: dayPicker.classNames.vhidden, children: props['aria-label'] }), jsx(\"select\", { name: props.name, \"aria-label\": props['aria-label'], className: dayPicker.classNames.dropdown, style: dayPicker.styles.dropdown, value: value, onChange: onChange, children: children }), jsxs(\"div\", { className: dayPicker.classNames.caption_label, style: dayPicker.styles.caption_label, \"aria-hidden\": \"true\", children: [caption, jsx(IconDropdownComponent, { className: dayPicker.classNames.dropdown_icon, style: dayPicker.styles.dropdown_icon })] })] }));\n}\n\n/** Render the dropdown to navigate between months. */\nfunction MonthsDropdown(props) {\n    var _a;\n    var _b = useDayPicker(), fromDate = _b.fromDate, toDate = _b.toDate, styles = _b.styles, locale = _b.locale, formatMonthCaption = _b.formatters.formatMonthCaption, classNames = _b.classNames, components = _b.components, labelMonthDropdown = _b.labels.labelMonthDropdown;\n    // Dropdown should appear only when both from/toDate is set\n    if (!fromDate)\n        return jsx(Fragment, {});\n    if (!toDate)\n        return jsx(Fragment, {});\n    var dropdownMonths = [];\n    if (isSameYear(fromDate, toDate)) {\n        // only display the months included in the range\n        var date = startOfMonth(fromDate);\n        for (var month = fromDate.getMonth(); month <= toDate.getMonth(); month++) {\n            dropdownMonths.push(setMonth(date, month));\n        }\n    }\n    else {\n        // display all the 12 months\n        var date = startOfMonth(new Date()); // Any date should be OK, as we just need the year\n        for (var month = 0; month <= 11; month++) {\n            dropdownMonths.push(setMonth(date, month));\n        }\n    }\n    var handleChange = function (e) {\n        var selectedMonth = Number(e.target.value);\n        var newMonth = setMonth(startOfMonth(props.displayMonth), selectedMonth);\n        props.onChange(newMonth);\n    };\n    var DropdownComponent = (_a = components === null || components === void 0 ? void 0 : components.Dropdown) !== null && _a !== void 0 ? _a : Dropdown;\n    return (jsx(DropdownComponent, { name: \"months\", \"aria-label\": labelMonthDropdown(), className: classNames.dropdown_month, style: styles.dropdown_month, onChange: handleChange, value: props.displayMonth.getMonth(), caption: formatMonthCaption(props.displayMonth, { locale: locale }), children: dropdownMonths.map(function (m) { return (jsx(\"option\", { value: m.getMonth(), children: formatMonthCaption(m, { locale: locale }) }, m.getMonth())); }) }));\n}\n\n/**\n * Render a dropdown to change the year. Take in account the `nav.fromDate` and\n * `toDate` from context.\n */\nfunction YearsDropdown(props) {\n    var _a;\n    var displayMonth = props.displayMonth;\n    var _b = useDayPicker(), fromDate = _b.fromDate, toDate = _b.toDate, locale = _b.locale, styles = _b.styles, classNames = _b.classNames, components = _b.components, formatYearCaption = _b.formatters.formatYearCaption, labelYearDropdown = _b.labels.labelYearDropdown;\n    var years = [];\n    // Dropdown should appear only when both from/toDate is set\n    if (!fromDate)\n        return jsx(Fragment, {});\n    if (!toDate)\n        return jsx(Fragment, {});\n    var fromYear = fromDate.getFullYear();\n    var toYear = toDate.getFullYear();\n    for (var year = fromYear; year <= toYear; year++) {\n        years.push(setYear(startOfYear(new Date()), year));\n    }\n    var handleChange = function (e) {\n        var newMonth = setYear(startOfMonth(displayMonth), Number(e.target.value));\n        props.onChange(newMonth);\n    };\n    var DropdownComponent = (_a = components === null || components === void 0 ? void 0 : components.Dropdown) !== null && _a !== void 0 ? _a : Dropdown;\n    return (jsx(DropdownComponent, { name: \"years\", \"aria-label\": labelYearDropdown(), className: classNames.dropdown_year, style: styles.dropdown_year, onChange: handleChange, value: displayMonth.getFullYear(), caption: formatYearCaption(displayMonth, { locale: locale }), children: years.map(function (year) { return (jsx(\"option\", { value: year.getFullYear(), children: formatYearCaption(year, { locale: locale }) }, year.getFullYear())); }) }));\n}\n\n/**\n * Helper hook for using controlled/uncontrolled values from a component props.\n *\n * When the value is not controlled, pass `undefined` as `controlledValue` and\n * use the returned setter to update it.\n *\n * When the value is controlled, pass the controlled value as second\n * argument, which will be always returned as `value`.\n */\nfunction useControlledValue(defaultValue, controlledValue) {\n    var _a = useState(defaultValue), uncontrolledValue = _a[0], setValue = _a[1];\n    var value = controlledValue === undefined ? uncontrolledValue : controlledValue;\n    return [value, setValue];\n}\n\n/** Return the initial month according to the given options. */\nfunction getInitialMonth(context) {\n    var month = context.month, defaultMonth = context.defaultMonth, today = context.today;\n    var initialMonth = month || defaultMonth || today || new Date();\n    var toDate = context.toDate, fromDate = context.fromDate, _a = context.numberOfMonths, numberOfMonths = _a === void 0 ? 1 : _a;\n    // Fix the initialMonth if is after the to-date\n    if (toDate && differenceInCalendarMonths(toDate, initialMonth) < 0) {\n        var offset = -1 * (numberOfMonths - 1);\n        initialMonth = addMonths(toDate, offset);\n    }\n    // Fix the initialMonth if is before the from-date\n    if (fromDate && differenceInCalendarMonths(initialMonth, fromDate) < 0) {\n        initialMonth = fromDate;\n    }\n    return startOfMonth(initialMonth);\n}\n\n/** Controls the navigation state. */\nfunction useNavigationState() {\n    var context = useDayPicker();\n    var initialMonth = getInitialMonth(context);\n    var _a = useControlledValue(initialMonth, context.month), month = _a[0], setMonth = _a[1];\n    var goToMonth = function (date) {\n        var _a;\n        if (context.disableNavigation)\n            return;\n        var month = startOfMonth(date);\n        setMonth(month);\n        (_a = context.onMonthChange) === null || _a === void 0 ? void 0 : _a.call(context, month);\n    };\n    return [month, goToMonth];\n}\n\n/**\n * Return the months to display in the component according to the number of\n * months and the from/to date.\n */\nfunction getDisplayMonths(month, _a) {\n    var reverseMonths = _a.reverseMonths, numberOfMonths = _a.numberOfMonths;\n    var start = startOfMonth(month);\n    var end = startOfMonth(addMonths(start, numberOfMonths));\n    var monthsDiff = differenceInCalendarMonths(end, start);\n    var months = [];\n    for (var i = 0; i < monthsDiff; i++) {\n        var nextMonth = addMonths(start, i);\n        months.push(nextMonth);\n    }\n    if (reverseMonths)\n        months = months.reverse();\n    return months;\n}\n\n/**\n * Returns the next month the user can navigate to according to the given\n * options.\n *\n * Please note that the next month is not always the next calendar month:\n *\n * - if after the `toDate` range, is undefined;\n * - if the navigation is paged, is the number of months displayed ahead.\n *\n */\nfunction getNextMonth(startingMonth, options) {\n    if (options.disableNavigation) {\n        return undefined;\n    }\n    var toDate = options.toDate, pagedNavigation = options.pagedNavigation, _a = options.numberOfMonths, numberOfMonths = _a === void 0 ? 1 : _a;\n    var offset = pagedNavigation ? numberOfMonths : 1;\n    var month = startOfMonth(startingMonth);\n    if (!toDate) {\n        return addMonths(month, offset);\n    }\n    var monthsDiff = differenceInCalendarMonths(toDate, startingMonth);\n    if (monthsDiff < numberOfMonths) {\n        return undefined;\n    }\n    // Jump forward as the number of months when paged navigation\n    return addMonths(month, offset);\n}\n\n/**\n * Returns the next previous the user can navigate to, according to the given\n * options.\n *\n * Please note that the previous month is not always the previous calendar\n * month:\n *\n * - if before the `fromDate` date, is `undefined`;\n * - if the navigation is paged, is the number of months displayed before.\n *\n */\nfunction getPreviousMonth(startingMonth, options) {\n    if (options.disableNavigation) {\n        return undefined;\n    }\n    var fromDate = options.fromDate, pagedNavigation = options.pagedNavigation, _a = options.numberOfMonths, numberOfMonths = _a === void 0 ? 1 : _a;\n    var offset = pagedNavigation ? numberOfMonths : 1;\n    var month = startOfMonth(startingMonth);\n    if (!fromDate) {\n        return addMonths(month, -offset);\n    }\n    var monthsDiff = differenceInCalendarMonths(month, fromDate);\n    if (monthsDiff <= 0) {\n        return undefined;\n    }\n    // Jump back as the number of months when paged navigation\n    return addMonths(month, -offset);\n}\n\n/**\n * The Navigation context shares details and methods to navigate the months in DayPicker.\n * Access this context from the {@link useNavigation} hook.\n */\nvar NavigationContext = createContext(undefined);\n/** Provides the values for the {@link NavigationContext}. */\nfunction NavigationProvider(props) {\n    var dayPicker = useDayPicker();\n    var _a = useNavigationState(), currentMonth = _a[0], goToMonth = _a[1];\n    var displayMonths = getDisplayMonths(currentMonth, dayPicker);\n    var nextMonth = getNextMonth(currentMonth, dayPicker);\n    var previousMonth = getPreviousMonth(currentMonth, dayPicker);\n    var isDateDisplayed = function (date) {\n        return displayMonths.some(function (displayMonth) {\n            return isSameMonth(date, displayMonth);\n        });\n    };\n    var goToDate = function (date, refDate) {\n        if (isDateDisplayed(date)) {\n            return;\n        }\n        if (refDate && isBefore(date, refDate)) {\n            goToMonth(addMonths(date, 1 + dayPicker.numberOfMonths * -1));\n        }\n        else {\n            goToMonth(date);\n        }\n    };\n    var value = {\n        currentMonth: currentMonth,\n        displayMonths: displayMonths,\n        goToMonth: goToMonth,\n        goToDate: goToDate,\n        previousMonth: previousMonth,\n        nextMonth: nextMonth,\n        isDateDisplayed: isDateDisplayed\n    };\n    return (jsx(NavigationContext.Provider, { value: value, children: props.children }));\n}\n/**\n * Hook to access the {@link NavigationContextValue}. Use this hook to navigate\n * between months or years in DayPicker.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nfunction useNavigation() {\n    var context = useContext(NavigationContext);\n    if (!context) {\n        throw new Error('useNavigation must be used within a NavigationProvider');\n    }\n    return context;\n}\n\n/**\n * Render a caption with the dropdowns to navigate between months and years.\n */\nfunction CaptionDropdowns(props) {\n    var _a;\n    var _b = useDayPicker(), classNames = _b.classNames, styles = _b.styles, components = _b.components;\n    var goToMonth = useNavigation().goToMonth;\n    var handleMonthChange = function (newMonth) {\n        goToMonth(addMonths(newMonth, props.displayIndex ? -props.displayIndex : 0));\n    };\n    var CaptionLabelComponent = (_a = components === null || components === void 0 ? void 0 : components.CaptionLabel) !== null && _a !== void 0 ? _a : CaptionLabel;\n    var captionLabel = (jsx(CaptionLabelComponent, { id: props.id, displayMonth: props.displayMonth }));\n    return (jsxs(\"div\", { className: classNames.caption_dropdowns, style: styles.caption_dropdowns, children: [jsx(\"div\", { className: classNames.vhidden, children: captionLabel }), jsx(MonthsDropdown, { onChange: handleMonthChange, displayMonth: props.displayMonth }), jsx(YearsDropdown, { onChange: handleMonthChange, displayMonth: props.displayMonth })] }));\n}\n\n/**\n * Render the \"previous month\" button in the navigation.\n */\nfunction IconLeft(props) {\n    return (jsx(\"svg\", __assign({ width: \"16px\", height: \"16px\", viewBox: \"0 0 120 120\" }, props, { children: jsx(\"path\", { d: \"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z\", fill: \"currentColor\", fillRule: \"nonzero\" }) })));\n}\n\n/**\n * Render the \"next month\" button in the navigation.\n */\nfunction IconRight(props) {\n    return (jsx(\"svg\", __assign({ width: \"16px\", height: \"16px\", viewBox: \"0 0 120 120\" }, props, { children: jsx(\"path\", { d: \"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z\", fill: \"currentColor\" }) })));\n}\n\n/** Render a button HTML element applying the reset class name. */\nvar Button = forwardRef(function (props, ref) {\n    var _a = useDayPicker(), classNames = _a.classNames, styles = _a.styles;\n    var classNamesArr = [classNames.button_reset, classNames.button];\n    if (props.className) {\n        classNamesArr.push(props.className);\n    }\n    var className = classNamesArr.join(' ');\n    var style = __assign(__assign({}, styles.button_reset), styles.button);\n    if (props.style) {\n        Object.assign(style, props.style);\n    }\n    return (jsx(\"button\", __assign({}, props, { ref: ref, type: \"button\", className: className, style: style })));\n});\n\n/** A component rendering the navigation buttons or the drop-downs. */\nfunction Navigation(props) {\n    var _a, _b;\n    var _c = useDayPicker(), dir = _c.dir, locale = _c.locale, classNames = _c.classNames, styles = _c.styles, _d = _c.labels, labelPrevious = _d.labelPrevious, labelNext = _d.labelNext, components = _c.components;\n    if (!props.nextMonth && !props.previousMonth) {\n        return jsx(Fragment, {});\n    }\n    var previousLabel = labelPrevious(props.previousMonth, { locale: locale });\n    var previousClassName = [\n        classNames.nav_button,\n        classNames.nav_button_previous\n    ].join(' ');\n    var nextLabel = labelNext(props.nextMonth, { locale: locale });\n    var nextClassName = [\n        classNames.nav_button,\n        classNames.nav_button_next\n    ].join(' ');\n    var IconRightComponent = (_a = components === null || components === void 0 ? void 0 : components.IconRight) !== null && _a !== void 0 ? _a : IconRight;\n    var IconLeftComponent = (_b = components === null || components === void 0 ? void 0 : components.IconLeft) !== null && _b !== void 0 ? _b : IconLeft;\n    return (jsxs(\"div\", { className: classNames.nav, style: styles.nav, children: [!props.hidePrevious && (jsx(Button, { name: \"previous-month\", \"aria-label\": previousLabel, className: previousClassName, style: styles.nav_button_previous, disabled: !props.previousMonth, onClick: props.onPreviousClick, children: dir === 'rtl' ? (jsx(IconRightComponent, { className: classNames.nav_icon, style: styles.nav_icon })) : (jsx(IconLeftComponent, { className: classNames.nav_icon, style: styles.nav_icon })) })), !props.hideNext && (jsx(Button, { name: \"next-month\", \"aria-label\": nextLabel, className: nextClassName, style: styles.nav_button_next, disabled: !props.nextMonth, onClick: props.onNextClick, children: dir === 'rtl' ? (jsx(IconLeftComponent, { className: classNames.nav_icon, style: styles.nav_icon })) : (jsx(IconRightComponent, { className: classNames.nav_icon, style: styles.nav_icon })) }))] }));\n}\n\n/**\n * Render a caption with a button-based navigation.\n */\nfunction CaptionNavigation(props) {\n    var numberOfMonths = useDayPicker().numberOfMonths;\n    var _a = useNavigation(), previousMonth = _a.previousMonth, nextMonth = _a.nextMonth, goToMonth = _a.goToMonth, displayMonths = _a.displayMonths;\n    var displayIndex = displayMonths.findIndex(function (month) {\n        return isSameMonth(props.displayMonth, month);\n    });\n    var isFirst = displayIndex === 0;\n    var isLast = displayIndex === displayMonths.length - 1;\n    var hideNext = numberOfMonths > 1 && (isFirst || !isLast);\n    var hidePrevious = numberOfMonths > 1 && (isLast || !isFirst);\n    var handlePreviousClick = function () {\n        if (!previousMonth)\n            return;\n        goToMonth(previousMonth);\n    };\n    var handleNextClick = function () {\n        if (!nextMonth)\n            return;\n        goToMonth(nextMonth);\n    };\n    return (jsx(Navigation, { displayMonth: props.displayMonth, hideNext: hideNext, hidePrevious: hidePrevious, nextMonth: nextMonth, previousMonth: previousMonth, onPreviousClick: handlePreviousClick, onNextClick: handleNextClick }));\n}\n\n/**\n * Render the caption of a month. The caption has a different layout when\n * setting the {@link DayPickerBase.captionLayout} prop.\n */\nfunction Caption(props) {\n    var _a;\n    var _b = useDayPicker(), classNames = _b.classNames, disableNavigation = _b.disableNavigation, styles = _b.styles, captionLayout = _b.captionLayout, components = _b.components;\n    var CaptionLabelComponent = (_a = components === null || components === void 0 ? void 0 : components.CaptionLabel) !== null && _a !== void 0 ? _a : CaptionLabel;\n    var caption;\n    if (disableNavigation) {\n        caption = (jsx(CaptionLabelComponent, { id: props.id, displayMonth: props.displayMonth }));\n    }\n    else if (captionLayout === 'dropdown') {\n        caption = (jsx(CaptionDropdowns, { displayMonth: props.displayMonth, id: props.id }));\n    }\n    else if (captionLayout === 'dropdown-buttons') {\n        caption = (jsxs(Fragment, { children: [jsx(CaptionDropdowns, { displayMonth: props.displayMonth, displayIndex: props.displayIndex, id: props.id }), jsx(CaptionNavigation, { displayMonth: props.displayMonth, displayIndex: props.displayIndex, id: props.id })] }));\n    }\n    else {\n        caption = (jsxs(Fragment, { children: [jsx(CaptionLabelComponent, { id: props.id, displayMonth: props.displayMonth, displayIndex: props.displayIndex }), jsx(CaptionNavigation, { displayMonth: props.displayMonth, id: props.id })] }));\n    }\n    return (jsx(\"div\", { className: classNames.caption, style: styles.caption, children: caption }));\n}\n\n/** Render the Footer component (empty as default).*/\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction Footer(props) {\n    var _a = useDayPicker(), footer = _a.footer, styles = _a.styles, tfoot = _a.classNames.tfoot;\n    if (!footer)\n        return jsx(Fragment, {});\n    return (jsx(\"tfoot\", { className: tfoot, style: styles.tfoot, children: jsx(\"tr\", { children: jsx(\"td\", { colSpan: 8, children: footer }) }) }));\n}\n\n/**\n * Generate a series of 7 days, starting from the week, to use for formatting\n * the weekday names (Monday, Tuesday, etc.).\n */\nfunction getWeekdays(locale, \n/** The index of the first day of the week (0 - Sunday). */\nweekStartsOn, \n/** Use ISOWeek instead of locale/ */\nISOWeek) {\n    var start = ISOWeek\n        ? startOfISOWeek(new Date())\n        : startOfWeek(new Date(), { locale: locale, weekStartsOn: weekStartsOn });\n    var days = [];\n    for (var i = 0; i < 7; i++) {\n        var day = addDays(start, i);\n        days.push(day);\n    }\n    return days;\n}\n\n/**\n * Render the HeadRow component - i.e. the table head row with the weekday names.\n */\nfunction HeadRow() {\n    var _a = useDayPicker(), classNames = _a.classNames, styles = _a.styles, showWeekNumber = _a.showWeekNumber, locale = _a.locale, weekStartsOn = _a.weekStartsOn, ISOWeek = _a.ISOWeek, formatWeekdayName = _a.formatters.formatWeekdayName, labelWeekday = _a.labels.labelWeekday;\n    var weekdays = getWeekdays(locale, weekStartsOn, ISOWeek);\n    return (jsxs(\"tr\", { style: styles.head_row, className: classNames.head_row, children: [showWeekNumber && (jsx(\"td\", { style: styles.head_cell, className: classNames.head_cell })), weekdays.map(function (weekday, i) { return (jsx(\"th\", { scope: \"col\", className: classNames.head_cell, style: styles.head_cell, \"aria-label\": labelWeekday(weekday, { locale: locale }), children: formatWeekdayName(weekday, { locale: locale }) }, i)); })] }));\n}\n\n/** Render the table head. */\nfunction Head() {\n    var _a;\n    var _b = useDayPicker(), classNames = _b.classNames, styles = _b.styles, components = _b.components;\n    var HeadRowComponent = (_a = components === null || components === void 0 ? void 0 : components.HeadRow) !== null && _a !== void 0 ? _a : HeadRow;\n    return (jsx(\"thead\", { style: styles.head, className: classNames.head, children: jsx(HeadRowComponent, {}) }));\n}\n\n/** Render the content of the day cell. */\nfunction DayContent(props) {\n    var _a = useDayPicker(), locale = _a.locale, formatDay = _a.formatters.formatDay;\n    return jsx(Fragment, { children: formatDay(props.date, { locale: locale }) });\n}\n\n/**\n * The SelectMultiple context shares details about the selected days when in\n * multiple selection mode.\n *\n * Access this context from the {@link useSelectMultiple} hook.\n */\nvar SelectMultipleContext = createContext(undefined);\n/** Provides the values for the {@link SelectMultipleContext}. */\nfunction SelectMultipleProvider(props) {\n    if (!isDayPickerMultiple(props.initialProps)) {\n        var emptyContextValue = {\n            selected: undefined,\n            modifiers: {\n                disabled: []\n            }\n        };\n        return (jsx(SelectMultipleContext.Provider, { value: emptyContextValue, children: props.children }));\n    }\n    return (jsx(SelectMultipleProviderInternal, { initialProps: props.initialProps, children: props.children }));\n}\nfunction SelectMultipleProviderInternal(_a) {\n    var initialProps = _a.initialProps, children = _a.children;\n    var selected = initialProps.selected, min = initialProps.min, max = initialProps.max;\n    var onDayClick = function (day, activeModifiers, e) {\n        var _a, _b;\n        (_a = initialProps.onDayClick) === null || _a === void 0 ? void 0 : _a.call(initialProps, day, activeModifiers, e);\n        var isMinSelected = Boolean(activeModifiers.selected && min && (selected === null || selected === void 0 ? void 0 : selected.length) === min);\n        if (isMinSelected) {\n            return;\n        }\n        var isMaxSelected = Boolean(!activeModifiers.selected && max && (selected === null || selected === void 0 ? void 0 : selected.length) === max);\n        if (isMaxSelected) {\n            return;\n        }\n        var selectedDays = selected ? __spreadArray([], selected, true) : [];\n        if (activeModifiers.selected) {\n            var index = selectedDays.findIndex(function (selectedDay) {\n                return isSameDay(day, selectedDay);\n            });\n            selectedDays.splice(index, 1);\n        }\n        else {\n            selectedDays.push(day);\n        }\n        (_b = initialProps.onSelect) === null || _b === void 0 ? void 0 : _b.call(initialProps, selectedDays, day, activeModifiers, e);\n    };\n    var modifiers = {\n        disabled: []\n    };\n    if (selected) {\n        modifiers.disabled.push(function (day) {\n            var isMaxSelected = max && selected.length > max - 1;\n            var isSelected = selected.some(function (selectedDay) {\n                return isSameDay(selectedDay, day);\n            });\n            return Boolean(isMaxSelected && !isSelected);\n        });\n    }\n    var contextValue = {\n        selected: selected,\n        onDayClick: onDayClick,\n        modifiers: modifiers\n    };\n    return (jsx(SelectMultipleContext.Provider, { value: contextValue, children: children }));\n}\n/**\n * Hook to access the {@link SelectMultipleContextValue}.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nfunction useSelectMultiple() {\n    var context = useContext(SelectMultipleContext);\n    if (!context) {\n        throw new Error('useSelectMultiple must be used within a SelectMultipleProvider');\n    }\n    return context;\n}\n\n/**\n * Add a day to an existing range.\n *\n * The returned range takes in account the `undefined` values and if the added\n * day is already present in the range.\n */\nfunction addToRange(day, range) {\n    var _a = range || {}, from = _a.from, to = _a.to;\n    if (from && to) {\n        if (isSameDay(to, day) && isSameDay(from, day)) {\n            return undefined;\n        }\n        if (isSameDay(to, day)) {\n            return { from: to, to: undefined };\n        }\n        if (isSameDay(from, day)) {\n            return undefined;\n        }\n        if (isAfter(from, day)) {\n            return { from: day, to: to };\n        }\n        return { from: from, to: day };\n    }\n    if (to) {\n        if (isAfter(day, to)) {\n            return { from: to, to: day };\n        }\n        return { from: day, to: to };\n    }\n    if (from) {\n        if (isBefore(day, from)) {\n            return { from: day, to: from };\n        }\n        return { from: from, to: day };\n    }\n    return { from: day, to: undefined };\n}\n\n/**\n * The SelectRange context shares details about the selected days when in\n * range selection mode.\n *\n * Access this context from the {@link useSelectRange} hook.\n */\nvar SelectRangeContext = createContext(undefined);\n/** Provides the values for the {@link SelectRangeProvider}. */\nfunction SelectRangeProvider(props) {\n    if (!isDayPickerRange(props.initialProps)) {\n        var emptyContextValue = {\n            selected: undefined,\n            modifiers: {\n                range_start: [],\n                range_end: [],\n                range_middle: [],\n                disabled: []\n            }\n        };\n        return (jsx(SelectRangeContext.Provider, { value: emptyContextValue, children: props.children }));\n    }\n    return (jsx(SelectRangeProviderInternal, { initialProps: props.initialProps, children: props.children }));\n}\nfunction SelectRangeProviderInternal(_a) {\n    var initialProps = _a.initialProps, children = _a.children;\n    var selected = initialProps.selected;\n    var _b = selected || {}, selectedFrom = _b.from, selectedTo = _b.to;\n    var min = initialProps.min;\n    var max = initialProps.max;\n    var onDayClick = function (day, activeModifiers, e) {\n        var _a, _b;\n        (_a = initialProps.onDayClick) === null || _a === void 0 ? void 0 : _a.call(initialProps, day, activeModifiers, e);\n        var newRange = addToRange(day, selected);\n        (_b = initialProps.onSelect) === null || _b === void 0 ? void 0 : _b.call(initialProps, newRange, day, activeModifiers, e);\n    };\n    var modifiers = {\n        range_start: [],\n        range_end: [],\n        range_middle: [],\n        disabled: []\n    };\n    if (selectedFrom) {\n        modifiers.range_start = [selectedFrom];\n        if (!selectedTo) {\n            modifiers.range_end = [selectedFrom];\n        }\n        else {\n            modifiers.range_end = [selectedTo];\n            if (!isSameDay(selectedFrom, selectedTo)) {\n                modifiers.range_middle = [\n                    {\n                        after: selectedFrom,\n                        before: selectedTo\n                    }\n                ];\n            }\n        }\n    }\n    else if (selectedTo) {\n        modifiers.range_start = [selectedTo];\n        modifiers.range_end = [selectedTo];\n    }\n    if (min) {\n        if (selectedFrom && !selectedTo) {\n            modifiers.disabled.push({\n                after: subDays(selectedFrom, min - 1),\n                before: addDays(selectedFrom, min - 1)\n            });\n        }\n        if (selectedFrom && selectedTo) {\n            modifiers.disabled.push({\n                after: selectedFrom,\n                before: addDays(selectedFrom, min - 1)\n            });\n        }\n        if (!selectedFrom && selectedTo) {\n            modifiers.disabled.push({\n                after: subDays(selectedTo, min - 1),\n                before: addDays(selectedTo, min - 1)\n            });\n        }\n    }\n    if (max) {\n        if (selectedFrom && !selectedTo) {\n            modifiers.disabled.push({\n                before: addDays(selectedFrom, -max + 1)\n            });\n            modifiers.disabled.push({\n                after: addDays(selectedFrom, max - 1)\n            });\n        }\n        if (selectedFrom && selectedTo) {\n            var selectedCount = differenceInCalendarDays(selectedTo, selectedFrom) + 1;\n            var offset = max - selectedCount;\n            modifiers.disabled.push({\n                before: subDays(selectedFrom, offset)\n            });\n            modifiers.disabled.push({\n                after: addDays(selectedTo, offset)\n            });\n        }\n        if (!selectedFrom && selectedTo) {\n            modifiers.disabled.push({\n                before: addDays(selectedTo, -max + 1)\n            });\n            modifiers.disabled.push({\n                after: addDays(selectedTo, max - 1)\n            });\n        }\n    }\n    return (jsx(SelectRangeContext.Provider, { value: { selected: selected, onDayClick: onDayClick, modifiers: modifiers }, children: children }));\n}\n/**\n * Hook to access the {@link SelectRangeContextValue}.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nfunction useSelectRange() {\n    var context = useContext(SelectRangeContext);\n    if (!context) {\n        throw new Error('useSelectRange must be used within a SelectRangeProvider');\n    }\n    return context;\n}\n\n/** Normalize to array a matcher input. */\nfunction matcherToArray(matcher) {\n    if (Array.isArray(matcher)) {\n        return __spreadArray([], matcher, true);\n    }\n    else if (matcher !== undefined) {\n        return [matcher];\n    }\n    else {\n        return [];\n    }\n}\n\n/** Create CustomModifiers from dayModifiers */\nfunction getCustomModifiers(dayModifiers) {\n    var customModifiers = {};\n    Object.entries(dayModifiers).forEach(function (_a) {\n        var modifier = _a[0], matcher = _a[1];\n        customModifiers[modifier] = matcherToArray(matcher);\n    });\n    return customModifiers;\n}\n\n/** The name of the modifiers that are used internally by DayPicker. */\nvar InternalModifier;\n(function (InternalModifier) {\n    InternalModifier[\"Outside\"] = \"outside\";\n    /** Name of the modifier applied to the disabled days, using the `disabled` prop. */\n    InternalModifier[\"Disabled\"] = \"disabled\";\n    /** Name of the modifier applied to the selected days using the `selected` prop). */\n    InternalModifier[\"Selected\"] = \"selected\";\n    /** Name of the modifier applied to the hidden days using the `hidden` prop). */\n    InternalModifier[\"Hidden\"] = \"hidden\";\n    /** Name of the modifier applied to the day specified using the `today` prop). */\n    InternalModifier[\"Today\"] = \"today\";\n    /** The modifier applied to the day starting a selected range, when in range selection mode.  */\n    InternalModifier[\"RangeStart\"] = \"range_start\";\n    /** The modifier applied to the day ending a selected range, when in range selection mode.  */\n    InternalModifier[\"RangeEnd\"] = \"range_end\";\n    /** The modifier applied to the days between the start and the end of a selected range, when in range selection mode.  */\n    InternalModifier[\"RangeMiddle\"] = \"range_middle\";\n})(InternalModifier || (InternalModifier = {}));\n\nvar Selected = InternalModifier.Selected, Disabled = InternalModifier.Disabled, Hidden = InternalModifier.Hidden, Today = InternalModifier.Today, RangeEnd = InternalModifier.RangeEnd, RangeMiddle = InternalModifier.RangeMiddle, RangeStart = InternalModifier.RangeStart, Outside = InternalModifier.Outside;\n/** Return the {@link InternalModifiers} from the DayPicker and select contexts. */\nfunction getInternalModifiers(dayPicker, selectMultiple, selectRange) {\n    var _a;\n    var internalModifiers = (_a = {},\n        _a[Selected] = matcherToArray(dayPicker.selected),\n        _a[Disabled] = matcherToArray(dayPicker.disabled),\n        _a[Hidden] = matcherToArray(dayPicker.hidden),\n        _a[Today] = [dayPicker.today],\n        _a[RangeEnd] = [],\n        _a[RangeMiddle] = [],\n        _a[RangeStart] = [],\n        _a[Outside] = [],\n        _a);\n    if (dayPicker.fromDate) {\n        internalModifiers[Disabled].push({ before: dayPicker.fromDate });\n    }\n    if (dayPicker.toDate) {\n        internalModifiers[Disabled].push({ after: dayPicker.toDate });\n    }\n    if (isDayPickerMultiple(dayPicker)) {\n        internalModifiers[Disabled] = internalModifiers[Disabled].concat(selectMultiple.modifiers[Disabled]);\n    }\n    else if (isDayPickerRange(dayPicker)) {\n        internalModifiers[Disabled] = internalModifiers[Disabled].concat(selectRange.modifiers[Disabled]);\n        internalModifiers[RangeStart] = selectRange.modifiers[RangeStart];\n        internalModifiers[RangeMiddle] = selectRange.modifiers[RangeMiddle];\n        internalModifiers[RangeEnd] = selectRange.modifiers[RangeEnd];\n    }\n    return internalModifiers;\n}\n\n/** The Modifiers context store the modifiers used in DayPicker. To access the value of this context, use {@link useModifiers}. */\nvar ModifiersContext = createContext(undefined);\n/** Provide the value for the {@link ModifiersContext}. */\nfunction ModifiersProvider(props) {\n    var dayPicker = useDayPicker();\n    var selectMultiple = useSelectMultiple();\n    var selectRange = useSelectRange();\n    var internalModifiers = getInternalModifiers(dayPicker, selectMultiple, selectRange);\n    var customModifiers = getCustomModifiers(dayPicker.modifiers);\n    var modifiers = __assign(__assign({}, internalModifiers), customModifiers);\n    return (jsx(ModifiersContext.Provider, { value: modifiers, children: props.children }));\n}\n/**\n * Return the modifiers used by DayPicker.\n *\n * This hook is meant to be used inside internal or custom components.\n * Requires to be wrapped into {@link ModifiersProvider}.\n *\n */\nfunction useModifiers() {\n    var context = useContext(ModifiersContext);\n    if (!context) {\n        throw new Error('useModifiers must be used within a ModifiersProvider');\n    }\n    return context;\n}\n\n/** Returns true if `matcher` is of type {@link DateInterval}. */\nfunction isDateInterval(matcher) {\n    return Boolean(matcher &&\n        typeof matcher === 'object' &&\n        'before' in matcher &&\n        'after' in matcher);\n}\n/** Returns true if `value` is a {@link DateRange} type. */\nfunction isDateRange(value) {\n    return Boolean(value && typeof value === 'object' && 'from' in value);\n}\n/** Returns true if `value` is of type {@link DateAfter}. */\nfunction isDateAfterType(value) {\n    return Boolean(value && typeof value === 'object' && 'after' in value);\n}\n/** Returns true if `value` is of type {@link DateBefore}. */\nfunction isDateBeforeType(value) {\n    return Boolean(value && typeof value === 'object' && 'before' in value);\n}\n/** Returns true if `value` is a {@link DayOfWeek} type. */\nfunction isDayOfWeekType(value) {\n    return Boolean(value && typeof value === 'object' && 'dayOfWeek' in value);\n}\n\n/** Return `true` whether `date` is inside `range`. */\nfunction isDateInRange(date, range) {\n    var _a;\n    var from = range.from, to = range.to;\n    if (from && to) {\n        var isRangeInverted = differenceInCalendarDays(to, from) < 0;\n        if (isRangeInverted) {\n            _a = [to, from], from = _a[0], to = _a[1];\n        }\n        var isInRange = differenceInCalendarDays(date, from) >= 0 &&\n            differenceInCalendarDays(to, date) >= 0;\n        return isInRange;\n    }\n    if (to) {\n        return isSameDay(to, date);\n    }\n    if (from) {\n        return isSameDay(from, date);\n    }\n    return false;\n}\n\n/** Returns true if `value` is a Date type. */\nfunction isDateType(value) {\n    return isDate(value);\n}\n/** Returns true if `value` is an array of valid dates. */\nfunction isArrayOfDates(value) {\n    return Array.isArray(value) && value.every(isDate);\n}\n/**\n * Returns whether a day matches against at least one of the given Matchers.\n *\n * ```\n * const day = new Date(2022, 5, 19);\n * const matcher1: DateRange = {\n *    from: new Date(2021, 12, 21),\n *    to: new Date(2021, 12, 30)\n * }\n * const matcher2: DateRange = {\n *    from: new Date(2022, 5, 1),\n *    to: new Date(2022, 5, 23)\n * }\n *\n * const isMatch(day, [matcher1, matcher2]); // true, since day is in the matcher1 range.\n * ```\n * */\nfunction isMatch(day, matchers) {\n    return matchers.some(function (matcher) {\n        if (typeof matcher === 'boolean') {\n            return matcher;\n        }\n        if (isDateType(matcher)) {\n            return isSameDay(day, matcher);\n        }\n        if (isArrayOfDates(matcher)) {\n            return matcher.includes(day);\n        }\n        if (isDateRange(matcher)) {\n            return isDateInRange(day, matcher);\n        }\n        if (isDayOfWeekType(matcher)) {\n            return matcher.dayOfWeek.includes(day.getDay());\n        }\n        if (isDateInterval(matcher)) {\n            var diffBefore = differenceInCalendarDays(matcher.before, day);\n            var diffAfter = differenceInCalendarDays(matcher.after, day);\n            var isDayBefore = diffBefore > 0;\n            var isDayAfter = diffAfter < 0;\n            var isClosedInterval = isAfter(matcher.before, matcher.after);\n            if (isClosedInterval) {\n                return isDayAfter && isDayBefore;\n            }\n            else {\n                return isDayBefore || isDayAfter;\n            }\n        }\n        if (isDateAfterType(matcher)) {\n            return differenceInCalendarDays(day, matcher.after) > 0;\n        }\n        if (isDateBeforeType(matcher)) {\n            return differenceInCalendarDays(matcher.before, day) > 0;\n        }\n        if (typeof matcher === 'function') {\n            return matcher(day);\n        }\n        return false;\n    });\n}\n\n/** Return the active modifiers for the given day. */\nfunction getActiveModifiers(day, \n/** The modifiers to match for the given date. */\nmodifiers, \n/** The month where the day is displayed, to add the \"outside\" modifiers.  */\ndisplayMonth) {\n    var matchedModifiers = Object.keys(modifiers).reduce(function (result, key) {\n        var modifier = modifiers[key];\n        if (isMatch(day, modifier)) {\n            result.push(key);\n        }\n        return result;\n    }, []);\n    var activeModifiers = {};\n    matchedModifiers.forEach(function (modifier) { return (activeModifiers[modifier] = true); });\n    if (displayMonth && !isSameMonth(day, displayMonth)) {\n        activeModifiers.outside = true;\n    }\n    return activeModifiers;\n}\n\n/**\n * Returns the day that should be the target of the focus when DayPicker is\n * rendered the first time.\n *\n * TODO: this function doesn't consider if the day is outside the month. We\n * implemented this check in `useDayRender` but it should probably go here. See\n * https://github.com/gpbl/react-day-picker/pull/1576\n */\nfunction getInitialFocusTarget(displayMonths, modifiers) {\n    var firstDayInMonth = startOfMonth(displayMonths[0]);\n    var lastDayInMonth = endOfMonth(displayMonths[displayMonths.length - 1]);\n    // TODO: cleanup code\n    var firstFocusableDay;\n    var today;\n    var date = firstDayInMonth;\n    while (date <= lastDayInMonth) {\n        var activeModifiers = getActiveModifiers(date, modifiers);\n        var isFocusable = !activeModifiers.disabled && !activeModifiers.hidden;\n        if (!isFocusable) {\n            date = addDays(date, 1);\n            continue;\n        }\n        if (activeModifiers.selected) {\n            return date;\n        }\n        if (activeModifiers.today && !today) {\n            today = date;\n        }\n        if (!firstFocusableDay) {\n            firstFocusableDay = date;\n        }\n        date = addDays(date, 1);\n    }\n    if (today) {\n        return today;\n    }\n    else {\n        return firstFocusableDay;\n    }\n}\n\nvar MAX_RETRY = 365;\n/** Return the next date to be focused. */\nfunction getNextFocus(focusedDay, options) {\n    var moveBy = options.moveBy, direction = options.direction, context = options.context, modifiers = options.modifiers, _a = options.retry, retry = _a === void 0 ? { count: 0, lastFocused: focusedDay } : _a;\n    var weekStartsOn = context.weekStartsOn, fromDate = context.fromDate, toDate = context.toDate, locale = context.locale;\n    var moveFns = {\n        day: addDays,\n        week: addWeeks,\n        month: addMonths,\n        year: addYears,\n        startOfWeek: function (date) {\n            return context.ISOWeek\n                ? startOfISOWeek(date)\n                : startOfWeek(date, { locale: locale, weekStartsOn: weekStartsOn });\n        },\n        endOfWeek: function (date) {\n            return context.ISOWeek\n                ? endOfISOWeek(date)\n                : endOfWeek(date, { locale: locale, weekStartsOn: weekStartsOn });\n        }\n    };\n    var newFocusedDay = moveFns[moveBy](focusedDay, direction === 'after' ? 1 : -1);\n    if (direction === 'before' && fromDate) {\n        newFocusedDay = max([fromDate, newFocusedDay]);\n    }\n    else if (direction === 'after' && toDate) {\n        newFocusedDay = min([toDate, newFocusedDay]);\n    }\n    var isFocusable = true;\n    if (modifiers) {\n        var activeModifiers = getActiveModifiers(newFocusedDay, modifiers);\n        isFocusable = !activeModifiers.disabled && !activeModifiers.hidden;\n    }\n    if (isFocusable) {\n        return newFocusedDay;\n    }\n    else {\n        if (retry.count > MAX_RETRY) {\n            return retry.lastFocused;\n        }\n        return getNextFocus(newFocusedDay, {\n            moveBy: moveBy,\n            direction: direction,\n            context: context,\n            modifiers: modifiers,\n            retry: __assign(__assign({}, retry), { count: retry.count + 1 })\n        });\n    }\n}\n\n/**\n * The Focus context shares details about the focused day for the keyboard\n *\n * Access this context from the {@link useFocusContext} hook.\n */\nvar FocusContext = createContext(undefined);\n/** The provider for the {@link FocusContext}. */\nfunction FocusProvider(props) {\n    var navigation = useNavigation();\n    var modifiers = useModifiers();\n    var _a = useState(), focusedDay = _a[0], setFocusedDay = _a[1];\n    var _b = useState(), lastFocused = _b[0], setLastFocused = _b[1];\n    var initialFocusTarget = getInitialFocusTarget(navigation.displayMonths, modifiers);\n    // TODO: cleanup and test obscure code below\n    var focusTarget = (focusedDay !== null && focusedDay !== void 0 ? focusedDay : (lastFocused && navigation.isDateDisplayed(lastFocused)))\n        ? lastFocused\n        : initialFocusTarget;\n    var blur = function () {\n        setLastFocused(focusedDay);\n        setFocusedDay(undefined);\n    };\n    var focus = function (date) {\n        setFocusedDay(date);\n    };\n    var context = useDayPicker();\n    var moveFocus = function (moveBy, direction) {\n        if (!focusedDay)\n            return;\n        var nextFocused = getNextFocus(focusedDay, {\n            moveBy: moveBy,\n            direction: direction,\n            context: context,\n            modifiers: modifiers\n        });\n        if (isSameDay(focusedDay, nextFocused))\n            return undefined;\n        navigation.goToDate(nextFocused, focusedDay);\n        focus(nextFocused);\n    };\n    var value = {\n        focusedDay: focusedDay,\n        focusTarget: focusTarget,\n        blur: blur,\n        focus: focus,\n        focusDayAfter: function () { return moveFocus('day', 'after'); },\n        focusDayBefore: function () { return moveFocus('day', 'before'); },\n        focusWeekAfter: function () { return moveFocus('week', 'after'); },\n        focusWeekBefore: function () { return moveFocus('week', 'before'); },\n        focusMonthBefore: function () { return moveFocus('month', 'before'); },\n        focusMonthAfter: function () { return moveFocus('month', 'after'); },\n        focusYearBefore: function () { return moveFocus('year', 'before'); },\n        focusYearAfter: function () { return moveFocus('year', 'after'); },\n        focusStartOfWeek: function () { return moveFocus('startOfWeek', 'before'); },\n        focusEndOfWeek: function () { return moveFocus('endOfWeek', 'after'); }\n    };\n    return (jsx(FocusContext.Provider, { value: value, children: props.children }));\n}\n/**\n * Hook to access the {@link FocusContextValue}. Use this hook to handle the\n * focus state of the elements.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nfunction useFocusContext() {\n    var context = useContext(FocusContext);\n    if (!context) {\n        throw new Error('useFocusContext must be used within a FocusProvider');\n    }\n    return context;\n}\n\n/**\n * Return the active modifiers for the specified day.\n *\n * This hook is meant to be used inside internal or custom components.\n *\n * @param day\n * @param displayMonth\n */\nfunction useActiveModifiers(day, \n/**\n * The month where the date is displayed. If not the same as `date`, the day\n * is an \"outside day\".\n */\ndisplayMonth) {\n    var modifiers = useModifiers();\n    var activeModifiers = getActiveModifiers(day, modifiers, displayMonth);\n    return activeModifiers;\n}\n\n/**\n * The SelectSingle context shares details about the selected days when in\n * single selection mode.\n *\n * Access this context from the {@link useSelectSingle} hook.\n */\nvar SelectSingleContext = createContext(undefined);\n/** Provides the values for the {@link SelectSingleProvider}. */\nfunction SelectSingleProvider(props) {\n    if (!isDayPickerSingle(props.initialProps)) {\n        var emptyContextValue = {\n            selected: undefined\n        };\n        return (jsx(SelectSingleContext.Provider, { value: emptyContextValue, children: props.children }));\n    }\n    return (jsx(SelectSingleProviderInternal, { initialProps: props.initialProps, children: props.children }));\n}\nfunction SelectSingleProviderInternal(_a) {\n    var initialProps = _a.initialProps, children = _a.children;\n    var onDayClick = function (day, activeModifiers, e) {\n        var _a, _b, _c;\n        (_a = initialProps.onDayClick) === null || _a === void 0 ? void 0 : _a.call(initialProps, day, activeModifiers, e);\n        if (activeModifiers.selected && !initialProps.required) {\n            (_b = initialProps.onSelect) === null || _b === void 0 ? void 0 : _b.call(initialProps, undefined, day, activeModifiers, e);\n            return;\n        }\n        (_c = initialProps.onSelect) === null || _c === void 0 ? void 0 : _c.call(initialProps, day, day, activeModifiers, e);\n    };\n    var contextValue = {\n        selected: initialProps.selected,\n        onDayClick: onDayClick\n    };\n    return (jsx(SelectSingleContext.Provider, { value: contextValue, children: children }));\n}\n/**\n * Hook to access the {@link SelectSingleContextValue}.\n *\n * This hook is meant to be used inside internal or custom components.\n */\nfunction useSelectSingle() {\n    var context = useContext(SelectSingleContext);\n    if (!context) {\n        throw new Error('useSelectSingle must be used within a SelectSingleProvider');\n    }\n    return context;\n}\n\n/**\n * This hook returns details about the content to render in the day cell.\n *\n *\n * When a day cell is rendered in the table, DayPicker can either:\n *\n * - render nothing: when the day is outside the month or has matched the\n *   \"hidden\" modifier.\n * - render a button when `onDayClick` or a selection mode is set.\n * - render a non-interactive element: when no selection mode is set, the day\n *   cell shouldn’t respond to any interaction. DayPicker should render a `div`\n *   or a `span`.\n *\n * ### Usage\n *\n * Use this hook to customize the behavior of the {@link Day} component. Create a\n * new `Day` component using this hook and pass it to the `components` prop.\n * The source of {@link Day} can be a good starting point.\n *\n */\nfunction useDayEventHandlers(date, activeModifiers) {\n    var dayPicker = useDayPicker();\n    var single = useSelectSingle();\n    var multiple = useSelectMultiple();\n    var range = useSelectRange();\n    var _a = useFocusContext(), focusDayAfter = _a.focusDayAfter, focusDayBefore = _a.focusDayBefore, focusWeekAfter = _a.focusWeekAfter, focusWeekBefore = _a.focusWeekBefore, blur = _a.blur, focus = _a.focus, focusMonthBefore = _a.focusMonthBefore, focusMonthAfter = _a.focusMonthAfter, focusYearBefore = _a.focusYearBefore, focusYearAfter = _a.focusYearAfter, focusStartOfWeek = _a.focusStartOfWeek, focusEndOfWeek = _a.focusEndOfWeek;\n    var onClick = function (e) {\n        var _a, _b, _c, _d;\n        if (isDayPickerSingle(dayPicker)) {\n            (_a = single.onDayClick) === null || _a === void 0 ? void 0 : _a.call(single, date, activeModifiers, e);\n        }\n        else if (isDayPickerMultiple(dayPicker)) {\n            (_b = multiple.onDayClick) === null || _b === void 0 ? void 0 : _b.call(multiple, date, activeModifiers, e);\n        }\n        else if (isDayPickerRange(dayPicker)) {\n            (_c = range.onDayClick) === null || _c === void 0 ? void 0 : _c.call(range, date, activeModifiers, e);\n        }\n        else {\n            (_d = dayPicker.onDayClick) === null || _d === void 0 ? void 0 : _d.call(dayPicker, date, activeModifiers, e);\n        }\n    };\n    var onFocus = function (e) {\n        var _a;\n        focus(date);\n        (_a = dayPicker.onDayFocus) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onBlur = function (e) {\n        var _a;\n        blur();\n        (_a = dayPicker.onDayBlur) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onMouseEnter = function (e) {\n        var _a;\n        (_a = dayPicker.onDayMouseEnter) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onMouseLeave = function (e) {\n        var _a;\n        (_a = dayPicker.onDayMouseLeave) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onPointerEnter = function (e) {\n        var _a;\n        (_a = dayPicker.onDayPointerEnter) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onPointerLeave = function (e) {\n        var _a;\n        (_a = dayPicker.onDayPointerLeave) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onTouchCancel = function (e) {\n        var _a;\n        (_a = dayPicker.onDayTouchCancel) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onTouchEnd = function (e) {\n        var _a;\n        (_a = dayPicker.onDayTouchEnd) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onTouchMove = function (e) {\n        var _a;\n        (_a = dayPicker.onDayTouchMove) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onTouchStart = function (e) {\n        var _a;\n        (_a = dayPicker.onDayTouchStart) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onKeyUp = function (e) {\n        var _a;\n        (_a = dayPicker.onDayKeyUp) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var onKeyDown = function (e) {\n        var _a;\n        switch (e.key) {\n            case 'ArrowLeft':\n                e.preventDefault();\n                e.stopPropagation();\n                dayPicker.dir === 'rtl' ? focusDayAfter() : focusDayBefore();\n                break;\n            case 'ArrowRight':\n                e.preventDefault();\n                e.stopPropagation();\n                dayPicker.dir === 'rtl' ? focusDayBefore() : focusDayAfter();\n                break;\n            case 'ArrowDown':\n                e.preventDefault();\n                e.stopPropagation();\n                focusWeekAfter();\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                e.stopPropagation();\n                focusWeekBefore();\n                break;\n            case 'PageUp':\n                e.preventDefault();\n                e.stopPropagation();\n                e.shiftKey ? focusYearBefore() : focusMonthBefore();\n                break;\n            case 'PageDown':\n                e.preventDefault();\n                e.stopPropagation();\n                e.shiftKey ? focusYearAfter() : focusMonthAfter();\n                break;\n            case 'Home':\n                e.preventDefault();\n                e.stopPropagation();\n                focusStartOfWeek();\n                break;\n            case 'End':\n                e.preventDefault();\n                e.stopPropagation();\n                focusEndOfWeek();\n                break;\n        }\n        (_a = dayPicker.onDayKeyDown) === null || _a === void 0 ? void 0 : _a.call(dayPicker, date, activeModifiers, e);\n    };\n    var eventHandlers = {\n        onClick: onClick,\n        onFocus: onFocus,\n        onBlur: onBlur,\n        onKeyDown: onKeyDown,\n        onKeyUp: onKeyUp,\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave,\n        onPointerEnter: onPointerEnter,\n        onPointerLeave: onPointerLeave,\n        onTouchCancel: onTouchCancel,\n        onTouchEnd: onTouchEnd,\n        onTouchMove: onTouchMove,\n        onTouchStart: onTouchStart\n    };\n    return eventHandlers;\n}\n\n/**\n * Return the current selected days when DayPicker is in selection mode. Days\n * selected by the custom selection mode are not returned.\n *\n * This hook is meant to be used inside internal or custom components.\n *\n */\nfunction useSelectedDays() {\n    var dayPicker = useDayPicker();\n    var single = useSelectSingle();\n    var multiple = useSelectMultiple();\n    var range = useSelectRange();\n    var selectedDays = isDayPickerSingle(dayPicker)\n        ? single.selected\n        : isDayPickerMultiple(dayPicker)\n            ? multiple.selected\n            : isDayPickerRange(dayPicker)\n                ? range.selected\n                : undefined;\n    return selectedDays;\n}\n\nfunction isInternalModifier(modifier) {\n    return Object.values(InternalModifier).includes(modifier);\n}\n/**\n * Return the class names for the Day element, according to the given active\n * modifiers.\n *\n * Custom class names are set via `modifiersClassNames` or `classNames`,\n * where the first have the precedence.\n */\nfunction getDayClassNames(dayPicker, activeModifiers) {\n    var classNames = [dayPicker.classNames.day];\n    Object.keys(activeModifiers).forEach(function (modifier) {\n        var customClassName = dayPicker.modifiersClassNames[modifier];\n        if (customClassName) {\n            classNames.push(customClassName);\n        }\n        else if (isInternalModifier(modifier)) {\n            var internalClassName = dayPicker.classNames[\"day_\".concat(modifier)];\n            if (internalClassName) {\n                classNames.push(internalClassName);\n            }\n        }\n    });\n    return classNames;\n}\n\n/** Return the style for the Day element, according to the given active modifiers. */\nfunction getDayStyle(dayPicker, activeModifiers) {\n    var style = __assign({}, dayPicker.styles.day);\n    Object.keys(activeModifiers).forEach(function (modifier) {\n        var _a;\n        style = __assign(__assign({}, style), (_a = dayPicker.modifiersStyles) === null || _a === void 0 ? void 0 : _a[modifier]);\n    });\n    return style;\n}\n\n/**\n * Return props and data used to render the {@link Day} component.\n *\n * Use this hook when creating a component to replace the built-in `Day`\n * component.\n */\nfunction useDayRender(\n/** The date to render. */\nday, \n/** The month where the date is displayed (if not the same as `date`, it means it is an \"outside\" day). */\ndisplayMonth, \n/** A ref to the button element that will be target of focus when rendered (if required). */\nbuttonRef) {\n    var _a;\n    var _b, _c;\n    var dayPicker = useDayPicker();\n    var focusContext = useFocusContext();\n    var activeModifiers = useActiveModifiers(day, displayMonth);\n    var eventHandlers = useDayEventHandlers(day, activeModifiers);\n    var selectedDays = useSelectedDays();\n    var isButton = Boolean(dayPicker.onDayClick || dayPicker.mode !== 'default');\n    // Focus the button if the day is focused according to the focus context\n    useEffect(function () {\n        var _a;\n        if (activeModifiers.outside)\n            return;\n        if (!focusContext.focusedDay)\n            return;\n        if (!isButton)\n            return;\n        if (isSameDay(focusContext.focusedDay, day)) {\n            (_a = buttonRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n    }, [\n        focusContext.focusedDay,\n        day,\n        buttonRef,\n        isButton,\n        activeModifiers.outside\n    ]);\n    var className = getDayClassNames(dayPicker, activeModifiers).join(' ');\n    var style = getDayStyle(dayPicker, activeModifiers);\n    var isHidden = Boolean((activeModifiers.outside && !dayPicker.showOutsideDays) ||\n        activeModifiers.hidden);\n    var DayContentComponent = (_c = (_b = dayPicker.components) === null || _b === void 0 ? void 0 : _b.DayContent) !== null && _c !== void 0 ? _c : DayContent;\n    var children = (jsx(DayContentComponent, { date: day, displayMonth: displayMonth, activeModifiers: activeModifiers }));\n    var divProps = {\n        style: style,\n        className: className,\n        children: children,\n        role: 'gridcell'\n    };\n    var isFocusTarget = focusContext.focusTarget &&\n        isSameDay(focusContext.focusTarget, day) &&\n        !activeModifiers.outside;\n    var isFocused = focusContext.focusedDay && isSameDay(focusContext.focusedDay, day);\n    var buttonProps = __assign(__assign(__assign({}, divProps), (_a = { disabled: activeModifiers.disabled, role: 'gridcell' }, _a['aria-selected'] = activeModifiers.selected, _a.tabIndex = isFocused || isFocusTarget ? 0 : -1, _a)), eventHandlers);\n    var dayRender = {\n        isButton: isButton,\n        isHidden: isHidden,\n        activeModifiers: activeModifiers,\n        selectedDays: selectedDays,\n        buttonProps: buttonProps,\n        divProps: divProps\n    };\n    return dayRender;\n}\n\n/**\n * The content of a day cell – as a button or span element according to its\n * modifiers.\n */\nfunction Day(props) {\n    var buttonRef = useRef(null);\n    var dayRender = useDayRender(props.date, props.displayMonth, buttonRef);\n    if (dayRender.isHidden) {\n        return jsx(\"div\", { role: \"gridcell\" });\n    }\n    if (!dayRender.isButton) {\n        return jsx(\"div\", __assign({}, dayRender.divProps));\n    }\n    return jsx(Button, __assign({ name: \"day\", ref: buttonRef }, dayRender.buttonProps));\n}\n\n/**\n * Render the week number element. If `onWeekNumberClick` is passed to DayPicker, it\n * renders a button, otherwise a span element.\n */\nfunction WeekNumber(props) {\n    var weekNumber = props.number, dates = props.dates;\n    var _a = useDayPicker(), onWeekNumberClick = _a.onWeekNumberClick, styles = _a.styles, classNames = _a.classNames, locale = _a.locale, labelWeekNumber = _a.labels.labelWeekNumber, formatWeekNumber = _a.formatters.formatWeekNumber;\n    var content = formatWeekNumber(Number(weekNumber), { locale: locale });\n    if (!onWeekNumberClick) {\n        return (jsx(\"span\", { className: classNames.weeknumber, style: styles.weeknumber, children: content }));\n    }\n    var label = labelWeekNumber(Number(weekNumber), { locale: locale });\n    var handleClick = function (e) {\n        onWeekNumberClick(weekNumber, dates, e);\n    };\n    return (jsx(Button, { name: \"week-number\", \"aria-label\": label, className: classNames.weeknumber, style: styles.weeknumber, onClick: handleClick, children: content }));\n}\n\n/** Render a row in the calendar, with the days and the week number. */\nfunction Row(props) {\n    var _a, _b;\n    var _c = useDayPicker(), styles = _c.styles, classNames = _c.classNames, showWeekNumber = _c.showWeekNumber, components = _c.components;\n    var DayComponent = (_a = components === null || components === void 0 ? void 0 : components.Day) !== null && _a !== void 0 ? _a : Day;\n    var WeeknumberComponent = (_b = components === null || components === void 0 ? void 0 : components.WeekNumber) !== null && _b !== void 0 ? _b : WeekNumber;\n    var weekNumberCell;\n    if (showWeekNumber) {\n        weekNumberCell = (jsx(\"td\", { className: classNames.cell, style: styles.cell, children: jsx(WeeknumberComponent, { number: props.weekNumber, dates: props.dates }) }));\n    }\n    return (jsxs(\"tr\", { className: classNames.row, style: styles.row, children: [weekNumberCell, props.dates.map(function (date) { return (jsx(\"td\", { className: classNames.cell, style: styles.cell, role: \"presentation\", children: jsx(DayComponent, { displayMonth: props.displayMonth, date: date }) }, getUnixTime(date))); })] }));\n}\n\n/** Return the weeks between two dates.  */\nfunction daysToMonthWeeks(fromDate, toDate, options) {\n    var toWeek = (options === null || options === void 0 ? void 0 : options.ISOWeek)\n        ? endOfISOWeek(toDate)\n        : endOfWeek(toDate, options);\n    var fromWeek = (options === null || options === void 0 ? void 0 : options.ISOWeek)\n        ? startOfISOWeek(fromDate)\n        : startOfWeek(fromDate, options);\n    var nOfDays = differenceInCalendarDays(toWeek, fromWeek);\n    var days = [];\n    for (var i = 0; i <= nOfDays; i++) {\n        days.push(addDays(fromWeek, i));\n    }\n    var weeksInMonth = days.reduce(function (result, date) {\n        var weekNumber = (options === null || options === void 0 ? void 0 : options.ISOWeek)\n            ? getISOWeek(date)\n            : getWeek(date, options);\n        var existingWeek = result.find(function (value) { return value.weekNumber === weekNumber; });\n        if (existingWeek) {\n            existingWeek.dates.push(date);\n            return result;\n        }\n        result.push({\n            weekNumber: weekNumber,\n            dates: [date]\n        });\n        return result;\n    }, []);\n    return weeksInMonth;\n}\n\n/**\n * Return the weeks belonging to the given month, adding the \"outside days\" to\n * the first and last week.\n */\nfunction getMonthWeeks(month, options) {\n    var weeksInMonth = daysToMonthWeeks(startOfMonth(month), endOfMonth(month), options);\n    if (options === null || options === void 0 ? void 0 : options.useFixedWeeks) {\n        // Add extra weeks to the month, up to 6 weeks\n        var nrOfMonthWeeks = getWeeksInMonth(month, options);\n        if (nrOfMonthWeeks < 6) {\n            var lastWeek = weeksInMonth[weeksInMonth.length - 1];\n            var lastDate = lastWeek.dates[lastWeek.dates.length - 1];\n            var toDate = addWeeks(lastDate, 6 - nrOfMonthWeeks);\n            var extraWeeks = daysToMonthWeeks(addWeeks(lastDate, 1), toDate, options);\n            weeksInMonth.push.apply(weeksInMonth, extraWeeks);\n        }\n    }\n    return weeksInMonth;\n}\n\n/** Render the table with the calendar. */\nfunction Table(props) {\n    var _a, _b, _c;\n    var _d = useDayPicker(), locale = _d.locale, classNames = _d.classNames, styles = _d.styles, hideHead = _d.hideHead, fixedWeeks = _d.fixedWeeks, components = _d.components, weekStartsOn = _d.weekStartsOn, firstWeekContainsDate = _d.firstWeekContainsDate, ISOWeek = _d.ISOWeek;\n    var weeks = getMonthWeeks(props.displayMonth, {\n        useFixedWeeks: Boolean(fixedWeeks),\n        ISOWeek: ISOWeek,\n        locale: locale,\n        weekStartsOn: weekStartsOn,\n        firstWeekContainsDate: firstWeekContainsDate\n    });\n    var HeadComponent = (_a = components === null || components === void 0 ? void 0 : components.Head) !== null && _a !== void 0 ? _a : Head;\n    var RowComponent = (_b = components === null || components === void 0 ? void 0 : components.Row) !== null && _b !== void 0 ? _b : Row;\n    var FooterComponent = (_c = components === null || components === void 0 ? void 0 : components.Footer) !== null && _c !== void 0 ? _c : Footer;\n    return (jsxs(\"table\", { id: props.id, className: classNames.table, style: styles.table, role: \"grid\", \"aria-labelledby\": props['aria-labelledby'], children: [!hideHead && jsx(HeadComponent, {}), jsx(\"tbody\", { className: classNames.tbody, style: styles.tbody, children: weeks.map(function (week) { return (jsx(RowComponent, { displayMonth: props.displayMonth, dates: week.dates, weekNumber: week.weekNumber }, week.weekNumber)); }) }), jsx(FooterComponent, { displayMonth: props.displayMonth })] }));\n}\n\n/*\nThe MIT License (MIT)\n\nCopyright (c) 2018-present, React Training LLC\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n/* eslint-disable prefer-const */\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n/*\n * Welcome to @reach/auto-id!\n * Let's see if we can make sense of why this hook exists and its\n * implementation.\n *\n * Some background:\n *   1. Accessibility APIs rely heavily on element IDs\n *   2. Requiring developers to put IDs on every element in Reach UI is both\n *      cumbersome and error-prone\n *   3. With a component model, we can generate IDs for them!\n *\n * Solution 1: Generate random IDs.\n *\n * This works great as long as you don't server render your app. When React (in\n * the client) tries to reuse the markup from the server, the IDs won't match\n * and React will then recreate the entire DOM tree.\n *\n * Solution 2: Increment an integer\n *\n * This sounds great. Since we're rendering the exact same tree on the server\n * and client, we can increment a counter and get a deterministic result between\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\n * pretty sure the tab will be closed before an app never needs\n * 10 quadrillion IDs!\n *\n * Problem solved, right?\n *\n * Ah, but there's a catch! React's concurrent rendering makes this approach\n * non-deterministic. While the client and server will end up with the same\n * elements in the end, depending on suspense boundaries (and possibly some user\n * input during the initial render) the incrementing integers won't always match\n * up.\n *\n * Solution 3: Don't use IDs at all on the server; patch after first render.\n *\n * What we've done here is solution 2 with some tricks. With this approach, the\n * ID returned is an empty string on the first render. This way the server and\n * client have the same markup no matter how wild the concurrent rendering may\n * have gotten.\n *\n * After the render, we patch up the components with an incremented ID. This\n * causes a double render on any components with `useId`. Shouldn't be a problem\n * since the components using this hook should be small, and we're only updating\n * the ID attribute on the DOM, nothing big is happening.\n *\n * It doesn't have to be an incremented number, though--we could do generate\n * random strings instead, but incrementing a number is probably the cheapest\n * thing we can do.\n *\n * Additionally, we only do this patchup on the very first client render ever.\n * Any calls to `useId` that happen dynamically in the client will be\n * populated immediately with a value. So, we only get the double render after\n * server hydration and never again, SO BACK OFF ALRIGHT?\n */\nfunction canUseDOM() {\n    return !!(typeof window !== 'undefined' &&\n        window.document &&\n        window.document.createElement);\n}\n/**\n * React currently throws a warning when using useLayoutEffect on the server. To\n * get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\n * ensure we don't get a render flash for certain operations, but we may also\n * need affected components to render on the server. One example is when setting\n * a component's descendants to retrieve their index values.\n *\n * Important to note that using this hook as an escape hatch will break the\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\n * any server/client mismatch.\n *\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\n * likely that the component in question shouldn't be rendered on the server at\n * all, so a better approach would be to lazily render those in a parent\n * component after client-side hydration.\n *\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\n *\n * @param effect\n * @param deps\n */\nvar useIsomorphicLayoutEffect = canUseDOM() ? useLayoutEffect : useEffect;\nvar serverHandoffComplete = false;\nvar id = 0;\nfunction genId() {\n    return \"react-day-picker-\".concat(++id);\n}\nfunction useId(providedId) {\n    // TODO: Remove error flag when updating internal deps to React 18. None of\n    // our tricks will play well with concurrent rendering anyway.\n    var _a;\n    // If this instance isn't part of the initial render, we don't have to do the\n    // double render/patch-up dance. We can just generate the ID and return it.\n    var initialId = providedId !== null && providedId !== void 0 ? providedId : (serverHandoffComplete ? genId() : null);\n    var _b = useState(initialId), id = _b[0], setId = _b[1];\n    useIsomorphicLayoutEffect(function () {\n        if (id === null) {\n            // Patch the ID after render. We do this in `useLayoutEffect` to avoid any\n            // rendering flicker, though it'll make the first render slower (unlikely\n            // to matter, but you're welcome to measure your app and let us know if\n            // it's a problem).\n            setId(genId());\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    useEffect(function () {\n        if (serverHandoffComplete === false) {\n            // Flag all future uses of `useId` to skip the update dance. This is in\n            // `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\n            // accidentally bail out of the patch-up dance prematurely.\n            serverHandoffComplete = true;\n        }\n    }, []);\n    return (_a = providedId !== null && providedId !== void 0 ? providedId : id) !== null && _a !== void 0 ? _a : undefined;\n}\n\n/** Render a month. */\nfunction Month(props) {\n    var _a;\n    var _b;\n    var dayPicker = useDayPicker();\n    var dir = dayPicker.dir, classNames = dayPicker.classNames, styles = dayPicker.styles, components = dayPicker.components;\n    var displayMonths = useNavigation().displayMonths;\n    var captionId = useId(dayPicker.id ? \"\".concat(dayPicker.id, \"-\").concat(props.displayIndex) : undefined);\n    var tableId = dayPicker.id\n        ? \"\".concat(dayPicker.id, \"-grid-\").concat(props.displayIndex)\n        : undefined;\n    var className = [classNames.month];\n    var style = styles.month;\n    var isStart = props.displayIndex === 0;\n    var isEnd = props.displayIndex === displayMonths.length - 1;\n    var isCenter = !isStart && !isEnd;\n    if (dir === 'rtl') {\n        _a = [isStart, isEnd], isEnd = _a[0], isStart = _a[1];\n    }\n    if (isStart) {\n        className.push(classNames.caption_start);\n        style = __assign(__assign({}, style), styles.caption_start);\n    }\n    if (isEnd) {\n        className.push(classNames.caption_end);\n        style = __assign(__assign({}, style), styles.caption_end);\n    }\n    if (isCenter) {\n        className.push(classNames.caption_between);\n        style = __assign(__assign({}, style), styles.caption_between);\n    }\n    var CaptionComponent = (_b = components === null || components === void 0 ? void 0 : components.Caption) !== null && _b !== void 0 ? _b : Caption;\n    return (jsxs(\"div\", { className: className.join(' '), style: style, children: [jsx(CaptionComponent, { id: captionId, displayMonth: props.displayMonth, displayIndex: props.displayIndex }), jsx(Table, { id: tableId, \"aria-labelledby\": captionId, displayMonth: props.displayMonth })] }, props.displayIndex));\n}\n\n/**\n * Render the wrapper for the month grids.\n */\nfunction Months(props) {\n    var _a = useDayPicker(), classNames = _a.classNames, styles = _a.styles;\n    return (jsx(\"div\", { className: classNames.months, style: styles.months, children: props.children }));\n}\n\n/** Render the container with the months according to the number of months to display. */\nfunction Root(_a) {\n    var _b, _c;\n    var initialProps = _a.initialProps;\n    var dayPicker = useDayPicker();\n    var focusContext = useFocusContext();\n    var navigation = useNavigation();\n    var _d = useState(false), hasInitialFocus = _d[0], setHasInitialFocus = _d[1];\n    // Focus the focus target when initialFocus is passed in\n    useEffect(function () {\n        if (!dayPicker.initialFocus)\n            return;\n        if (!focusContext.focusTarget)\n            return;\n        if (hasInitialFocus)\n            return;\n        focusContext.focus(focusContext.focusTarget);\n        setHasInitialFocus(true);\n    }, [\n        dayPicker.initialFocus,\n        hasInitialFocus,\n        focusContext.focus,\n        focusContext.focusTarget,\n        focusContext\n    ]);\n    // Apply classnames according to props\n    var classNames = [dayPicker.classNames.root, dayPicker.className];\n    if (dayPicker.numberOfMonths > 1) {\n        classNames.push(dayPicker.classNames.multiple_months);\n    }\n    if (dayPicker.showWeekNumber) {\n        classNames.push(dayPicker.classNames.with_weeknumber);\n    }\n    var style = __assign(__assign({}, dayPicker.styles.root), dayPicker.style);\n    var dataAttributes = Object.keys(initialProps)\n        .filter(function (key) { return key.startsWith('data-'); })\n        .reduce(function (attrs, key) {\n        var _a;\n        return __assign(__assign({}, attrs), (_a = {}, _a[key] = initialProps[key], _a));\n    }, {});\n    var MonthsComponent = (_c = (_b = initialProps.components) === null || _b === void 0 ? void 0 : _b.Months) !== null && _c !== void 0 ? _c : Months;\n    return (jsx(\"div\", __assign({ className: classNames.join(' '), style: style, dir: dayPicker.dir, id: dayPicker.id, nonce: initialProps.nonce, title: initialProps.title, lang: initialProps.lang }, dataAttributes, { children: jsx(MonthsComponent, { children: navigation.displayMonths.map(function (month, i) { return (jsx(Month, { displayIndex: i, displayMonth: month }, i)); }) }) })));\n}\n\n/** Provide the value for all the context providers. */\nfunction RootProvider(props) {\n    var children = props.children, initialProps = __rest(props, [\"children\"]);\n    return (jsx(DayPickerProvider, { initialProps: initialProps, children: jsx(NavigationProvider, { children: jsx(SelectSingleProvider, { initialProps: initialProps, children: jsx(SelectMultipleProvider, { initialProps: initialProps, children: jsx(SelectRangeProvider, { initialProps: initialProps, children: jsx(ModifiersProvider, { children: jsx(FocusProvider, { children: children }) }) }) }) }) }) }));\n}\n\n/**\n * DayPicker render a date picker component to let users pick dates from a\n * calendar. See http://react-day-picker.js.org for updated documentation and\n * examples.\n *\n * ### Customization\n *\n * DayPicker offers different customization props. For example,\n *\n * - show multiple months using `numberOfMonths`\n * - display a dropdown to navigate the months via `captionLayout`\n * - display the week numbers with `showWeekNumbers`\n * - disable or hide days with `disabled` or `hidden`\n *\n * ### Controlling the months\n *\n * Change the initially displayed month using the `defaultMonth` prop. The\n * displayed months are controlled by DayPicker and stored in its internal\n * state. To control the months yourself, use `month` instead of `defaultMonth`\n * and use the `onMonthChange` event to set it.\n *\n * To limit the months the user can navigate to, use\n * `fromDate`/`fromMonth`/`fromYear` or `toDate`/`toMonth`/`toYear`.\n *\n * ### Selection modes\n *\n * DayPicker supports different selection mode that can be toggled using the\n * `mode` prop:\n *\n * - `mode=\"single\"`: only one day can be selected. Use `required` to make the\n *   selection required. Use the `onSelect` event handler to get the selected\n *   days.\n * - `mode=\"multiple\"`: users can select one or more days. Limit the amount of\n *   days that can be selected with the `min` or the `max` props.\n * - `mode=\"range\"`: users can select a range of days. Limit the amount of days\n *   in the range with the `min` or the `max` props.\n * - `mode=\"default\"` (default): the built-in selections are disabled. Implement\n *   your own selection mode with `onDayClick`.\n *\n * The selection modes should cover the most common use cases. In case you\n * need a more refined way of selecting days, use `mode=\"default\"`. Use the\n * `selected` props and add the day event handlers to add/remove days from the\n * selection.\n *\n * ### Modifiers\n *\n * A _modifier_ represents different styles or states for the days displayed in\n * the calendar (like \"selected\" or \"disabled\"). Define custom modifiers using\n * the `modifiers` prop.\n *\n * ### Formatters and custom component\n *\n * You can customize how the content is displayed in the date picker by using\n * either the formatters or replacing the internal components.\n *\n * For the most common cases you want to use the `formatters` prop to change how\n * the content is formatted in the calendar. Use the `components` prop to\n * replace the internal components, like the navigation icons.\n *\n * ### Styling\n *\n * DayPicker comes with a default, basic style in `react-day-picker/style` – use\n * it as template for your own style.\n *\n * If you are using CSS modules, pass the imported styles object the\n * `classNames` props.\n *\n * You can also style the elements via inline styles using the `styles` prop.\n *\n * ### Form fields\n *\n * If you need to bind the date picker to a form field, you can use the\n * `useInput` hooks for a basic behavior. See the `useInput` source as an\n * example to bind the date picker with form fields.\n *\n * ### Localization\n *\n * To localize DayPicker, import the locale from `date-fns` package and use the\n * `locale` prop.\n *\n * For example, to use Spanish locale:\n *\n * ```\n * import { es } from 'date-fns/locale';\n * <DayPicker locale={es} />\n * ```\n */\nfunction DayPicker(props) {\n    return (jsx(RootProvider, __assign({}, props, { children: jsx(Root, { initialProps: props }) })));\n}\n\n/** @private */\nfunction isValidDate(day) {\n    return !isNaN(day.getTime());\n}\n\n/** Return props and setters for binding an input field to DayPicker. */\nfunction useInput(options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.locale, locale = _a === void 0 ? enUS : _a, required = options.required, _b = options.format, format$1 = _b === void 0 ? 'PP' : _b, defaultSelected = options.defaultSelected, _c = options.today, today = _c === void 0 ? new Date() : _c;\n    var _d = parseFromToProps(options), fromDate = _d.fromDate, toDate = _d.toDate;\n    // Shortcut to the DateFns functions\n    var parseValue = function (value) { return parse(value, format$1, today, { locale: locale }); };\n    // Initialize states\n    var _e = useState(defaultSelected !== null && defaultSelected !== void 0 ? defaultSelected : today), month = _e[0], setMonth = _e[1];\n    var _f = useState(defaultSelected), selectedDay = _f[0], setSelectedDay = _f[1];\n    var defaultInputValue = defaultSelected\n        ? format(defaultSelected, format$1, { locale: locale })\n        : '';\n    var _g = useState(defaultInputValue), inputValue = _g[0], setInputValue = _g[1];\n    var reset = function () {\n        setSelectedDay(defaultSelected);\n        setMonth(defaultSelected !== null && defaultSelected !== void 0 ? defaultSelected : today);\n        setInputValue(defaultInputValue !== null && defaultInputValue !== void 0 ? defaultInputValue : '');\n    };\n    var setSelected = function (date) {\n        setSelectedDay(date);\n        setMonth(date !== null && date !== void 0 ? date : today);\n        setInputValue(date ? format(date, format$1, { locale: locale }) : '');\n    };\n    var handleDayClick = function (day, _a) {\n        var selected = _a.selected;\n        if (!required && selected) {\n            setSelectedDay(undefined);\n            setInputValue('');\n            return;\n        }\n        setSelectedDay(day);\n        setInputValue(day ? format(day, format$1, { locale: locale }) : '');\n    };\n    var handleMonthChange = function (month) {\n        setMonth(month);\n    };\n    // When changing the input field, save its value in state and check if the\n    // string is a valid date. If it is a valid day, set it as selected and update\n    // the calendar’s month.\n    var handleChange = function (e) {\n        setInputValue(e.target.value);\n        var day = parseValue(e.target.value);\n        var isBefore = fromDate && differenceInCalendarDays(fromDate, day) > 0;\n        var isAfter = toDate && differenceInCalendarDays(day, toDate) > 0;\n        if (!isValidDate(day) || isBefore || isAfter) {\n            setSelectedDay(undefined);\n            return;\n        }\n        setSelectedDay(day);\n        setMonth(day);\n    };\n    // Special case for _required_ fields: on blur, if the value of the input is not\n    // a valid date, reset the calendar and the input value.\n    var handleBlur = function (e) {\n        var day = parseValue(e.target.value);\n        if (!isValidDate(day)) {\n            reset();\n        }\n    };\n    // When focusing, make sure DayPicker visualizes the month of the date in the\n    // input field.\n    var handleFocus = function (e) {\n        if (!e.target.value) {\n            reset();\n            return;\n        }\n        var day = parseValue(e.target.value);\n        if (isValidDate(day)) {\n            setMonth(day);\n        }\n    };\n    var dayPickerProps = {\n        month: month,\n        onDayClick: handleDayClick,\n        onMonthChange: handleMonthChange,\n        selected: selectedDay,\n        locale: locale,\n        fromDate: fromDate,\n        toDate: toDate,\n        today: today\n    };\n    var inputProps = {\n        onBlur: handleBlur,\n        onChange: handleChange,\n        onFocus: handleFocus,\n        value: inputValue,\n        placeholder: format(new Date(), format$1, { locale: locale })\n    };\n    return { dayPickerProps: dayPickerProps, inputProps: inputProps, reset: reset, setSelected: setSelected };\n}\n\n/** Returns true when the props are of type {@link DayPickerDefaultProps}. */\nfunction isDayPickerDefault(props) {\n    return props.mode === undefined || props.mode === 'default';\n}\n\nexport { Button, Caption, CaptionDropdowns, CaptionLabel, CaptionNavigation, Day, DayContent, DayPicker, DayPickerContext, DayPickerProvider, Dropdown, FocusContext, FocusProvider, Footer, Head, HeadRow, IconDropdown, IconLeft, IconRight, InternalModifier, Months, NavigationContext, NavigationProvider, RootProvider, Row, SelectMultipleContext, SelectMultipleProvider, SelectMultipleProviderInternal, SelectRangeContext, SelectRangeProvider, SelectRangeProviderInternal, SelectSingleContext, SelectSingleProvider, SelectSingleProviderInternal, WeekNumber, addToRange, isDateAfterType, isDateBeforeType, isDateInterval, isDateRange, isDayOfWeekType, isDayPickerDefault, isDayPickerMultiple, isDayPickerRange, isDayPickerSingle, isMatch, useActiveModifiers, useDayPicker, useDayRender, useFocusContext, useInput, useNavigation, useSelectMultiple, useSelectRange, useSelectSingle };\n//# sourceMappingURL=index.esm.js.map\n","import * as React from \"react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { DayPicker } from \"react-day-picker\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>;\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3 select-none\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium leading-none\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1 table-fixed\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] flex items-center justify-center\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative overflow-hidden [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100 flex items-center justify-center text-center leading-none\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground font-medium\",\n        day_outside:\n          \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ ..._props }) => <ChevronLeft className=\"h-4 w-4\" />,\n        IconRight: ({ ..._props }) => <ChevronRight className=\"h-4 w-4\" />,\n      }}\n      {...props}\n    />\n  );\n}\nCalendar.displayName = \"Calendar\";\n\nexport { Calendar };\n","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Calendar } from '@/components/ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { \n  Calendar as CalendarIcon, \n  Clock, \n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  Bell,\n  Syringe,\n  User,\n  FileText,\n  Target,\n  TrendingUp\n} from 'lucide-react';\nimport { format, addDays, differenceInDays, parseISO, isBefore, isAfter } from 'date-fns';\nimport { th } from 'date-fns/locale';\n\ninterface VaccineSchedule {\n  id: string;\n  vaccine_name: string;\n  vaccine_type: string;\n  total_doses: number;\n  dose_intervals: any; // JSON array from database\n  age_restrictions: any; // JSON object from database  \n  contraindications: any; // JSON array from database\n  indications: any; // JSON array from database\n  side_effects: any; // JSON array from database\n  efficacy_duration: number;\n  booster_required: boolean;\n  booster_interval: number | null;\n  active: boolean;\n}\n\ninterface PatientTracking {\n  id: string;\n  patient_id: string;\n  patient_name: string;\n  vaccine_schedule_id: string;\n  current_dose: number;\n  total_doses: number;\n  last_dose_date: string | null;\n  next_dose_due: string | null;\n  completion_status: string;\n  auto_reminder_enabled: boolean;\n  reminder_days_before: number;\n  contraindication_checked: boolean;\n  contraindication_notes: string | null;\n}\n\ninterface PatientConditions {\n  pregnancy?: boolean;\n  immunocompromised?: boolean;\n  severe_allergic_reaction?: boolean;\n  myocarditis_history?: boolean;\n  guillain_barre_syndrome?: boolean;\n  chronic_disease?: boolean;\n  age?: number;\n  [key: string]: boolean | number | undefined;\n}\n\nconst VaccineScheduleCalculator: React.FC = () => {\n  const [schedules, setSchedules] = useState<VaccineSchedule[]>([]);\n  const [tracking, setTracking] = useState<PatientTracking[]>([]);\n  const [selectedSchedule, setSelectedSchedule] = useState<VaccineSchedule | null>(null);\n  const [selectedPatientId, setSelectedPatientId] = useState('');\n  const [patientName, setPatientName] = useState('');\n  const [patientConditions, setPatientConditions] = useState<PatientConditions>({});\n  const [contraindicationResult, setContraindicationResult] = useState<any>(null);\n  const [calculatedSchedule, setCalculatedSchedule] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    loadVaccineSchedules();\n    loadPatientTracking();\n  }, []);\n\n  const loadVaccineSchedules = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('vaccine_schedules')\n        .select('*')\n        .eq('active', true)\n        .order('vaccine_name');\n\n      if (error) throw error;\n      setSchedules(data || []);\n    } catch (error: any) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลตารางวัคซีนได้\",\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const loadPatientTracking = async () => {\n    try {\n      console.log('🔍 เริ่มโหลดข้อมูลการติดตามผู้ป่วย...');\n      \n      // Get all appointments to calculate actual tracking data\n      const { data: allAppointments, error: apptError } = await supabase\n        .from('appointments')\n        .select('*')\n        .order('appointment_date', { ascending: false });\n\n      if (apptError) throw apptError;\n\n      console.log('📊 ข้อมูลนัดทั้งหมด:', allAppointments?.length || 0, 'รายการ');\n\n      const completedAppointments = allAppointments?.filter(a => a.status === 'completed') || [];\n      const scheduledAppointments = allAppointments?.filter(a => ['scheduled', 'pending'].includes(a.status)) || [];\n\n      console.log('✅ การฉีดที่เสร็จสิ้น:', completedAppointments.length, 'รายการ');\n      console.log('📅 นัดที่มีอยู่แล้ว:', scheduledAppointments.length, 'รายการ');\n\n      // Group by patient and vaccine type to get actual tracking data\n      const patientVaccineMap = new Map();\n      \n      for (const appt of completedAppointments || []) {\n        const patientKey = appt.patient_id_number || appt.line_user_id;\n        const key = `${patientKey}-${appt.vaccine_type}`;\n        \n        if (!patientVaccineMap.has(key)) {\n          // Count completed doses for this patient and vaccine type\n          const completedDoses = completedAppointments.filter(a => {\n            const aPatientKey = a.patient_id_number || a.line_user_id;\n            return (aPatientKey === patientKey) &&\n                   a.vaccine_type === appt.vaccine_type &&\n                   a.status === 'completed';\n          });\n\n          console.log(`👤 ผู้ป่วย: ${appt.patient_name}, วัคซีน: ${appt.vaccine_type}, โดสที่ฉีดแล้ว: ${completedDoses.length}`);\n\n          // Find latest dose date\n          const latestDose = completedDoses.reduce((latest, current) => \n            new Date(current.appointment_date) > new Date(latest.appointment_date) ? current : latest\n          );\n\n          // Find first dose date\n          const firstDose = completedDoses.reduce((earliest, current) => \n            new Date(current.appointment_date) < new Date(earliest.appointment_date) ? current : earliest\n          );\n\n          console.log(`📅 เข็มล่าสุด: ${latestDose.appointment_date}, เข็มแรก: ${firstDose.appointment_date}`);\n\n          patientVaccineMap.set(key, {\n            patient_id: patientKey,\n            patient_name: appt.patient_name,\n            vaccine_type: appt.vaccine_type,\n            doses_received: completedDoses.length,\n            latest_date: latestDose.appointment_date,\n            first_dose_date: firstDose.appointment_date\n          });\n        }\n      }\n\n      // Get vaccine schedules for calculating next doses\n      const { data: vaccineSchedules } = await supabase\n        .from('vaccine_schedules')\n        .select('*')\n        .eq('active', true);\n\n      console.log('💉 โหลดข้อมูลวัคซีน:', vaccineSchedules?.length || 0, 'ประเภท');\n\n      // Calculate tracking data based on actual appointments\n      const trackingData = [];\n      \n      for (const patient of patientVaccineMap.values()) {\n        try {\n          // Find vaccine schedule\n          const schedule = vaccineSchedules?.find(vs => \n            vs.vaccine_type.toLowerCase() === patient.vaccine_type.toLowerCase()\n          );\n\n          if (!schedule) {\n            console.log(`❌ ไม่พบข้อมูลวัคซีน: ${patient.vaccine_type}`);\n            continue;\n          }\n\n          // Check completion status\n          let completionStatus = 'in_progress';\n          let nextDoseDate = null;\n\n          if (patient.doses_received >= schedule.total_doses) {\n            completionStatus = 'completed';\n            console.log(`✅ ผู้ป่วย ${patient.patient_name} ได้รับวัคซีน ${patient.vaccine_type} ครบแล้ว`);\n          } else {\n            // Check if patient already has a future appointment for this vaccine type\n            const existingFutureAppointment = scheduledAppointments.find(appt => {\n              const apptPatientKey = appt.patient_id_number || appt.line_user_id;\n              return (apptPatientKey === patient.patient_id) &&\n                     appt.vaccine_type.toLowerCase() === patient.vaccine_type.toLowerCase() &&\n                     new Date(appt.appointment_date) > new Date();\n            });\n\n            // Calculate next dose date regardless of existing appointment\n            const intervals = Array.isArray(schedule.dose_intervals) ? \n              schedule.dose_intervals : \n              JSON.parse(schedule.dose_intervals?.toString() || '[]');\n\n            let nextDate = new Date(patient.latest_date);\n            \n            // Add interval for next dose (intervals are 0-indexed, patient.doses_received is current index for next dose)\n            const intervalDays = typeof intervals[patient.doses_received] === 'number' ? \n              intervals[patient.doses_received] : 30;\n            nextDate.setDate(nextDate.getDate() + intervalDays);\n            \n            nextDoseDate = nextDate.toISOString().split('T')[0];\n            \n            // If there's an existing appointment, use that date instead\n            if (existingFutureAppointment) {\n              nextDoseDate = existingFutureAppointment.appointment_date;\n              console.log(`📅 วัคซีน ${patient.vaccine_type}: พบนัดที่มีแล้ว ${nextDoseDate}`);\n            } else {\n              console.log(`🎯 วัคซีน ${patient.vaccine_type}: คำนวณนัดใหม่ ${patient.doses_received + 1}/${schedule.total_doses}, วันที่: ${nextDoseDate}, ช่วงห่าง: ${intervalDays} วัน`);\n            }\n          }\n\n          trackingData.push({\n            id: `${patient.patient_id}-${patient.vaccine_type}`,\n            patient_id: patient.patient_id,\n            patient_name: patient.patient_name,\n            vaccine_schedule_id: schedule.id,\n            current_dose: patient.doses_received,\n            total_doses: schedule.total_doses,\n            last_dose_date: patient.latest_date,\n            next_dose_due: nextDoseDate,\n            completion_status: completionStatus,\n            auto_reminder_enabled: true,\n            reminder_days_before: 1,\n            contraindication_checked: false,\n            contraindication_notes: null,\n            vaccine_schedules: {\n              vaccine_name: schedule.vaccine_name,\n              vaccine_type: schedule.vaccine_type,\n              dose_intervals: schedule.dose_intervals,\n              total_doses: schedule.total_doses\n            },\n            // Add appointment info for better display\n            existing_appointment: !!scheduledAppointments.find(appt => {\n              const apptPatientKey = appt.patient_id_number || appt.line_user_id;\n              return (apptPatientKey === patient.patient_id) &&\n                     appt.vaccine_type.toLowerCase() === patient.vaccine_type.toLowerCase() &&\n                     new Date(appt.appointment_date) > new Date();\n            })\n          });\n\n        } catch (error) {\n          console.error('Error processing patient:', patient.patient_id, error);\n        }\n      }\n\n      console.log('✅ ข้อมูลการติดตามที่คำนวณได้:', trackingData.length, 'รายการ');\n      setTracking(trackingData);\n      \n    } catch (error: any) {\n      console.error('Error loading patient tracking:', error);\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลการติดตามผู้ป่วยได้\",\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const checkContraindications = async (scheduleId: string) => {\n    if (!scheduleId) return;\n\n    try {\n      setLoading(true);\n      const { data, error } = await supabase.rpc('check_contraindications', {\n        _vaccine_schedule_id: scheduleId,\n        _patient_conditions: patientConditions\n      });\n\n      if (error) throw error;\n      setContraindicationResult(data);\n    } catch (error: any) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"ไม่สามารถตรวจสอบข้อห้ามได้\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateVaccineSchedule = () => {\n    if (!selectedSchedule) return;\n\n    const schedule = selectedSchedule;\n    const today = new Date();\n    const scheduleArray = [];\n\n    // First dose\n    scheduleArray.push({\n      dose: 1,\n      date: today,\n      dueDays: 0,\n      status: 'due',\n      description: `โดสแรกของวัคซีน ${schedule.vaccine_name}`\n    });\n\n    // Subsequent doses\n    let currentDate = today;\n    for (let i = 1; i < schedule.total_doses; i++) {\n      const intervalDays = schedule.dose_intervals[i - 1] || 30;\n      currentDate = addDays(currentDate, intervalDays);\n\n      scheduleArray.push({\n        dose: i + 1,\n        date: currentDate,\n        dueDays: differenceInDays(currentDate, today),\n        status: 'scheduled',\n        description: `โดสที่ ${i + 1} ของวัคซีน ${schedule.vaccine_name} (หลังจากโดสก่อนหน้า ${intervalDays} วัน)`\n      });\n    }\n\n    // Booster if required\n    if (schedule.booster_required && schedule.booster_interval) {\n      const boosterDate = addDays(currentDate, schedule.booster_interval);\n      scheduleArray.push({\n        dose: 'booster',\n        date: boosterDate,\n        dueDays: differenceInDays(boosterDate, today),\n        status: 'booster',\n        description: `โดสเสริม (หลังจากโดสสุดท้าย ${schedule.booster_interval} วัน)`\n      });\n    }\n\n    setCalculatedSchedule(scheduleArray);\n  };\n\n  const createPatientTracking = async () => {\n    if (!selectedSchedule || !selectedPatientId || !patientName) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"กรุณากรอกข้อมูลให้ครบถ้วน\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    if (contraindicationResult?.has_contraindications) {\n      toast({\n        title: \"พบข้อห้าม\",\n        description: \"ไม่สามารถสร้างการติดตามได้เนื่องจากมีข้อห้าม\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    try {\n      setLoading(true);\n      \n      const nextDoseDate = addDays(new Date(), 0); // Can start immediately\n\n      const { error } = await supabase\n        .from('patient_vaccine_tracking')\n        .insert({\n          patient_id: selectedPatientId,\n          patient_name: patientName,\n          vaccine_schedule_id: selectedSchedule.id,\n          current_dose: 1,\n          total_doses: selectedSchedule.total_doses,\n          next_dose_due: format(nextDoseDate, 'yyyy-MM-dd'),\n          completion_status: 'in_progress',\n          auto_reminder_enabled: true,\n          reminder_days_before: 1,\n          contraindication_checked: true,\n          contraindication_notes: contraindicationResult?.contraindications?.length > 0 \n            ? `ตรวจพบ: ${contraindicationResult.contraindications.join(', ')}` \n            : null\n        });\n\n      if (error) throw error;\n\n      // Create notification schedule\n      await createNotificationSchedule(selectedPatientId, nextDoseDate);\n\n      toast({\n        title: \"สำเร็จ\",\n        description: \"สร้างการติดตามวัคซีนเรียบร้อยแล้ว\",\n        variant: \"default\"\n      });\n\n      // Reset form\n      setSelectedPatientId('');\n      setPatientName('');\n      setPatientConditions({});\n      setContraindicationResult(null);\n      setCalculatedSchedule([]);\n      \n      loadPatientTracking();\n    } catch (error: any) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"ไม่สามารถสร้างการติดตามได้\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createNotificationSchedule = async (patientId: string, dueDate: Date) => {\n    const reminderDate = addDays(dueDate, -1); // 1 day before\n\n    await supabase\n      .from('notification_schedules')\n      .insert({\n        patient_tracking_id: null, // Will be updated after tracking is created\n        notification_type: 'reminder',\n        scheduled_date: format(reminderDate, 'yyyy-MM-dd'),\n        message_content: `🔔 แจ้งเตือนการฉีดวัคซีน\\n\\nพรุ่งนี้ (${format(dueDate, 'dd/MM/yyyy')}) คุณมีนัดฉีดวัคซีน ${selectedSchedule?.vaccine_name}\\n\\nกรุณามาตรงเวลา`,\n        line_user_id: patientId,\n        sent: false\n      });\n  };\n\n  const updatePatientCondition = (condition: string, value: boolean | number) => {\n    setPatientConditions(prev => ({\n      ...prev,\n      [condition]: value\n    }));\n  };\n\n  const getStatusBadge = (status: string) => {\n    const statusConfig = {\n      due: { color: 'bg-green-500', text: 'ถึงกำหนด' },\n      scheduled: { color: 'bg-blue-500', text: 'กำหนดการ' },\n      booster: { color: 'bg-purple-500', text: 'โดสเสริม' },\n      overdue: { color: 'bg-red-500', text: 'เกินกำหนด' },\n      completed: { color: 'bg-gray-500', text: 'เสร็จสิ้น' }\n    };\n\n    const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.scheduled;\n    return <Badge className={config.color}>{config.text}</Badge>;\n  };\n\n  return (\n    <div className=\"space-y-4 md:space-y-6\">\n      <Tabs defaultValue=\"calculator\" className=\"space-y-4\">\n        <TabsList className=\"grid w-full grid-cols-1 md:grid-cols-3 gap-1 md:gap-0 h-auto md:h-10\">\n          <TabsTrigger value=\"calculator\" className=\"flex items-center gap-2 text-sm md:text-base p-3 md:p-2\">\n            <Target className=\"h-4 w-4\" />\n            <span>คำนวณตารางวัคซีน</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"tracking\" className=\"flex items-center gap-2 text-sm md:text-base p-3 md:p-2\">\n            <TrendingUp className=\"h-4 w-4\" />\n            <span>ติดตามผู้ป่วย</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"schedules\" className=\"flex items-center gap-2 text-sm md:text-base p-3 md:p-2\">\n            <FileText className=\"h-4 w-4\" />\n            <span>ตารางวัคซีน</span>\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"calculator\" className=\"space-y-4 md:space-y-6\">\n          <Card>\n            <CardHeader className=\"pb-3 md:pb-4\">\n              <CardTitle className=\"flex items-center space-x-2 text-lg md:text-xl\">\n                <Syringe className=\"h-5 w-5 text-primary\" />\n                <span>คำนวณตารางวัคซีนสำหรับผู้ป่วย</span>\n              </CardTitle>\n              <CardDescription className=\"text-sm md:text-base\">\n                เลือกวัคซีนและระบุข้อมูลผู้ป่วยเพื่อคำนวณตารางการฉีดและตรวจสอบข้อห้าม\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4 p-4 md:p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"patient-id\" className=\"text-sm md:text-base font-medium\">รหัสผู้ป่วย/LINE User ID</Label>\n                  <Input\n                    id=\"patient-id\"\n                    value={selectedPatientId}\n                    onChange={(e) => setSelectedPatientId(e.target.value)}\n                    placeholder=\"ระบุรหัสผู้ป่วย\"\n                    className=\"text-sm md:text-base\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"patient-name\" className=\"text-sm md:text-base font-medium\">ชื่อผู้ป่วย</Label>\n                  <Input\n                    id=\"patient-name\"\n                    value={patientName}\n                    onChange={(e) => setPatientName(e.target.value)}\n                    placeholder=\"ระบุชื่อผู้ป่วย\"\n                    className=\"text-sm md:text-base\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"vaccine-select\" className=\"text-sm md:text-base font-medium\">เลือกวัคซีน</Label>\n                <Select\n                  value={selectedSchedule?.id || ''}\n                  onValueChange={(value) => {\n                    const schedule = schedules.find(s => s.id === value);\n                    setSelectedSchedule(schedule || null);\n                    setContraindicationResult(null);\n                  }}\n                >\n                  <SelectTrigger className=\"text-sm md:text-base\">\n                    <SelectValue placeholder=\"เลือกวัคซีนที่ต้องการ\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {schedules.map((schedule) => (\n                      <SelectItem key={schedule.id} value={schedule.id} className=\"text-sm md:text-base\">\n                        {schedule.vaccine_name} ({schedule.total_doses} โดส)\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {selectedSchedule && (\n                <Card className=\"border-primary/20 mt-4\">\n                  <CardHeader className=\"pb-3\">\n                    <CardTitle className=\"text-base md:text-lg text-primary\">\n                      ข้อมูลวัคซีน: {selectedSchedule.vaccine_name}\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-3 p-4\">\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 text-sm md:text-base\">\n                      <div className=\"bg-background/50 p-3 rounded-lg\">\n                        <span className=\"font-medium text-muted-foreground block mb-1\">จำนวนโดส:</span>\n                        <p className=\"font-semibold\">{selectedSchedule.total_doses} โดส</p>\n                      </div>\n                      <div className=\"bg-background/50 p-3 rounded-lg\">\n                        <span className=\"font-medium text-muted-foreground block mb-1\">ระยะห่าง:</span>\n                        <p className=\"font-semibold\">{selectedSchedule.dose_intervals.join(', ')} วัน</p>\n                      </div>\n                      <div className=\"bg-background/50 p-3 rounded-lg\">\n                        <span className=\"font-medium text-muted-foreground block mb-1\">ระยะเวลาคุ้มกัน:</span>\n                        <p className=\"font-semibold\">{Math.round(selectedSchedule.efficacy_duration / 365)} ปี</p>\n                      </div>\n                      <div className=\"bg-background/50 p-3 rounded-lg\">\n                        <span className=\"font-medium text-muted-foreground block mb-1\">โดสเสริม:</span>\n                        <p className=\"font-semibold\">{selectedSchedule.booster_required ? 'ต้องการ' : 'ไม่ต้องการ'}</p>\n                      </div>\n                    </div>\n\n                    {selectedSchedule.age_restrictions && (\n                      <div className=\"bg-background/50 p-3 rounded-lg\">\n                        <span className=\"font-medium text-muted-foreground block mb-2\">ข้อจำกัดอายุ:</span>\n                        <p className=\"text-sm md:text-base\">\n                          {selectedSchedule.age_restrictions.min_age && `อายุขั้นต่ำ ${selectedSchedule.age_restrictions.min_age} ปี`}\n                          {selectedSchedule.age_restrictions.min_age && selectedSchedule.age_restrictions.max_age && ' - '}\n                          {selectedSchedule.age_restrictions.max_age && `อายุสูงสุด ${selectedSchedule.age_restrictions.max_age} ปี`}\n                        </p>\n                      </div>\n                    )}\n\n                    <div className=\"space-y-2\">\n                      <span className=\"font-medium text-muted-foreground\">ข้อบ่งชี้:</span>\n                      <div className=\"flex flex-wrap gap-1 mt-1\">\n                        {selectedSchedule.indications.map((indication, index) => (\n                          <Badge key={index} variant=\"secondary\" className=\"text-xs md:text-sm\">\n                            {indication}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <span className=\"font-medium text-muted-foreground\">ข้อห้าม:</span>\n                      <div className=\"flex flex-wrap gap-1 mt-1\">\n                        {selectedSchedule.contraindications.map((contraindication, index) => (\n                          <Badge key={index} variant=\"destructive\" className=\"text-xs md:text-sm\">\n                            {contraindication}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n\n              {selectedSchedule && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">ตรวจสอบข้อห้ามสำหรับผู้ป่วย</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"age\">อายุ (ปี)</Label>\n                        <Input\n                          id=\"age\"\n                          type=\"number\"\n                          value={patientConditions.age || ''}\n                          onChange={(e) => updatePatientCondition('age', parseInt(e.target.value) || 0)}\n                          placeholder=\"อายุ\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-3\">\n                      <Label>ประวัติและสภาวะของผู้ป่วย:</Label>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                        {[\n                          { key: 'pregnancy', label: 'ตั้งครรภ์' },\n                          { key: 'immunocompromised', label: 'ภูมิคุ้มกันบกพร่อง' },\n                          { key: 'severe_allergic_reaction', label: 'แพ้รุนแรง' },\n                          { key: 'myocarditis_history', label: 'ประวัติกล้ามเนื้อหัวใจอักเสบ' },\n                          { key: 'guillain_barre_syndrome', label: 'กิแลง-บาร์เร่ ซินโดรม' },\n                          { key: 'chronic_disease', label: 'โรคเรื้อรัง' }\n                        ].map(({ key, label }) => (\n                          <div key={key} className=\"flex items-center space-x-2\">\n                            <Checkbox\n                              id={key}\n                              checked={!!patientConditions[key]}\n                              onCheckedChange={(checked) => updatePatientCondition(key, !!checked)}\n                            />\n                            <Label htmlFor={key} className=\"text-sm\">{label}</Label>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"flex space-x-2\">\n                      <Button onClick={() => checkContraindications(selectedSchedule.id)} disabled={loading}>\n                        {loading ? 'กำลังตรวจสอบ...' : 'ตรวจสอบข้อห้าม'}\n                      </Button>\n                      <Button onClick={calculateVaccineSchedule} variant=\"outline\">\n                        คำนวณตารางวัคซีน\n                      </Button>\n                    </div>\n\n                    {contraindicationResult && (\n                      <Alert className={contraindicationResult.has_contraindications ? \"border-red-200\" : \"border-green-200\"}>\n                        <AlertTriangle className=\"h-4 w-4\" />\n                        <AlertDescription>\n                          {contraindicationResult.has_contraindications ? (\n                            <div>\n                              <p className=\"font-medium text-red-600\">พบข้อห้าม:</p>\n                              <ul className=\"list-disc list-inside mt-1\">\n                                {contraindicationResult.contraindications.map((item: string, index: number) => (\n                                  <li key={index}>{item}</li>\n                                ))}\n                              </ul>\n                            </div>\n                          ) : (\n                            <p className=\"text-green-600\">ไม่พบข้อห้าม สามารถฉีดวัคซีนได้</p>\n                          )}\n                        </AlertDescription>\n                      </Alert>\n                    )}\n                  </CardContent>\n                </Card>\n              )}\n\n              {calculatedSchedule.length > 0 && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center space-x-2\">\n                      <Calendar className=\"h-5 w-5\" />\n                      <span>ตารางการฉีดวัคซีน</span>\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      {calculatedSchedule.map((item, index) => (\n                        <div key={index} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                          <div className=\"flex items-center space-x-3\">\n                            <div className=\"text-lg font-medium\">\n                              {typeof item.dose === 'number' ? `โดส ${item.dose}` : 'โดสเสริม'}\n                            </div>\n                            <div className=\"text-sm text-muted-foreground\">\n                              {format(item.date, 'dd MMMM yyyy', { locale: th })}\n                            </div>\n                            <div className=\"text-xs text-muted-foreground\">\n                              ({item.dueDays === 0 ? 'วันนี้' : `อีก ${item.dueDays} วัน`})\n                            </div>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            {getStatusBadge(item.status)}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n\n                    <div className=\"mt-4 pt-4 border-t\">\n                      <Button \n                        onClick={createPatientTracking} \n                        disabled={loading || contraindicationResult?.has_contraindications}\n                        className=\"w-full\"\n                      >\n                        {loading ? 'กำลังสร้าง...' : 'สร้างการติดตามวัคซีน'}\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"tracking\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <TrendingUp className=\"h-5 w-5\" />\n                <span>การติดตามผู้ป่วย</span>\n              </CardTitle>\n              <CardDescription>\n                รายการผู้ป่วยที่กำลังอยู่ในระหว่างการฉีดวัคซีนตามตาราง\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {tracking.map((track) => (\n                  <div key={track.id} className=\"border rounded-lg p-4\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <div className=\"flex items-center space-x-3\">\n                        <User className=\"h-4 w-4\" />\n                        <span className=\"font-medium\">{track.patient_name}</span>\n                        <Badge variant=\"outline\">{track.patient_id}</Badge>\n                      </div>\n                      <Badge \n                        className={\n                          track.completion_status === 'completed' ? 'bg-green-500' :\n                          track.completion_status === 'overdue' ? 'bg-red-500' :\n                          track.completion_status === 'cancelled' ? 'bg-gray-500' :\n                          'bg-blue-500'\n                        }\n                      >\n                        {track.completion_status === 'completed' ? 'เสร็จสิ้น' :\n                         track.completion_status === 'overdue' ? 'เกินกำหนด' :\n                         track.completion_status === 'cancelled' ? 'ยกเลิก' :\n                         'อยู่ระหว่างดำเนินการ'}\n                      </Badge>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span className=\"text-muted-foreground\">วัคซีน:</span>\n                        <p className=\"font-medium\">{(track as any).vaccine_schedules?.vaccine_name}</p>\n                        <p className=\"text-xs text-muted-foreground\">ประเภท: {(track as any).vaccine_schedules?.vaccine_type}</p>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">ความคืบหน้า:</span>\n                        <p className=\"font-medium\">\n                          {track.current_dose > 0 ? `ฉีดแล้ว ${track.current_dose} จาก ${track.total_doses} เข็ม` : 'ยังไม่เริ่มฉีด'}\n                        </p>\n                        {track.current_dose > 0 && track.current_dose < track.total_doses && (\n                          <p className=\"text-xs text-green-600\">โดสถัดไป: เข็มที่ {track.current_dose + 1}</p>\n                        )}\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">เข็มล่าสุด:</span>\n                        <p className=\"font-medium\">\n                          {track.last_dose_date && track.current_dose > 0 \n                            ? format(parseISO(track.last_dose_date), 'dd MMM yyyy', { locale: th })\n                            : 'ยังไม่ได้ฉีด'}\n                        </p>\n                        {track.last_dose_date && track.current_dose > 0 && (\n                          <p className=\"text-xs text-muted-foreground\">เข็มที่ {track.current_dose}</p>\n                        )}\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">นัดครั้งถัดไป:</span>\n                        {track.next_dose_due ? (\n                          <div>\n                            <p className=\"font-medium text-blue-600\">\n                              {format(parseISO(track.next_dose_due), 'dd MMM yyyy', { locale: th })}\n                            </p>\n                            <p className=\"text-xs text-muted-foreground\">\n                              เข็มที่ {track.current_dose + 1} • \n                              {(() => {\n                                const daysLeft = differenceInDays(parseISO(track.next_dose_due), new Date());\n                                if (daysLeft < 0) return ` เลยมา ${Math.abs(daysLeft)} วัน`;\n                                if (daysLeft === 0) return ' วันนี้';\n                                return ` อีก ${daysLeft} วัน`;\n                              })()}\n                            </p>\n                            {(track as any).existing_appointment && (\n                              <p className=\"text-xs text-green-600\">✓ นัดในระบบแล้ว</p>\n                            )}\n                            {(track as any).vaccine_schedules?.dose_intervals && (\n                              <p className=\"text-xs text-muted-foreground\">\n                                ระยะห่าง: {(track as any).vaccine_schedules.dose_intervals[track.current_dose] || 'N/A'} วัน\n                              </p>\n                            )}\n                          </div>\n                        ) : track.completion_status === 'completed' ? (\n                          <div>\n                            <p className=\"font-medium text-green-600\">เสร็จสิ้น</p>\n                            <p className=\"text-xs text-muted-foreground\">ครบตามตาราง</p>\n                          </div>\n                        ) : track.current_dose < track.total_doses ? (\n                          <div>\n                            <p className=\"font-medium text-orange-600\">ต้องกำหนดนัด</p>\n                            <p className=\"text-xs text-muted-foreground\">เข็มที่ {track.current_dose + 1}</p>\n                          </div>\n                        ) : (\n                          <div>\n                            <p className=\"font-medium text-gray-500\">ไม่มี</p>\n                            <p className=\"text-xs text-muted-foreground\">รอการกำหนด</p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {track.contraindication_notes && (\n                      <div className=\"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded\">\n                        <div className=\"flex items-center space-x-2\">\n                          <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />\n                          <span className=\"text-sm font-medium text-yellow-800\">หมายเหตุข้อห้าม:</span>\n                        </div>\n                        <p className=\"text-sm text-yellow-700 mt-1\">{track.contraindication_notes}</p>\n                      </div>\n                    )}\n\n                    <div className=\"mt-3 flex items-center space-x-2\">\n                      {track.auto_reminder_enabled && (\n                        <div className=\"flex items-center space-x-1 text-xs text-muted-foreground\">\n                          <Bell className=\"h-3 w-3\" />\n                          <span>แจ้งเตือนอัตโนมัติ {track.reminder_days_before} วันก่อน</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n\n                {tracking.length === 0 && (\n                  <div className=\"text-center py-8 text-muted-foreground\">\n                    <FileText className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                    <p>ยังไม่มีการติดตามผู้ป่วย</p>\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"schedules\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>ตารางวัคซีนที่มีในระบบ</CardTitle>\n              <CardDescription>\n                ข้อมูลวัคซีนทั้งหมดที่สามารถใช้คำนวณตารางได้\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {schedules.map((schedule) => (\n                  <Card key={schedule.id} className=\"border-muted\">\n                    <CardHeader className=\"pb-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <CardTitle className=\"text-lg\">{schedule.vaccine_name}</CardTitle>\n                        <Badge className=\"bg-primary\">{schedule.vaccine_type}</Badge>\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-3\">\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                        <div>\n                          <span className=\"font-medium\">จำนวนโดส:</span>\n                          <p>{schedule.total_doses} โดส</p>\n                        </div>\n                        <div>\n                          <span className=\"font-medium\">ระยะห่าง:</span>\n                          <p>{schedule.dose_intervals.length > 0 ? schedule.dose_intervals.join(', ') + ' วัน' : 'ไม่มี'}</p>\n                        </div>\n                        <div>\n                          <span className=\"font-medium\">ระยะเวลาคุ้มกัน:</span>\n                          <p>{Math.round(schedule.efficacy_duration / 365)} ปี</p>\n                        </div>\n                        <div>\n                          <span className=\"font-medium\">โดสเสริม:</span>\n                          <p>{schedule.booster_required ? `จำเป็น (ทุก ${Math.round((schedule.booster_interval || 0) / 365)} ปี)` : 'ไม่จำเป็น'}</p>\n                        </div>\n                      </div>\n\n                      <div className=\"space-y-2\">\n                        <div>\n                          <span className=\"font-medium text-sm\">ข้อบ่งชี้:</span>\n                          <div className=\"flex flex-wrap gap-1 mt-1\">\n                            {schedule.indications.map((indication, index) => (\n                              <Badge key={index} variant=\"secondary\" className=\"text-xs\">\n                                {indication}\n                              </Badge>\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <span className=\"font-medium text-sm\">ข้อห้าม:</span>\n                          <div className=\"flex flex-wrap gap-1 mt-1\">\n                            {schedule.contraindications.map((contraindication, index) => (\n                              <Badge key={index} variant=\"destructive\" className=\"text-xs\">\n                                {contraindication}\n                              </Badge>\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <span className=\"font-medium text-sm\">ผลข้างเคียง:</span>\n                          <div className=\"flex flex-wrap gap-1 mt-1\">\n                            {schedule.side_effects.map((effect, index) => (\n                              <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                                {effect}\n                              </Badge>\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default VaccineScheduleCalculator;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { Users, Search, Phone, Calendar, CheckCircle, RefreshCw } from 'lucide-react';\n\ninterface PatientRegistration {\n  id: string;\n  full_name: string;\n  phone: string;\n  hospital: string;\n  registration_id: string;\n  source: string;\n  status: string;\n  notes?: string;\n  line_user_id?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nconst PatientRegistrationsList = () => {\n  const [registrations, setRegistrations] = useState<PatientRegistration[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { toast } = useToast();\n\n  const loadRegistrations = async () => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('patient_registrations')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setRegistrations(data || []);\n    } catch (error) {\n      console.error('Error loading registrations:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลการลงทะเบียนได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateRegistrationStatus = async (id: string, status: string) => {\n    try {\n      const { error } = await supabase\n        .from('patient_registrations')\n        .update({ status, updated_at: new Date().toISOString() })\n        .eq('id', id);\n\n      if (error) throw error;\n\n      toast({\n        title: \"อัปเดตสำเร็จ\",\n        description: \"อัปเดตสถานะการลงทะเบียนแล้ว\",\n      });\n\n      loadRegistrations();\n    } catch (error) {\n      console.error('Error updating registration:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถอัปเดตสถานะได้\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    loadRegistrations();\n  }, []);\n\n  const filteredRegistrations = registrations.filter(reg =>\n    reg.full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    reg.phone.includes(searchTerm) ||\n    reg.registration_id.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'pending': return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      case 'confirmed': return 'bg-green-100 text-green-800 border-green-200';\n      case 'completed': return 'bg-blue-100 text-blue-800 border-blue-200';\n      case 'cancelled': return 'bg-red-100 text-red-800 border-red-200';\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'pending': return 'รอดำเนินการ';\n      case 'confirmed': return 'ยืนยันแล้ว';\n      case 'completed': return 'เสร็จสิ้น';\n      case 'cancelled': return 'ยกเลิก';\n      default: return status;\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 bg-primary/10 rounded-lg\">\n            <Users className=\"h-6 w-6 text-primary\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">รายการลงทะเบียน</h1>\n            <p className=\"text-sm text-muted-foreground\">จัดการข้อมูลผู้ลงทะเบียนรับวัคซีน</p>\n          </div>\n        </div>\n        <Button onClick={loadRegistrations} disabled={loading} variant=\"outline\">\n          <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n          รีเฟรช\n        </Button>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Search className=\"h-5 w-5\" />\n              ค้นหาผู้ลงทะเบียน\n            </CardTitle>\n            <Badge variant=\"secondary\">\n              ทั้งหมด {filteredRegistrations.length} คน\n            </Badge>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"relative mb-6\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\n            <Input\n              placeholder=\"ค้นหาด้วยชื่อ, เบอร์โทร, หรือ ID\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n\n          <div className=\"space-y-4\">\n            {filteredRegistrations.map((registration) => (\n              <div key={registration.id} className=\"p-4 border rounded-lg hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <h3 className=\"font-semibold text-lg\">{registration.full_name}</h3>\n                      <Badge className={getStatusColor(registration.status)}>\n                        {getStatusText(registration.status)}\n                      </Badge>\n                    </div>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground\">\n                      <div className=\"flex items-center gap-2\">\n                        <Phone className=\"h-4 w-4\" />\n                        {registration.phone}\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Users className=\"h-4 w-4\" />\n                        ID: {registration.registration_id}\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Calendar className=\"h-4 w-4\" />\n                        {new Date(registration.created_at).toLocaleDateString('th-TH')}\n                      </div>\n                    </div>\n                    {registration.notes && (\n                      <p className=\"mt-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded\">\n                        {registration.notes}\n                      </p>\n                    )}\n                  </div>\n                  <div className=\"flex gap-2 ml-4\">\n                    {registration.status === 'pending' && (\n                      <Button\n                        size=\"sm\"\n                        onClick={() => updateRegistrationStatus(registration.id, 'confirmed')}\n                        className=\"bg-green-600 hover:bg-green-700\"\n                      >\n                        <CheckCircle className=\"h-4 w-4 mr-1\" />\n                        ยืนยัน\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {filteredRegistrations.length === 0 && (\n            <div className=\"text-center py-12\">\n              <Users className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <p className=\"text-muted-foreground\">\n                {searchTerm ? 'ไม่พบข้อมูลที่ค้นหา' : 'ยังไม่มีการลงทะเบียน'}\n              </p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default PatientRegistrationsList;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { CalendarPlus, Search, Calendar, Syringe, RefreshCw, Send, Clock } from 'lucide-react';\n\ninterface NextAppointment {\n  id: string;\n  patient_id: string;\n  patient_name: string;\n  vaccine_name?: string;\n  vaccine_type?: string;\n  current_dose: number;\n  total_doses: number;\n  next_dose_due: string;\n  last_dose_date: string | null;\n  first_dose_date?: string | null;\n  completion_status: string;\n  line_user_id?: string;\n  vaccine_schedule_id?: string;\n  is_existing_appointment?: boolean;\n}\n\nconst NextAppointments = () => {\n  const [nextAppointments, setNextAppointments] = useState<NextAppointment[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [creatingAppointment, setCreatingAppointment] = useState<string | null>(null);\n  const [sendingReminder, setSendingReminder] = useState<string | null>(null);\n  const { toast } = useToast();\n\n  const loadNextAppointments = async () => {\n    setLoading(true);\n    try {\n      console.log('🔍 เริ่มโหลดข้อมูลนัดครั้งถัดไป...');\n      \n      // Get all appointments (both completed and scheduled) to check for existing future appointments\n      const { data: appointmentData, error: apptError } = await supabase\n        .from('appointments')\n        .select('*')\n        .order('appointment_date', { ascending: false });\n\n      if (apptError) throw apptError;\n\n      console.log('📊 ข้อมูลนัดทั้งหมด:', appointmentData?.length || 0, 'รายการ');\n\n      const completedAppointments = appointmentData?.filter(a => a.status === 'completed') || [];\n      // กรองเฉพาะนัดที่ยังไม่ถูกยกเลิกและยังไม่หมดอายุ\n      const scheduledAppointments = appointmentData?.filter(a => \n        ['scheduled', 'pending'].includes(a.status) && \n        new Date(a.appointment_date) >= new Date()\n      ) || [];\n\n      console.log('✅ การฉีดที่เสร็จสิ้น:', completedAppointments.length, 'รายการ');\n      console.log('📅 นัดที่มีอยู่แล้ว:', scheduledAppointments.length, 'รายการ');\n\n      // Group by patient and vaccine type to get latest doses and calculate actual dose counts\n      const patientVaccineMap = new Map();\n      \n      for (const appt of completedAppointments || []) {\n        const patientKey = appt.patient_id_number || appt.line_user_id;\n        const key = `${patientKey}-${appt.vaccine_type}`;\n        \n        if (!patientVaccineMap.has(key)) {\n          // Count completed doses for this patient and vaccine type\n          const completedDoses = completedAppointments.filter(a => {\n            const aPatientKey = a.patient_id_number || a.line_user_id;\n            return (aPatientKey === patientKey) &&\n                   a.vaccine_type === appt.vaccine_type &&\n                   a.status === 'completed';\n          });\n\n          console.log(`👤 ผู้ป่วย: ${appt.patient_name}, วัคซีน: ${appt.vaccine_type}, โดสที่ฉีดแล้ว: ${completedDoses.length}`);\n\n          // Find latest dose date\n          const latestDose = completedDoses.reduce((latest, current) => \n            new Date(current.appointment_date) > new Date(latest.appointment_date) ? current : latest\n          );\n\n          // Find first dose date\n          const firstDose = completedDoses.reduce((earliest, current) => \n            new Date(current.appointment_date) < new Date(earliest.appointment_date) ? current : earliest\n          );\n\n          console.log(`📅 เข็มล่าสุด: ${latestDose.appointment_date}, เข็มแรก: ${firstDose.appointment_date}`);\n\n          patientVaccineMap.set(key, {\n            patient_id: patientKey,\n            patient_name: appt.patient_name,\n            line_user_id: appt.line_user_id,\n            vaccine_type: appt.vaccine_type,\n            doses_received: completedDoses.length,\n            latest_date: latestDose.appointment_date,\n            first_dose_date: firstDose.appointment_date\n          });\n        }\n      }\n\n      // Get vaccine schedules for calculating next doses\n      const { data: vaccineSchedules } = await supabase\n        .from('vaccine_schedules')\n        .select('*')\n        .eq('active', true);\n\n      console.log('💉 โหลดข้อมูลวัคซีน:', vaccineSchedules?.length || 0, 'ประเภท');\n\n      // Initialize arrays for storing appointments\n      const allNextAppointments: NextAppointment[] = [];\n\n      // Calculate next appointments manually - include both new appointments and existing scheduled ones\n      // 1. First add existing scheduled appointments that haven't passed and aren't cancelled\n      for (const scheduledAppt of scheduledAppointments) {\n        // Double check that appointment is still valid\n        if (new Date(scheduledAppt.appointment_date) > new Date() && \n            ['scheduled', 'pending'].includes(scheduledAppt.status)) {\n          const patientKey = scheduledAppt.patient_id_number || scheduledAppt.line_user_id;\n          \n          // Find completed doses for this patient and vaccine\n          const completedDoses = completedAppointments.filter(a => {\n            const aPatientKey = a.patient_id_number || a.line_user_id;\n            return (aPatientKey === patientKey) &&\n                   a.vaccine_type.toLowerCase() === scheduledAppt.vaccine_type.toLowerCase();\n          });\n\n          // Find vaccine schedule\n          const schedule = vaccineSchedules?.find(vs => \n            vs.vaccine_type.toLowerCase() === scheduledAppt.vaccine_type.toLowerCase()\n          );\n\n          if (schedule) {\n            allNextAppointments.push({\n              id: `scheduled-${scheduledAppt.id}`,\n              patient_id: patientKey,\n              patient_name: scheduledAppt.patient_name,\n              vaccine_name: scheduledAppt.vaccine_name || schedule.vaccine_name,\n              vaccine_type: scheduledAppt.vaccine_type,\n              current_dose: completedDoses.length,\n              total_doses: schedule.total_doses,\n              next_dose_due: scheduledAppt.appointment_date,\n              last_dose_date: completedDoses.length > 0 ? \n                completedDoses.reduce((latest, current) => \n                  new Date(current.appointment_date) > new Date(latest.appointment_date) ? current : latest\n                ).appointment_date : null,\n              first_dose_date: completedDoses.length > 0 ?\n                completedDoses.reduce((earliest, current) => \n                  new Date(current.appointment_date) < new Date(earliest.appointment_date) ? current : earliest\n                ).appointment_date : null,\n              completion_status: 'scheduled',\n              line_user_id: scheduledAppt.line_user_id,\n              vaccine_schedule_id: schedule.id,\n              is_existing_appointment: true\n            });\n            \n            console.log(`📅 นัดที่มีอยู่: ${scheduledAppt.patient_name} - ${scheduledAppt.vaccine_type} วันที่ ${scheduledAppt.appointment_date}`);\n          }\n        }\n      }\n      \n      // 2. Then calculate new appointments needed for completed patients\n      const nextAppointmentPromises = Array.from(patientVaccineMap.values()).map(async (patient) => {\n        try {\n          // Find vaccine schedule\n          const schedule = vaccineSchedules?.find(vs => \n            vs.vaccine_type.toLowerCase() === patient.vaccine_type.toLowerCase()\n          );\n\n          if (!schedule) {\n            console.log(`❌ ไม่พบข้อมูลวัคซีน: ${patient.vaccine_type}`);\n            return null;\n          }\n\n          // Check if patient needs next dose\n          if (patient.doses_received >= schedule.total_doses) {\n            console.log(`✅ ผู้ป่วย ${patient.patient_name} ได้รับวัคซีน ${patient.vaccine_type} ครบแล้ว`);\n            return null; // Already completed\n          }\n\n          // Check if patient already has a future appointment for this vaccine type (and not cancelled)\n          const existingFutureAppointment = scheduledAppointments.find(appt => {\n            const apptPatientKey = appt.patient_id_number || appt.line_user_id;\n            return (apptPatientKey === patient.patient_id) &&\n                   appt.vaccine_type.toLowerCase() === patient.vaccine_type.toLowerCase() &&\n                   new Date(appt.appointment_date) > new Date() &&\n                   ['scheduled', 'pending'].includes(appt.status);\n          });\n\n          if (existingFutureAppointment) {\n            console.log(`📅 ผู้ป่วย ${patient.patient_name} มีนัด ${patient.vaccine_type} แล้วในวันที่ ${existingFutureAppointment.appointment_date} - ข้าม`);\n            return null; // Already has appointment (will be shown from existing appointments above)\n          }\n\n          // Calculate next dose date based on last completed dose\n          const intervals = Array.isArray(schedule.dose_intervals) ? \n            schedule.dose_intervals : \n            JSON.parse(schedule.dose_intervals?.toString() || '[]');\n\n          let nextDoseDate = new Date(patient.latest_date);\n          \n          // Add interval for next dose (intervals are 0-indexed from dose 1)\n          const intervalIndex = patient.doses_received; // For dose N+1, use intervals[N]\n          const intervalDays = typeof intervals[intervalIndex] === 'number' ? \n            intervals[intervalIndex] : \n            (typeof intervals[patient.doses_received - 1] === 'number' ? \n              intervals[patient.doses_received - 1] : 30);\n          \n          nextDoseDate.setDate(nextDoseDate.getDate() + intervalDays);\n\n          const nextDoseNumber = patient.doses_received + 1;\n\n          console.log(`🎯 ${patient.patient_name}: ต้องการโดสใหม่ ${nextDoseNumber}/${schedule.total_doses}, คำนวณนัด: ${nextDoseDate.toISOString().split('T')[0]}, ช่วงห่าง: ${intervalDays} วัน`);\n\n          return {\n            id: `new-${patient.patient_id}-${patient.vaccine_type}`,\n            patient_id: patient.patient_id,\n            patient_name: patient.patient_name,\n            vaccine_name: schedule.vaccine_name,\n            vaccine_type: patient.vaccine_type,\n            current_dose: patient.doses_received, // จำนวนโดสที่ฉีดแล้วจริง\n            total_doses: schedule.total_doses,\n            next_dose_due: nextDoseDate.toISOString().split('T')[0],\n            last_dose_date: patient.latest_date, // วันที่ฉีดเข็มล่าสุดจริง\n            first_dose_date: patient.first_dose_date,\n            completion_status: 'needs_appointment',\n            line_user_id: patient.line_user_id,\n            vaccine_schedule_id: schedule.id,\n            is_existing_appointment: false\n          };\n        } catch (error) {\n          console.error('Error processing patient:', patient.patient_id, error);\n          return null;\n        }\n      });\n\n      const results = await Promise.all(nextAppointmentPromises);\n      const validNewAppointments = results\n        .filter(appt => appt !== null);\n      \n      // 3. Combine existing and new appointments\n      const allAppointments = [...allNextAppointments, ...validNewAppointments]\n        .sort((a, b) => new Date(a.next_dose_due).getTime() - new Date(b.next_dose_due).getTime());\n      \n      console.log('✅ ผลลัพธ์สุดท้าย:', allAppointments.length, 'รายการ');\n      console.log('📅 นัดที่มีอยู่แล้ว:', allNextAppointments.length, 'รายการ');\n      console.log('🆕 นัดใหม่ที่ต้องสร้าง:', validNewAppointments.length, 'รายการ');\n      \n      allAppointments.forEach(appt => {\n        const status = appt.is_existing_appointment ? '(มีนัดแล้ว)' : '(ต้องสร้างนัด)';\n        console.log(`- ${appt.patient_name}: โดส ${appt.current_dose + 1}/${appt.total_doses}, นัด: ${appt.next_dose_due}, เข็มล่าสุด: ${appt.last_dose_date || 'ยังไม่มี'} ${status}`);\n      });\n      \n      setNextAppointments(allAppointments);\n    } catch (error) {\n      console.error('Error loading next appointments:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลนัดครั้งถัดไปได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const scheduleAppointment = async (patientTracking: NextAppointment) => {\n    // ตรวจสอบซ้ำก่อนสร้างนัดว่ามีนัดแล้วหรือยัง\n    try {\n      const { data: existingAppointments } = await supabase\n        .from('appointments')\n        .select('*')\n        .eq('patient_id_number', patientTracking.patient_id)\n        .eq('vaccine_type', patientTracking.vaccine_type)\n        .in('status', ['scheduled', 'pending'])\n        .gte('appointment_date', new Date().toISOString().split('T')[0]);\n\n      if (existingAppointments && existingAppointments.length > 0) {\n        toast({\n          title: \"มีนัดอยู่แล้ว\",\n          description: `${patientTracking.patient_name} มีนัดหมายสำหรับวัคซีนนี้แล้ว`,\n          variant: \"destructive\",\n        });\n        // ลบออกจากรายการ\n        setNextAppointments(prevAppointments => \n          prevAppointments.filter(appt => appt.id !== patientTracking.id)\n        );\n        return;\n      }\n    } catch (error) {\n      console.error('Error checking existing appointments:', error);\n    }\n\n    setCreatingAppointment(patientTracking.id);\n    try {\n      const appointmentData = {\n        patient_id_number: patientTracking.patient_id,\n        patient_name: patientTracking.patient_name,\n        vaccine_type: patientTracking.vaccine_type,\n        appointment_date: patientTracking.next_dose_due,\n        status: 'scheduled',\n        line_user_id: patientTracking.line_user_id,\n        notes: `นัดเข็มที่ ${patientTracking.current_dose + 1} จาก ${patientTracking.total_doses} เข็ม`\n      };\n\n      const { error } = await supabase\n        .from('appointments')\n        .insert([appointmentData]);\n\n      if (error) throw error;\n\n      // ลบรายชื่อออกจากรายการทันที เพื่อป้องกันการกดซ้ำ\n      setNextAppointments(prevAppointments => \n        prevAppointments.filter(appt => appt.id !== patientTracking.id)\n      );\n\n      toast({\n        title: \"นัดหมายสำเร็จ\",\n        description: `สร้างนัดหมายสำหรับ ${patientTracking.patient_name} แล้ว`,\n      });\n    } catch (error) {\n      console.error('Error scheduling appointment:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถสร้างนัดหมายได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setCreatingAppointment(null);\n    }\n  };\n\n  const sendReminder = async (patientTracking: NextAppointment) => {\n    if (!patientTracking.line_user_id) {\n      toast({\n        title: \"ไม่สามารถส่งได้\",\n        description: \"ไม่พบ LINE User ID ของผู้ป่วย\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setSendingReminder(patientTracking.id);\n    try {\n      // ตรวจสอบ authentication ก่อนเรียก Edge Function\n      const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n\n      if (sessionError || !session) {\n        console.error('Authentication error:', sessionError);\n        toast({\n          title: \"ไม่สามารถส่งได้\",\n          description: \"กรุณาเข้าสู่ระบบก่อนใช้งาน\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      // ตรวจสอบว่าผู้ใช้เป็น healthcare staff หรือไม่\n      const { data: isStaff, error: roleError } = await supabase.rpc('is_healthcare_staff', {\n        _user_id: session.user.id\n      });\n\n      if (roleError) {\n        console.error('Role check error:', roleError);\n      }\n\n      if (!isStaff) {\n        toast({\n          title: \"ไม่มีสิทธิ์เข้าถึง\",\n          description: \"คุณไม่มีสิทธิ์ส่งข้อความแจ้งเตือน (ต้องการสิทธิ์ healthcare staff)\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      // เรียก Edge Function พร้อม authentication\n      const { error } = await supabase.functions.invoke('send-line-message', {\n        body: {\n          userId: patientTracking.line_user_id,\n          message: `🏥 แจ้งเตือนนัดฉีดวัคซีน\\n\\nคุณ ${patientTracking.patient_name}\\nนัดฉีดเข็มที่ ${patientTracking.current_dose + 1} \\nวัคซีน: ${patientTracking.vaccine_name}\\nวันที่นัด: ${new Date(patientTracking.next_dose_due).toLocaleDateString('th-TH')}\\n\\nกรุณามาตามนัดตรงเวลา\\n\\n📍 โรงพยาบาลโฮม`\n        }\n      });\n\n      if (error) {\n        console.error('Edge function error:', error);\n        throw error;\n      }\n\n      toast({\n        title: \"ส่งข้อความแล้ว\",\n        description: `ส่งข้อความแจ้งเตือนไปยัง ${patientTracking.patient_name} แล้ว`,\n      });\n    } catch (error: any) {\n      console.error('Error sending reminder:', error);\n\n      // แสดง error message ที่ละเอียดขึ้น\n      let errorMessage = \"ไม่สามารถส่งข้อความแจ้งเตือนได้\";\n\n      if (error?.message) {\n        if (error.message.includes('LINE')) {\n          errorMessage = \"ไม่สามารถเชื่อมต่อ LINE API ได้ กรุณาตรวจสอบการตั้งค่า\";\n        } else if (error.message.includes('authentication') || error.message.includes('auth')) {\n          errorMessage = \"เซสชันหมดอายุ กรุณาเข้าสู่ระบบใหม่\";\n        } else if (error.message.includes('Access denied') || error.message.includes('role')) {\n          errorMessage = \"ไม่มีสิทธิ์เข้าถึงฟังก์ชันนี้\";\n        } else {\n          errorMessage = `เกิดข้อผิดพลาด: ${error.message}`;\n        }\n      }\n\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setSendingReminder(null);\n    }\n  };\n\n  useEffect(() => {\n    loadNextAppointments();\n    \n    // Set up interval to refresh every 30 seconds\n    const interval = setInterval(() => {\n      loadNextAppointments();\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const filteredAppointments = nextAppointments.filter(appt =>\n    appt.patient_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    appt.vaccine_type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    appt.patient_id.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const getDaysUntilDue = (dueDate: string) => {\n    const today = new Date();\n    const due = new Date(dueDate);\n    const diffTime = due.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  const getDueBadge = (daysUntil: number) => {\n    if (daysUntil < 0) {\n      return <Badge className=\"bg-red-100 text-red-800 border-red-200\">เกินกำหนด {Math.abs(daysUntil)} วัน</Badge>;\n    } else if (daysUntil === 0) {\n      return <Badge className=\"bg-orange-100 text-orange-800 border-orange-200\">ครบกำหนดวันนี้</Badge>;\n    } else if (daysUntil <= 7) {\n      return <Badge className=\"bg-yellow-100 text-yellow-800 border-yellow-200\">อีก {daysUntil} วัน</Badge>;\n    } else {\n      return <Badge className=\"bg-green-100 text-green-800 border-green-200\">อีก {daysUntil} วัน</Badge>;\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 bg-primary/10 rounded-lg\">\n            <CalendarPlus className=\"h-6 w-6 text-primary\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">นัดครั้งถัดไป</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              รายการผู้ป่วยที่ต้องฉีดเข็มถัดไป (อัปเดตล่าสุด: {new Date().toLocaleTimeString('th-TH')})\n            </p>\n          </div>\n        </div>\n        <Button onClick={loadNextAppointments} disabled={loading} variant=\"outline\">\n          <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n          รีเฟรช\n        </Button>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Search className=\"h-5 w-5\" />\n              ค้นหานัดครั้งถัดไป\n            </CardTitle>\n            <Badge variant=\"secondary\">\n              ทั้งหมด {filteredAppointments.length} คน\n            </Badge>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"relative mb-6\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\n            <Input\n              placeholder=\"ค้นหาด้วยชื่อผู้ป่วย, ประเภทวัคซีน, หรือ ID\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n\n          <div className=\"space-y-4\">\n            {filteredAppointments.map((appointment) => {\n              const daysUntil = getDaysUntilDue(appointment.next_dose_due);\n              return (\n                <div key={appointment.id} className=\"p-4 border rounded-lg hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <h3 className=\"font-semibold text-lg\">{appointment.patient_name}</h3>\n                        {getDueBadge(daysUntil)}\n                      </div>\n                      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-muted-foreground mb-3\">\n                        <div className=\"flex items-center gap-2\">\n                          <Syringe className=\"h-4 w-4\" />\n                          {appointment.vaccine_name}\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Calendar className=\"h-4 w-4\" />\n                          เข็มที่ {appointment.current_dose + 1} จาก {appointment.total_doses}\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Clock className=\"h-4 w-4\" />\n                          ครบกำหนด: {new Date(appointment.next_dose_due).toLocaleDateString('th-TH')}\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <span>📅</span>\n                          เข็มล่าสุด: {appointment.last_dose_date ? \n                            new Date(appointment.last_dose_date).toLocaleDateString('th-TH') : \n                            'ไม่พบข้อมูล'}\n                        </div>\n                      </div>\n                      <div className=\"text-xs text-muted-foreground bg-muted/50 p-2 rounded flex justify-between\">\n                        <span>ID: {appointment.patient_id}</span>\n                        <span className=\"text-blue-600\">\n                          {appointment.is_existing_appointment ? '✓ มีนัดแล้ว' : '⚠ ต้องสร้างนัด'}\n                        </span>\n                      </div>\n                    </div>\n                     <div className=\"flex gap-2 ml-4\">\n                       {!appointment.is_existing_appointment ? (\n                         <Button\n                           size=\"sm\"\n                           onClick={() => scheduleAppointment(appointment)}\n                           disabled={creatingAppointment === appointment.id || creatingAppointment !== null}\n                           className=\"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                         >\n                           {creatingAppointment === appointment.id ? (\n                             <RefreshCw className=\"h-4 w-4 mr-1 animate-spin\" />\n                           ) : (\n                             <CalendarPlus className=\"h-4 w-4 mr-1\" />\n                           )}\n                           {creatingAppointment === appointment.id ? 'กำลังสร้าง...' : 'สร้างนัด'}\n                         </Button>\n                       ) : (\n                         <Badge className=\"bg-green-100 text-green-800 border-green-200\">\n                           มีนัดแล้ว\n                         </Badge>\n                       )}\n                       {appointment.line_user_id && (\n                         <Button\n                           size=\"sm\"\n                           variant=\"outline\"\n                           onClick={() => sendReminder(appointment)}\n                           disabled={sendingReminder === appointment.id}\n                           className=\"disabled:opacity-50\"\n                         >\n                           {sendingReminder === appointment.id ? (\n                             <RefreshCw className=\"h-4 w-4 mr-1 animate-spin\" />\n                           ) : (\n                             <Send className=\"h-4 w-4 mr-1\" />\n                           )}\n                           {sendingReminder === appointment.id ? 'กำลังส่ง...' : 'แจ้งเตือน'}\n                         </Button>\n                       )}\n                     </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {filteredAppointments.length === 0 && (\n            <div className=\"text-center py-12\">\n              <CalendarPlus className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <p className=\"text-muted-foreground\">\n                {searchTerm ? 'ไม่พบข้อมูลที่ค้นหา' : 'ไม่มีนัดครั้งถัดไปในขณะนี้'}\n              </p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default NextAppointments;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { History, Search, Calendar, Syringe, RefreshCw, FileText } from 'lucide-react';\n\ninterface VaccinationHistory {\n  id: string;\n  appointment_id: string;\n  patient_name: string;\n  patient_phone?: string;\n  patient_id_number?: string;\n  vaccine_type: string;\n  appointment_date: string;\n  appointment_time?: string;\n  status: string;\n  notes?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nconst PastVaccinations = () => {\n  const [vaccinations, setVaccinations] = useState<VaccinationHistory[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { toast } = useToast();\n\n  const loadVaccinations = async () => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('appointments')\n        .select('*')\n        .eq('status', 'completed')\n        .order('appointment_date', { ascending: false });\n\n      if (error) throw error;\n      setVaccinations(data || []);\n    } catch (error) {\n      console.error('Error loading vaccinations:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลประวัติการฉีดวัคซีนได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadVaccinations();\n  }, []);\n\n  const filteredVaccinations = vaccinations.filter(vac =>\n    vac.patient_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    vac.vaccine_type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    (vac.patient_phone && vac.patient_phone.includes(searchTerm)) ||\n    (vac.patient_id_number && vac.patient_id_number.toLowerCase().includes(searchTerm.toLowerCase()))\n  );\n\n  const exportData = () => {\n    const csvContent = [\n      ['วันที่', 'ชื่อผู้ป่วย', 'เบอร์โทร', 'ประเภทวัคซีน', 'หมายเหตุ'].join(','),\n      ...filteredVaccinations.map(vac => [\n        new Date(vac.appointment_date).toLocaleDateString('th-TH'),\n        vac.patient_name,\n        vac.patient_phone || '',\n        vac.vaccine_type,\n        vac.notes || ''\n      ].join(','))\n    ].join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `vaccination_history_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 bg-primary/10 rounded-lg\">\n            <History className=\"h-6 w-6 text-primary\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-foreground\">ประวัติการฉีดวัคซีน</h1>\n            <p className=\"text-sm text-muted-foreground\">รายการผู้ที่ได้รับวัคซีนแล้ว</p>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button onClick={exportData} variant=\"outline\" size=\"sm\">\n            <FileText className=\"h-4 w-4 mr-2\" />\n            ส่งออก CSV\n          </Button>\n          <Button onClick={loadVaccinations} disabled={loading} variant=\"outline\">\n            <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n            รีเฟรช\n          </Button>\n        </div>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Search className=\"h-5 w-5\" />\n              ค้นหาประวัติการฉีดวัคซีน\n            </CardTitle>\n            <Badge variant=\"secondary\">\n              ทั้งหมด {filteredVaccinations.length} ครั้ง\n            </Badge>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"relative mb-6\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\n            <Input\n              placeholder=\"ค้นหาด้วยชื่อผู้ป่วย, ประเภทวัคซีน, หรือเบอร์โทร\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n\n          <div className=\"space-y-4\">\n            {filteredVaccinations.map((vaccination) => (\n              <div key={vaccination.id} className=\"p-4 border rounded-lg hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <h3 className=\"font-semibold text-lg\">{vaccination.patient_name}</h3>\n                      <Badge className=\"bg-green-100 text-green-800 border-green-200\">\n                        ฉีดแล้ว\n                      </Badge>\n                    </div>\n                    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-muted-foreground\">\n                      <div className=\"flex items-center gap-2\">\n                        <Calendar className=\"h-4 w-4\" />\n                        {new Date(vaccination.appointment_date).toLocaleDateString('th-TH')}\n                        {vaccination.appointment_time && ` เวลา ${vaccination.appointment_time}`}\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Syringe className=\"h-4 w-4\" />\n                        {vaccination.vaccine_type}\n                      </div>\n                      {vaccination.patient_phone && (\n                        <div className=\"flex items-center gap-2\">\n                          <span>📞</span>\n                          {vaccination.patient_phone}\n                        </div>\n                      )}\n                      {vaccination.patient_id_number && (\n                        <div className=\"flex items-center gap-2\">\n                          <span>🆔</span>\n                          {vaccination.patient_id_number}\n                        </div>\n                      )}\n                    </div>\n                    {vaccination.notes && (\n                      <p className=\"mt-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded\">\n                        หมายเหตุ: {vaccination.notes}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {filteredVaccinations.length === 0 && (\n            <div className=\"text-center py-12\">\n              <History className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <p className=\"text-muted-foreground\">\n                {searchTerm ? 'ไม่พบข้อมูลที่ค้นหา' : 'ยังไม่มีประวัติการฉีดวัคซีน'}\n              </p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default PastVaccinations;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { useToast } from '@/hooks/use-toast';\nimport { \n  Bell, \n  Clock, \n  CheckCircle, \n  AlertTriangle, \n  Send,\n  RefreshCw,\n  Activity,\n  Calendar,\n  Users\n} from 'lucide-react';\nimport { supabase } from '@/integrations/supabase/client';\n\ninterface NotificationLog {\n  id: string;\n  appointment_id: string;\n  notification_type: string;\n  sent_to: string;\n  message_content: string;\n  status: string;\n  sent_at: string;\n  created_at: string;\n}\n\ninterface NotificationStats {\n  appointmentsChecked: number;\n  overdueAppointmentsChecked: number;\n  notificationsSent: number;\n  errors: number;\n}\n\nconst AutoNotificationSystem = () => {\n  const [notifications, setNotifications] = useState<NotificationLog[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [lastRunResult, setLastRunResult] = useState<{ statistics?: NotificationStats; timestamp?: string } | null>(null);\n  const { toast } = useToast();\n\n  // โหลดประวัติการแจ้งเตือน\n  const loadNotificationHistory = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('appointment_notifications')\n        .select('*')\n        .order('created_at', { ascending: false })\n        .limit(50);\n\n      if (error) throw error;\n      setNotifications(data || []);\n    } catch (error: any) {\n      console.error('Error loading notification history:', error);\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดประวัติการแจ้งเตือนได้\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  // เรียกใช้ระบบแจ้งเตือนอัตโนมัติ\n  const runAutoNotifications = async () => {\n    setIsLoading(true);\n    try {\n      const { data, error } = await supabase.functions.invoke('manual-notification-trigger', {\n        body: {}\n      });\n\n      if (error) throw error;\n\n      setLastRunResult(data.result);\n      \n      toast({\n        title: \"ระบบแจ้งเตือนทำงานสำเร็จ\",\n        description: `ส่งการแจ้งเตือน ${data.result?.statistics?.notificationsSent || 0} รายการ`,\n      });\n\n      // โหลดประวัติใหม่หลังจากส่งการแจ้งเตือน\n      setTimeout(() => {\n        loadNotificationHistory();\n      }, 2000);\n      \n    } catch (error: any) {\n      console.error('Error running auto notifications:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: error.message || \"ไม่สามารถเรียกใช้ระบบแจ้งเตือนได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'sent': return 'bg-green-100 text-green-800 border-green-200';\n      case 'failed': return 'bg-red-100 text-red-800 border-red-200';\n      case 'pending': return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  const getNotificationTypeIcon = (type: string) => {\n    switch (type) {\n      case 'reminder': return <Clock className=\"h-4 w-4\" />;\n      case 'overdue': return <AlertTriangle className=\"h-4 w-4\" />;\n      default: return <Bell className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getNotificationTypeText = (type: string) => {\n    switch (type) {\n      case 'reminder': return 'แจ้งเตือนล่วงหน้า';\n      case 'overdue': return 'การนัดเกินกำหนด';\n      default: return type;\n    }\n  };\n\n  useEffect(() => {\n    loadNotificationHistory();\n  }, []);\n\n  return (\n    <div className=\"space-y-4 md:space-y-6\">\n      {/* ส่วนควบคุมระบบ */}\n      <Card>\n        <CardHeader className=\"pb-3 md:pb-4\">\n          <CardTitle className=\"flex items-center gap-2 text-lg md:text-xl\">\n            <Activity className=\"h-5 w-5 text-primary\" />\n            ระบบแจ้งเตือนอัตโนมัติ\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4 p-4 md:p-6\">\n          <Alert>\n            <Bell className=\"h-4 w-4\" />\n            <AlertDescription className=\"text-sm md:text-base\">\n              ระบบจะตรวจสอบและส่งการแจ้งเตือนล่วงหน้าอัตโนมัติ:\n              <br />• แจ้งเตือน 1 วันก่อนวันนัด และ 8 ชั่วโมงก่อนวันนัด\n              <br />• ตรวจสอบการนัดเกินกำหนดและส่งการแจ้งเตือน\n            </AlertDescription>\n          </Alert>\n\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <Button \n              onClick={runAutoNotifications} \n              disabled={isLoading}\n              className=\"flex-1 h-11\"\n            >\n              <Send className=\"h-4 w-4 mr-2\" />\n              {isLoading ? 'กำลังดำเนินการ...' : 'เรียกใช้ระบบแจ้งเตือน'}\n            </Button>\n            <Button \n              onClick={loadNotificationHistory} \n              variant=\"outline\"\n              className=\"h-11\"\n            >\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n              รีเฟรช\n            </Button>\n          </div>\n\n          {/* สถิติการทำงานล่าสุด */}\n          {lastRunResult?.statistics && (\n            <div className=\"mt-4 p-3 md:p-4 bg-muted/50 rounded-lg border\">\n              <h3 className=\"font-medium text-sm md:text-base mb-3 flex items-center gap-2\">\n                <CheckCircle className=\"h-4 w-4 text-green-600\" />\n                ผลการทำงานล่าสุด\n              </h3>\n              <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 text-sm\">\n                <div className=\"text-center\">\n                  <div className=\"font-semibold text-lg\">{lastRunResult.statistics.appointmentsChecked}</div>\n                  <div className=\"text-muted-foreground\">นัดพรุ่งนี้</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"font-semibold text-lg\">{lastRunResult.statistics.overdueAppointmentsChecked}</div>\n                  <div className=\"text-muted-foreground\">นัดเกินกำหนด</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"font-semibold text-lg text-green-600\">{lastRunResult.statistics.notificationsSent}</div>\n                  <div className=\"text-muted-foreground\">ส่งสำเร็จ</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"font-semibold text-lg text-red-600\">{lastRunResult.statistics.errors}</div>\n                  <div className=\"text-muted-foreground\">ข้อผิดพลาด</div>\n                </div>\n              </div>\n              {lastRunResult.timestamp && (\n                <div className=\"text-xs text-muted-foreground mt-2\">\n                  เมื่อ: {new Date(lastRunResult.timestamp).toLocaleString('th-TH')}\n                </div>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* ประวัติการแจ้งเตือน */}\n      <Card>\n        <CardHeader className=\"pb-3 md:pb-4\">\n          <CardTitle className=\"flex items-center gap-2 text-lg md:text-xl\">\n            <Calendar className=\"h-5 w-5 text-primary\" />\n            ประวัติการแจ้งเตือน ({notifications.length})\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"p-4 md:p-6\">\n          {notifications.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              <Users className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n              <p>ยังไม่มีการแจ้งเตือน</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {notifications.map((notification) => (\n                <div key={notification.id} className=\"border rounded-lg p-3 md:p-4 hover:bg-muted/30 transition-colors\">\n                  <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      {getNotificationTypeIcon(notification.notification_type)}\n                      <span className=\"font-medium text-sm md:text-base\">\n                        {getNotificationTypeText(notification.notification_type)}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Badge className={getStatusColor(notification.status) + ' text-xs'}>\n                        {notification.status === 'sent' ? 'ส่งแล้ว' : \n                         notification.status === 'failed' ? 'ไม่สำเร็จ' : \n                         notification.status}\n                      </Badge>\n                      <span className=\"text-xs text-muted-foreground\">\n                        {new Date(notification.created_at).toLocaleString('th-TH')}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"text-sm text-muted-foreground mb-2\">\n                    ส่งถึง: {notification.sent_to}\n                  </div>\n                  \n                  <div className=\"text-xs md:text-sm bg-background p-2 rounded border border-border/30 max-h-20 overflow-y-auto\">\n                    {notification.message_content}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default AutoNotificationSystem;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { Calendar, Save, Search, Edit, RefreshCw } from 'lucide-react';\n\ninterface PatientAppointment {\n  id: string;\n  patient_name: string;\n  patient_id_number: string;\n  vaccine_type: string;\n  appointment_date: string;\n  status: string;\n  notes?: string;\n}\n\ninterface VaccineSchedule {\n  id: string;\n  vaccine_type: string;\n  vaccine_name: string;\n  total_doses: number;\n  dose_intervals: number[];\n}\n\nconst EditPatientAppointment = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [appointments, setAppointments] = useState<PatientAppointment[]>([]);\n  const [vaccineSchedules, setVaccineSchedules] = useState<VaccineSchedule[]>([]);\n  const [selectedAppointment, setSelectedAppointment] = useState<PatientAppointment | null>(null);\n  const [editForm, setEditForm] = useState({\n    lastDoseDate: '',\n    nextDoseDate: '',\n    doseNumber: '2',\n    notes: '',\n    customNextDate: false\n  });\n  const [existingFutureAppointments, setExistingFutureAppointments] = useState<PatientAppointment[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const { toast } = useToast();\n\n  const loadAppointments = async () => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('appointments')\n        .select('*')\n        .eq('status', 'completed')\n        .order('appointment_date', { ascending: false });\n\n      if (error) throw error;\n      setAppointments(data || []);\n    } catch (error) {\n      console.error('Error loading appointments:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลนัดหมายได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadVaccineSchedules = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('vaccine_schedules')\n        .select('*')\n        .eq('active', true);\n\n      if (error) throw error;\n      \n      // Transform the data to match our interface\n      const transformed = data?.map(item => ({\n        ...item,\n        dose_intervals: Array.isArray(item.dose_intervals) \n          ? item.dose_intervals \n          : typeof item.dose_intervals === 'string'\n          ? JSON.parse(item.dose_intervals)\n          : []\n      })) || [];\n      \n      setVaccineSchedules(transformed as VaccineSchedule[]);\n    } catch (error) {\n      console.error('Error loading vaccine schedules:', error);\n    }\n  };\n\n  const calculateNextDoseDate = (lastDoseDate: string, vaccineType: string, doseNumber: number) => {\n    const schedule = vaccineSchedules.find(s => s.vaccine_type === vaccineType);\n    if (!schedule) return '';\n\n    const intervals = schedule.dose_intervals;\n    const intervalIndex = doseNumber - 2; // สำหรับเข็มที่ 2 ใช้ interval[0], เข็มที่ 3 ใช้ interval[1]\n    const intervalDays = intervals[intervalIndex] || 30;\n\n    const lastDate = new Date(lastDoseDate);\n    const nextDate = new Date(lastDate);\n    nextDate.setDate(nextDate.getDate() + intervalDays);\n\n    return nextDate.toISOString().split('T')[0];\n  };\n\n  const handleAppointmentSelect = async (appointment: PatientAppointment) => {\n    setSelectedAppointment(appointment);\n    setEditForm({\n      lastDoseDate: appointment.appointment_date,\n      nextDoseDate: '',\n      doseNumber: '2',\n      notes: appointment.notes || '',\n      customNextDate: false\n    });\n\n    // ค้นหานัดในอนาคตที่มีอยู่แล้ว\n    try {\n      const { data: futureAppointments, error } = await supabase\n        .from('appointments')\n        .select('*')\n        .eq('patient_id_number', appointment.patient_id_number)\n        .eq('vaccine_type', appointment.vaccine_type)\n        .in('status', ['scheduled', 'pending'])\n        .gte('appointment_date', new Date().toISOString().split('T')[0]);\n\n      if (error) throw error;\n      setExistingFutureAppointments(futureAppointments || []);\n    } catch (error) {\n      console.error('Error loading future appointments:', error);\n      setExistingFutureAppointments([]);\n    }\n  };\n\n  const handleLastDoseDateChange = (date: string) => {\n    setEditForm(prev => ({\n      ...prev,\n      lastDoseDate: date,\n      nextDoseDate: selectedAppointment ? \n        calculateNextDoseDate(date, selectedAppointment.vaccine_type, parseInt(prev.doseNumber) + 1) : \n        ''\n    }));\n  };\n\n  const handleDoseNumberChange = (doseNumber: string) => {\n    setEditForm(prev => ({\n      ...prev,\n      doseNumber,\n      nextDoseDate: selectedAppointment && prev.lastDoseDate ? \n        calculateNextDoseDate(prev.lastDoseDate, selectedAppointment.vaccine_type, parseInt(doseNumber) + 1) : \n        ''\n    }));\n  };\n\n  const saveChanges = async () => {\n    if (!selectedAppointment || !editForm.lastDoseDate) {\n      toast({\n        title: \"ข้อมูลไม่ครบถ้วน\",\n        description: \"กรุณากรอกวันที่ฉีดเข็มล่าสุด\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // คำนวณ nextDoseDate หากยังไม่มี\n    let nextDoseDate = editForm.nextDoseDate;\n    if (!nextDoseDate) {\n      nextDoseDate = calculateNextDoseDate(\n        editForm.lastDoseDate, \n        selectedAppointment.vaccine_type, \n        parseInt(editForm.doseNumber) + 1\n      );\n      \n      if (!nextDoseDate) {\n        toast({\n          title: \"ไม่สามารถคำนวณวันนัดได้\",\n          description: \"ไม่พบข้อมูลวัคซีนหรือช่วงห่างการฉีด\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n    }\n\n    setSaving(true);\n    try {\n      // 1. ค้นหาและจัดการนัดเก่าที่มีอยู่แล้ว\n      const patientKey = selectedAppointment.patient_id_number;\n      const nextDoseNumber = parseInt(editForm.doseNumber) + 1;\n      \n      // ค้นหานัดเก่าที่ยังไม่เสร็จสิ้นสำหรับผู้ป่วยและวัคซีนนี้\n      const { data: existingAppointments, error: searchError } = await supabase\n        .from('appointments')\n        .select('*')\n        .eq('patient_id_number', patientKey)\n        .eq('vaccine_type', selectedAppointment.vaccine_type)\n        .in('status', ['scheduled', 'pending'])\n        .gte('appointment_date', new Date().toISOString().split('T')[0]);\n\n      if (searchError) throw searchError;\n\n      console.log('พบนัดเก่า:', existingAppointments?.length || 0, 'รายการ');\n\n      // 2. ยกเลิกหรืออัปเดตนัดเก่า\n      if (existingAppointments && existingAppointments.length > 0) {\n        for (const oldAppt of existingAppointments) {\n          // ยกเลิกนัดเก่า\n          const { error: cancelError } = await supabase\n            .from('appointments')\n            .update({\n              status: 'cancelled',\n              notes: `${oldAppt.notes || ''} (ยกเลิกเนื่องจากแก้ไขข้อมูลเมื่อ ${new Date().toLocaleDateString('th-TH')})`\n            })\n            .eq('id', oldAppt.id);\n\n          if (cancelError) throw cancelError;\n          console.log('ยกเลิกนัดเก่า ID:', oldAppt.id);\n        }\n      }\n\n      // 3. อัปเดตข้อมูลการฉีดเข็มที่แล้ว\n      const { error: updateError } = await supabase\n        .from('appointments')\n        .update({\n          appointment_date: editForm.lastDoseDate,\n          notes: `${editForm.notes} (แก้ไขเมื่อ ${new Date().toLocaleDateString('th-TH')})`\n        })\n        .eq('id', selectedAppointment.id);\n\n      if (updateError) throw updateError;\n\n      // 4. สร้างนัดหมายครั้งถัดไปใหม่\n      const schedule = vaccineSchedules.find(s => s.vaccine_type === selectedAppointment.vaccine_type);\n      \n      if (schedule && nextDoseNumber <= schedule.total_doses) {\n        const { error: insertError } = await supabase\n          .from('appointments')\n          .insert([{\n            patient_name: selectedAppointment.patient_name,\n            patient_id_number: selectedAppointment.patient_id_number,\n            vaccine_type: selectedAppointment.vaccine_type,\n            appointment_date: nextDoseDate,\n            status: 'scheduled',\n            notes: `นัดเข็มที่ ${nextDoseNumber} จาก ${schedule.total_doses} เข็ม (สร้างใหม่จากการแก้ไข ${new Date().toLocaleDateString('th-TH')})`\n          }]);\n\n        if (insertError) throw insertError;\n        console.log('สร้างนัดใหม่สำเร็จ:', nextDoseDate);\n      }\n\n      const cancelledCount = existingAppointments?.length || 0;\n      toast({\n        title: \"บันทึกสำเร็จ\",\n        description: `แก้ไขข้อมูลของ ${selectedAppointment.patient_name} แล้ว${cancelledCount > 0 ? ` (ยกเลิกนัดเก่า ${cancelledCount} รายการ และสร้างนัดใหม่)` : ' และสร้างนัดครั้งถัดไป'}`,\n      });\n\n      setSelectedAppointment(null);\n      setExistingFutureAppointments([]);\n      setEditForm({\n        lastDoseDate: '',\n        nextDoseDate: '',\n        doseNumber: '2',\n        notes: '',\n        customNextDate: false\n      });\n      loadAppointments();\n    } catch (error) {\n      console.error('Error saving changes:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถบันทึกการเปลี่ยนแปลงได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  useEffect(() => {\n    loadAppointments();\n    loadVaccineSchedules();\n  }, []);\n\n  const filteredAppointments = appointments.filter(appt =>\n    appt.patient_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    appt.patient_id_number.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    appt.vaccine_type.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"p-2 bg-primary/10 rounded-lg\">\n          <Edit className=\"h-6 w-6 text-primary\" />\n        </div>\n        <div>\n          <h1 className=\"text-2xl font-bold text-foreground\">แก้ไขข้อมูลนัดหมาย</h1>\n          <p className=\"text-sm text-muted-foreground\">แก้ไขวันที่ฉีดและคำนวณนัดครั้งถัดไป</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* รายการนัดหมาย */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Search className=\"h-5 w-5\" />\n              ค้นหานัดหมายที่ต้องแก้ไข\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\n                <Input\n                  placeholder=\"ค้นหาด้วยชื่อผู้ป่วย, ID, หรือประเภทวัคซีน\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n\n              <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n                {filteredAppointments.map((appointment) => (\n                  <div\n                    key={appointment.id}\n                    className={`p-3 border rounded-lg cursor-pointer transition-colors ${\n                      selectedAppointment?.id === appointment.id \n                        ? 'border-primary bg-primary/5' \n                        : 'hover:bg-muted/50'\n                    }`}\n                    onClick={() => handleAppointmentSelect(appointment)}\n                  >\n                    <div className=\"font-medium\">{appointment.patient_name}</div>\n                    <div className=\"text-sm text-muted-foreground\">\n                      {appointment.vaccine_type} - {new Date(appointment.appointment_date).toLocaleDateString('th-TH')}\n                    </div>\n                    <div className=\"text-xs text-muted-foreground\">ID: {appointment.patient_id_number}</div>\n                  </div>\n                ))}\n              </div>\n\n              {filteredAppointments.length === 0 && (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  {searchTerm ? 'ไม่พบข้อมูลที่ค้นหา' : 'ไม่มีข้อมูลนัดหมาย'}\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* ฟอร์มแก้ไข */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Calendar className=\"h-5 w-5\" />\n              แก้ไขข้อมูลนัดหมาย\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {selectedAppointment ? (\n              <div className=\"space-y-4\">\n                <div className=\"p-3 bg-muted/50 rounded-lg\">\n                  <div className=\"font-medium\">{selectedAppointment.patient_name}</div>\n                  <div className=\"text-sm text-muted-foreground\">{selectedAppointment.vaccine_type}</div>\n                  <div className=\"text-xs text-muted-foreground\">ID: {selectedAppointment.patient_id_number}</div>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"lastDoseDate\">วันที่ฉีดเข็มล่าสุด (เข็มที่ {editForm.doseNumber})</Label>\n                  <Input\n                    id=\"lastDoseDate\"\n                    type=\"date\"\n                    value={editForm.lastDoseDate}\n                    onChange={(e) => handleLastDoseDateChange(e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"doseNumber\">เข็มที่ฉีดล่าสุด</Label>\n                  <Select\n                    value={editForm.doseNumber}\n                    onValueChange={handleDoseNumberChange}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"1\">เข็มที่ 1</SelectItem>\n                      <SelectItem value=\"2\">เข็มที่ 2</SelectItem>\n                      <SelectItem value=\"3\">เข็มที่ 3</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Label htmlFor=\"nextDoseDate\">วันนัดเข็มถัดไป (เข็มที่ {parseInt(editForm.doseNumber) + 1})</Label>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setEditForm(prev => ({ ...prev, customNextDate: !prev.customNextDate }))}\n                    >\n                      {editForm.customNextDate ? 'ใช้วันที่อัตโนมัติ' : 'กำหนดวันที่เอง'}\n                    </Button>\n                  </div>\n                  \n                  {editForm.customNextDate ? (\n                    <Input\n                      id=\"nextDoseDate\"\n                      type=\"date\"\n                      value={editForm.nextDoseDate}\n                      onChange={(e) => setEditForm(prev => ({ ...prev, nextDoseDate: e.target.value }))}\n                    />\n                  ) : (\n                    <div className=\"p-3 bg-green-50 border border-green-200 rounded-lg\">\n                      <div className=\"font-medium text-lg text-green-800\">\n                        {editForm.nextDoseDate ? \n                          new Date(editForm.nextDoseDate).toLocaleDateString('th-TH', {\n                            year: 'numeric',\n                            month: 'long',\n                            day: 'numeric',\n                            weekday: 'long'\n                          }) : \n                          'กรุณาเลือกวันที่ฉีดเข็มล่าสุด'\n                        }\n                      </div>\n                      <p className=\"text-sm text-green-600 mt-1\">\n                        📅 คำนวณอัตโนมัติตามช่วงห่างของวัคซีน\n                        {editForm.nextDoseDate && editForm.lastDoseDate && (\n                          ` (ห่างจากเข็มล่าสุด ${Math.ceil((new Date(editForm.nextDoseDate).getTime() - new Date(editForm.lastDoseDate).getTime()) / (1000 * 60 * 60 * 24))} วัน)`\n                        )}\n                      </p>\n                    </div>\n                  )}\n                </div>\n\n                <div>\n                  <Label htmlFor=\"notes\">หมายเหตุ</Label>\n                  <Input\n                    id=\"notes\"\n                    value={editForm.notes}\n                    onChange={(e) => setEditForm(prev => ({ ...prev, notes: e.target.value }))}\n                    placeholder=\"หมายเหตุเพิ่มเติม\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  {/* แสดงนัดเก่าที่จะได้รับผลกระทบ */}\n                  {existingFutureAppointments.length > 0 && (\n                    <div className=\"p-3 bg-yellow-50 border border-yellow-200 rounded\">\n                      <div className=\"font-medium text-yellow-800 mb-2\">\n                        ⚠️ นัดเก่าที่จะถูกยกเลิก ({existingFutureAppointments.length} รายการ):\n                      </div>\n                      {existingFutureAppointments.map((appt, index) => (\n                        <div key={appt.id} className=\"text-sm text-yellow-700 ml-4\">\n                          • วันที่ {new Date(appt.appointment_date).toLocaleDateString('th-TH')} ({appt.status})\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {editForm.nextDoseDate && (\n                    <div className=\"p-2 bg-green-50 border border-green-200 rounded text-sm text-green-800\">\n                      ✅ ระบบจะสร้างนัดหมายเข็มที่ {parseInt(editForm.doseNumber) + 1} ในวันที่ {new Date(editForm.nextDoseDate).toLocaleDateString('th-TH')} อัตโนมัติ\n                    </div>\n                  )}\n                  \n                  <Button \n                    onClick={saveChanges} \n                    disabled={saving || !editForm.lastDoseDate}\n                    className=\"w-full\"\n                  >\n                    {saving ? (\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                    ) : (\n                      <Save className=\"h-4 w-4 mr-2\" />\n                    )}\n                    {saving ? 'กำลังบันทึก...' : \n                      existingFutureAppointments.length > 0 ? \n                        'ยกเลิกนัดเก่าและสร้างนัดใหม่' : \n                        'บันทึกและสร้างนัดอัตโนมัติ'\n                    }\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center py-12 text-muted-foreground\">\n                <Calendar className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                <p>เลือกนัดหมายที่ต้องการแก้ไขจากรายการด้านซ้าย</p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default EditPatientAppointment;","import { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { \n  TestTube, \n  Send, \n  CheckCircle, \n  AlertTriangle, \n  Clock,\n  RefreshCw,\n  Database,\n  MessageSquare\n} from 'lucide-react';\n\ninterface TestResult {\n  test: string;\n  status: 'success' | 'error' | 'warning';\n  message: string;\n  details?: any;\n}\n\nconst NotificationTestPanel = () => {\n  const [testing, setTesting] = useState(false);\n  const [testResults, setTestResults] = useState<TestResult[]>([]);\n  const { toast } = useToast();\n\n  const runTests = async () => {\n    setTesting(true);\n    setTestResults([]);\n    const results: TestResult[] = [];\n\n    try {\n      // Test 1: Check database connection\n      results.push({ test: 'Database Connection', status: 'success', message: 'เชื่อมต่อฐานข้อมูลสำเร็จ' });\n\n      // Test 2: Check appointment_notifications table\n      try {\n        const { data, error } = await supabase\n          .from('appointment_notifications')\n          .select('count')\n          .limit(1);\n        \n        if (error) throw error;\n        results.push({ \n          test: 'Notifications Table', \n          status: 'success', \n          message: 'ตาราง appointment_notifications พร้อมใช้งาน' \n        });\n      } catch (error: any) {\n        results.push({ \n          test: 'Notifications Table', \n          status: 'error', \n          message: `ตาราง appointment_notifications มีปัญหา: ${error.message}` \n        });\n      }\n\n      // Test 3: Check appointments for tomorrow\n      try {\n        const tomorrow = new Date();\n        tomorrow.setDate(tomorrow.getDate() + 1);\n        const tomorrowStr = tomorrow.toISOString().split('T')[0];\n\n        const { data: appointments, error } = await supabase\n          .from('appointments')\n          .select('*')\n          .eq('appointment_date', tomorrowStr)\n          .eq('status', 'scheduled');\n\n        if (error) throw error;\n        \n        results.push({ \n          test: 'Tomorrow Appointments', \n          status: appointments && appointments.length > 0 ? 'success' : 'warning', \n          message: `พบนัดหมายพรุ่งนี้ ${appointments?.length || 0} รายการ`,\n          details: appointments\n        });\n      } catch (error: any) {\n        results.push({ \n          test: 'Tomorrow Appointments', \n          status: 'error', \n          message: `ไม่สามารถตรวจสอบนัดหมายได้: ${error.message}` \n        });\n      }\n\n      // Test 4: Check overdue appointments\n      try {\n        const today = new Date().toISOString().split('T')[0];\n        const { data: overdueAppointments, error } = await supabase\n          .from('appointments')\n          .select('*')\n          .lt('appointment_date', today)\n          .eq('status', 'scheduled');\n\n        if (error) throw error;\n        \n        results.push({ \n          test: 'Overdue Appointments', \n          status: overdueAppointments && overdueAppointments.length > 0 ? 'warning' : 'success', \n          message: `พบนัดเกินกำหนด ${overdueAppointments?.length || 0} รายการ`,\n          details: overdueAppointments\n        });\n      } catch (error: any) {\n        results.push({ \n          test: 'Overdue Appointments', \n          status: 'error', \n          message: `ไม่สามารถตรวจสอบนัดเกินกำหนดได้: ${error.message}` \n        });\n      }\n\n      // Test 5: Test notification function\n      try {\n        const { data, error } = await supabase.functions.invoke('manual-notification-trigger', {\n          body: { test: true }\n        });\n\n        if (error) throw error;\n        \n        results.push({ \n          test: 'Notification Function', \n          status: 'success', \n          message: 'ฟังก์ชันแจ้งเตือนทำงานได้',\n          details: data\n        });\n      } catch (error: any) {\n        results.push({ \n          test: 'Notification Function', \n          status: 'error', \n          message: `ฟังก์ชันแจ้งเตือนมีปัญหา: ${error.message}` \n        });\n      }\n\n      // Test 6: Check CRON job status\n      try {\n        // CRON jobs are not accessible from client side\n        results.push({ \n          test: 'CRON Job Status', \n          status: 'warning', \n          message: 'ไม่สามารถตรวจสอบสถานะ CRON job ได้ (ต้องใช้สิทธิ์ admin หรือเข้าถึงจาก server-side)'\n        });\n      } catch (error: any) {\n        results.push({ \n          test: 'CRON Job Status', \n          status: 'warning', \n          message: 'ไม่สามารถตรวจสอบ CRON job ได้'\n        });\n      }\n\n      // Test 7: Check recent notifications\n      try {\n        const { data: recentNotifications, error } = await supabase\n          .from('appointment_notifications')\n          .select('*')\n          .order('created_at', { ascending: false })\n          .limit(5);\n\n        if (error) throw error;\n        \n        results.push({ \n          test: 'Recent Notifications', \n          status: 'success', \n          message: `พบการแจ้งเตือนล่าสุด ${recentNotifications?.length || 0} รายการ`,\n          details: recentNotifications\n        });\n      } catch (error: any) {\n        results.push({ \n          test: 'Recent Notifications', \n          status: 'error', \n          message: `ไม่สามารถตรวจสอบการแจ้งเตือนได้: ${error.message}` \n        });\n      }\n\n      // Test 8: Check notification_jobs table\n      try {\n        const { data: notificationJobs, error } = await supabase\n          .from('notification_jobs')\n          .select('*')\n          .order('created_at', { ascending: false })\n          .limit(5);\n\n        if (error) throw error;\n        \n        // Filter pending jobs based on status\n        const pendingJobs = notificationJobs?.filter(job => job.status === 'pending') || [];\n        results.push({\n          test: 'Notification Jobs Queue', \n          status: 'success', \n          message: `พบงานแจ้งเตือน ${notificationJobs?.length || 0} รายการ (รอดำเนินการ: ${pendingJobs.length})`,\n          details: { total: notificationJobs?.length, pending: pendingJobs.length, jobs: notificationJobs }\n        });\n      } catch (error: any) {\n        results.push({ \n          test: 'Notification Jobs Queue', \n          status: 'warning', \n          message: `ไม่สามารถตรวจสอบ notification_jobs ได้: ${error.message}` \n        });\n      }\n\n    } catch (error: any) {\n      results.push({ \n        test: 'General Error', \n        status: 'error', \n        message: `เกิดข้อผิดพลาดทั่วไป: ${error.message}` \n      });\n    }\n\n    setTestResults(results);\n    setTesting(false);\n\n    // Show summary toast\n    const successCount = results.filter(r => r.status === 'success').length;\n    const errorCount = results.filter(r => r.status === 'error').length;\n    const warningCount = results.filter(r => r.status === 'warning').length;\n\n    toast({\n      title: \"การทดสอบเสร็จสิ้น\",\n      description: `สำเร็จ: ${successCount}, เตือน: ${warningCount}, ข้อผิดพลาด: ${errorCount}`,\n      variant: errorCount > 0 ? \"destructive\" : \"default\",\n    });\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'success': return <CheckCircle className=\"h-4 w-4 text-green-600\" />;\n      case 'warning': return <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />;\n      case 'error': return <AlertTriangle className=\"h-4 w-4 text-red-600\" />;\n      default: return <Clock className=\"h-4 w-4 text-gray-600\" />;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'success': return 'bg-green-100 text-green-800 border-green-200';\n      case 'warning': return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      case 'error': return 'bg-red-100 text-red-800 border-red-200';\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <TestTube className=\"h-5 w-5 text-primary\" />\n            ทดสอบระบบแจ้งเตือนอัตโนมัติ\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Alert className=\"mb-4\">\n            <Database className=\"h-4 w-4\" />\n            <AlertDescription>\n              เครื่องมือนี้จะทดสอบการทำงานของระบบแจ้งเตือนอัตโนมัติ รวมถึงการเชื่อมต่อฐานข้อมูล, \n              การตรวจสอบนัดหมาย, และการทำงานของฟังก์ชันแจ้งเตือน\n            </AlertDescription>\n          </Alert>\n\n          <Button \n            onClick={runTests} \n            disabled={testing}\n            className=\"w-full mb-6\"\n          >\n            {testing ? (\n              <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n            ) : (\n              <TestTube className=\"h-4 w-4 mr-2\" />\n            )}\n            {testing ? 'กำลังทดสอบ...' : 'เริ่มทดสอบระบบ'}\n          </Button>\n\n          {testResults.length > 0 && (\n            <div className=\"space-y-3\">\n              <h3 className=\"font-medium text-lg mb-3\">ผลการทดสอบ:</h3>\n              {testResults.map((result, index) => (\n                <div key={index} className=\"border rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      {getStatusIcon(result.status)}\n                      <span className=\"font-medium\">{result.test}</span>\n                    </div>\n                    <Badge className={getStatusColor(result.status)}>\n                      {result.status === 'success' ? 'สำเร็จ' : \n                       result.status === 'warning' ? 'เตือน' : 'ข้อผิดพลาด'}\n                    </Badge>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground mb-2\">{result.message}</p>\n                  {result.details && (\n                    <details className=\"text-xs\">\n                      <summary className=\"cursor-pointer text-blue-600 hover:text-blue-800\">\n                        ดูรายละเอียด\n                      </summary>\n                      <pre className=\"mt-2 p-2 bg-muted rounded text-xs overflow-auto max-h-32\">\n                        {JSON.stringify(result.details, null, 2)}\n                      </pre>\n                    </details>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default NotificationTestPanel;","/**\n * User Role Manager Component\n * Allows admins to view and manage user roles\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { Users, Shield, UserPlus, RefreshCw, Search } from 'lucide-react';\n\ninterface UserWithRoles {\n  id: string;\n  email: string;\n  user_created_at: string;\n  last_sign_in_at: string | null;\n  roles: string[];\n  is_admin: boolean;\n  is_healthcare_staff: boolean;\n}\n\nexport function UserRoleManager() {\n  const [users, setUsers] = useState<UserWithRoles[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [newUserEmail, setNewUserEmail] = useState('');\n  const [newUserRole, setNewUserRole] = useState<'admin' | 'healthcare_staff' | 'patient'>('healthcare_staff');\n  const { toast } = useToast();\n\n  const loadUsers = async () => {\n    setLoading(true);\n    try {\n      // Get all user roles first\n      const { data: userRoles, error: rolesError } = await supabase\n        .from('user_roles')\n        .select('user_id, role');\n\n      if (rolesError) throw rolesError;\n\n      // Get current session to get user list (simplified approach)\n      const { data: { session } } = await supabase.auth.getSession();\n      if (!session) throw new Error('ไม่ได้เข้าสู่ระบบ');\n\n      // For now, we'll show users that have roles in the system\n      const userRoleMap = new Map<string, string[]>();\n      userRoles?.forEach(ur => {\n        if (!userRoleMap.has(ur.user_id)) {\n          userRoleMap.set(ur.user_id, []);\n        }\n        userRoleMap.get(ur.user_id)?.push(ur.role);\n      });\n\n      // Create mock users data (in real app, you'd get this from auth.users)\n      const usersWithRoles: UserWithRoles[] = Array.from(userRoleMap.entries()).map(([userId, roles]) => ({\n        id: userId,\n        email: `user-${userId.slice(0, 8)}@example.com`, // Mock email\n        user_created_at: new Date().toISOString(),\n        last_sign_in_at: new Date().toISOString(),\n        roles: roles,\n        is_admin: roles.includes('admin'),\n        is_healthcare_staff: roles.includes('admin') || roles.includes('healthcare_staff')\n      }));\n\n      // Add current user if not in list\n      if (session.user && !userRoleMap.has(session.user.id)) {\n        usersWithRoles.unshift({\n          id: session.user.id,\n          email: session.user.email || 'unknown@example.com',\n          user_created_at: session.user.created_at,\n          last_sign_in_at: session.user.last_sign_in_at || null,\n          roles: [],\n          is_admin: false,\n          is_healthcare_staff: false\n        });\n      }\n\n      setUsers(usersWithRoles);\n    } catch (error) {\n      console.error('Error loading users:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลผู้ใช้ได้\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const assignRole = async (userEmail: string, role: 'admin' | 'healthcare_staff' | 'patient') => {\n    try {\n      // Get current user\n      const { data: { user: currentUser } } = await supabase.auth.getUser();\n      if (!currentUser) throw new Error('ไม่ได้เข้าสู่ระบบ');\n\n      // For demo purposes, we'll assign role to current user if email matches\n      let targetUserId = currentUser.id;\n      \n      if (userEmail !== currentUser.email) {\n        // In a real app, you'd look up the user by email\n        // For now, we'll just use the current user\n        console.warn('Cannot assign role to different user in demo mode');\n      }\n\n      // Insert role\n      const { error: insertError } = await supabase\n        .from('user_roles')\n        .insert({\n          user_id: targetUserId,\n          role: role,\n          created_by: currentUser.id\n        });\n      \n      if (insertError && !insertError.message.includes('duplicate')) {\n        throw insertError;\n      }\n\n      toast({\n        title: \"สำเร็จ\",\n        description: `กำหนดสิทธิ์ ${getRoleDisplayName(role)} ให้ ${userEmail} แล้ว`,\n      });\n\n      loadUsers();\n    } catch (error) {\n      console.error('Error assigning role:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: error instanceof Error ? error.message : \"ไม่สามารถกำหนดสิทธิ์ได้\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleAssignRole = async () => {\n    if (!newUserEmail.trim()) {\n      toast({\n        title: \"ข้อมูลไม่ครบถ้วน\",\n        description: \"กรุณากรอกอีเมลผู้ใช้\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    await assignRole(newUserEmail, newUserRole);\n    setNewUserEmail('');\n  };\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  const filteredUsers = users.filter(user =>\n    user.email.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const getRoleBadgeColor = (role: string) => {\n    switch (role) {\n      case 'admin': return 'bg-red-100 text-red-800 border-red-200';\n      case 'healthcare_staff': return 'bg-blue-100 text-blue-800 border-blue-200';\n      case 'patient': return 'bg-green-100 text-green-800 border-green-200';\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  const getRoleDisplayName = (role: string) => {\n    switch (role) {\n      case 'admin': return 'ผู้ดูแลระบบ';\n      case 'healthcare_staff': return 'เจ้าหน้าที่';\n      case 'patient': return 'ผู้ป่วย';\n      default: return role;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Users className=\"h-5 w-5\" />\n            จัดการสิทธิ์ผู้ใช้\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            {/* Search */}\n            <div className=\"flex-1 space-y-2\">\n              <Label htmlFor=\"search\">ค้นหาผู้ใช้</Label>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none\" />\n                <Input\n                  id=\"search\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  placeholder=\"ค้นหาด้วยอีเมล...\"\n                  className=\"pl-10 cursor-text\"\n                />\n              </div>\n            </div>\n\n            {/* Refresh */}\n            <div className=\"space-y-2 sm:w-auto w-full\">\n              <Label className=\"hidden sm:block\">&nbsp;</Label>\n              <Button \n                onClick={loadUsers} \n                disabled={loading} \n                className=\"w-full sm:w-auto cursor-pointer disabled:cursor-not-allowed\"\n              >\n                <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n                รีเฟรชข้อมูล\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Add New Role */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <UserPlus className=\"h-5 w-5\" />\n            กำหนดสิทธิ์ให้ผู้ใช้\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"userEmail\">อีเมลผู้ใช้</Label>\n              <Input\n                id=\"userEmail\"\n                value={newUserEmail}\n                onChange={(e) => setNewUserEmail(e.target.value)}\n                placeholder=\"user@example.com\"\n                type=\"email\"\n                className=\"cursor-text\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"userRole\">สิทธิ์</Label>\n              <Select value={newUserRole} onValueChange={(value: any) => setNewUserRole(value)}>\n                <SelectTrigger className=\"cursor-pointer\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"healthcare_staff\" className=\"cursor-pointer\">เจ้าหน้าที่</SelectItem>\n                  <SelectItem value=\"admin\" className=\"cursor-pointer\">ผู้ดูแลระบบ</SelectItem>\n                  <SelectItem value=\"patient\" className=\"cursor-pointer\">ผู้ป่วย</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2 sm:col-span-2 lg:col-span-1\">\n              <Label className=\"hidden lg:block\">&nbsp;</Label>\n              <Button \n                onClick={handleAssignRole} \n                className=\"w-full cursor-pointer hover:shadow-md transition-shadow\"\n              >\n                <Shield className=\"h-4 w-4 mr-2\" />\n                กำหนดสิทธิ์\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Users List */}\n      <Card>\n        <CardHeader>\n          <CardTitle>รายชื่อผู้ใช้ ({filteredUsers.length} คน)</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {loading ? (\n            <div className=\"text-center py-8\">\n              <RefreshCw className=\"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground\" />\n              <p className=\"text-muted-foreground\">กำลังโหลดข้อมูล...</p>\n            </div>\n          ) : filteredUsers.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <Users className=\"h-8 w-8 mx-auto mb-4 text-muted-foreground\" />\n              <p className=\"text-muted-foreground\">ไม่พบผู้ใช้</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {filteredUsers.map((user) => (\n                <div key={user.id} className=\"p-4 border rounded-lg hover:shadow-md transition-shadow cursor-default\">\n                  <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 mb-2\">\n                        <h3 className=\"font-medium truncate select-text\" title={user.email}>\n                          {user.email}\n                        </h3>\n                        <div className=\"flex flex-wrap gap-1\">\n                          {user.roles.length > 0 ? (\n                            user.roles.map((role) => (\n                              <Badge key={role} className={`${getRoleBadgeColor(role)} text-xs`}>\n                                {getRoleDisplayName(role)}\n                              </Badge>\n                            ))\n                          ) : (\n                            <Badge variant=\"outline\" className=\"text-xs\">ไม่มีสิทธิ์</Badge>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"text-sm text-muted-foreground space-y-1\">\n                        <p className=\"select-text\">\n                          สมัครเมื่อ: {new Date(user.user_created_at).toLocaleDateString('th-TH')}\n                        </p>\n                        {user.last_sign_in_at && (\n                          <p className=\"select-text\">\n                            เข้าสู่ระบบล่าสุด: {new Date(user.last_sign_in_at).toLocaleDateString('th-TH')}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-2 lg:flex-shrink-0\">\n                      {!user.is_healthcare_staff && (\n                        <Button\n                          size=\"sm\"\n                          onClick={() => assignRole(user.email, 'healthcare_staff')}\n                          className=\"cursor-pointer hover:shadow-sm transition-shadow text-xs sm:text-sm\"\n                        >\n                          <Shield className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2\" />\n                          <span className=\"hidden sm:inline\">ให้สิทธิ์เจ้าหน้าที่</span>\n                          <span className=\"sm:hidden\">เจ้าหน้าที่</span>\n                        </Button>\n                      )}\n                      {!user.is_admin && (\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => assignRole(user.email, 'admin')}\n                          className=\"cursor-pointer hover:shadow-sm transition-shadow text-xs sm:text-sm\"\n                        >\n                          <Shield className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2\" />\n                          <span className=\"hidden sm:inline\">ให้สิทธิ์ Admin</span>\n                          <span className=\"sm:hidden\">Admin</span>\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Shield, LogOut, User, RefreshCw } from 'lucide-react';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useToast } from '@/hooks/use-toast';\nimport type { User as SupabaseUser, Session } from '@supabase/supabase-js';\n\nimport StaffPortal from './StaffPortal';\nimport VaccineScheduleCalculator from './VaccineScheduleCalculator';\nimport PatientRegistrationsList from './PatientRegistrationsList';\nimport NextAppointments from './NextAppointments';\nimport PastVaccinations from './PastVaccinations';\nimport AutoNotificationSystem from './AutoNotificationSystem';\nimport PatientAppointmentManager from './GoogleSheetsIntegration';\nimport EditPatientAppointment from './EditPatientAppointment';\nimport NotificationTestPanel from './NotificationTestPanel';\nimport { UserRoleManager } from './UserRoleManager';\n\nconst AuthenticatedStaffPortal = () => {\n  const [user, setUser] = useState<SupabaseUser | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [isAuthorized, setIsAuthorized] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  // Kiosk Mode: แสดงเฉพาะแท็บสำหรับลงทะเบียนและบันทึกการฉีด\n  const isKioskMode = import.meta.env.VITE_KIOSK_MODE === 'true';\n\n  useEffect(() => {\n    const checkAuthAndPermissions = async () => {\n      try {\n        // Check session\n        const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n        if (sessionError) throw sessionError;\n\n        if (!session) {\n          setIsLoading(false);\n          return;\n        }\n\n        setSession(session);\n        setUser(session.user);\n\n        // Check if user is healthcare staff\n        const { data: isStaff, error: staffError } = await supabase\n          .rpc('is_healthcare_staff', { _user_id: session.user.id });\n\n        if (staffError) {\n          console.error('Error checking staff status:', staffError);\n          // Fallback: Check email domain for hospital staff\n          const isHospitalEmail = session.user.email?.endsWith('@vchomehospital.co.th') || false;\n          setIsAuthorized(isHospitalEmail);\n        } else {\n          // If RPC returns false, check fallback conditions\n          if (!isStaff) {\n            // Fallback: Check email domain or demo accounts\n            const isHospitalEmail = session.user.email?.endsWith('@vchomehospital.co.th') || false;\n            const isDemoAccount = ['admin@vchomehospital.co.th', 'staff@vchomehospital.co.th'].includes(session.user.email || '');\n            setIsAuthorized(isHospitalEmail || isDemoAccount);\n          } else {\n            setIsAuthorized(isStaff);\n          }\n        }\n\n        // Check if user is admin\n        const { data: hasAdminRole, error: adminError } = await supabase\n          .rpc('has_role', { _user_id: session.user.id, _role: 'admin' });\n\n        if (adminError) {\n          console.error('Error checking admin status:', adminError);\n          // Fallback: Check email for admin access\n          const isAdminEmail = session.user.email === 'admin@vchomehospital.co.th' || \n                              session.user.email === 'superadmin@vchomehospital.co.th';\n          setIsAdmin(isAdminEmail);\n        } else {\n          // If RPC returns false, check fallback conditions\n          if (!hasAdminRole) {\n            const isAdminEmail = session.user.email === 'admin@vchomehospital.co.th' || \n                                session.user.email === 'superadmin@vchomehospital.co.th';\n            setIsAdmin(isAdminEmail);\n          } else {\n            setIsAdmin(hasAdminRole);\n          }\n        }\n\n      } catch (error) {\n        console.error('Auth check error:', error);\n        toast({\n          title: \"เกิดข้อผิดพลาด\",\n          description: \"ไม่สามารถตรวจสอบสิทธิ์การเข้าถึงได้\",\n          variant: \"destructive\",\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    checkAuthAndPermissions();\n\n    // Listen for auth changes\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        if (event === 'SIGNED_OUT' || !session) {\n          setUser(null);\n          setSession(null);\n          setIsAuthorized(false);\n          setIsAdmin(false);\n          navigate('/auth');\n        }\n      }\n    );\n\n    return () => subscription.unsubscribe();\n  }, [navigate, toast]);\n\n  const handleSignOut = async () => {\n    try {\n      const { error } = await supabase.auth.signOut();\n      if (error) throw error;\n\n      toast({\n        title: \"ออกจากระบบแล้ว\",\n        description: \"คุณได้ออกจากระบบเรียบร้อยแล้ว\",\n      });\n\n      navigate('/auth');\n    } catch (error) {\n      console.error('Sign out error:', error);\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถออกจากระบบได้\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const navigateToAuth = () => {\n    navigate('/auth');\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-green-100/30 to-white flex items-center justify-center\">\n        <Card className=\"w-96\">\n          <CardContent className=\"p-8 text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n            <p className=\"text-lg font-medium\">กำลังตรวจสอบสิทธิ์...</p>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-green-100/30 to-white flex items-center justify-center\">\n        <Card className=\"w-96\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"flex items-center justify-center gap-2 text-2xl\">\n              <Shield className=\"h-6 w-6 text-primary\" />\n              ต้องเข้าสู่ระบบ\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-6 space-y-4\">\n            <p className=\"text-center text-muted-foreground\">\n              กรุณาเข้าสู่ระบบเพื่อเข้าถึงระบบจัดการเจ้าหน้าที่\n            </p>\n            <Button\n              onClick={navigateToAuth}\n              className=\"w-full\"\n            >\n              เข้าสู่ระบบ\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!isAuthorized) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-green-100/30 to-white flex items-center justify-center\">\n        <Card className=\"w-96\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"flex items-center justify-center gap-2 text-2xl text-destructive\">\n              <Shield className=\"h-6 w-6\" />\n              ไม่มีสิทธิ์เข้าถึง\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-6 space-y-4\">\n            <div className=\"text-center space-y-2\">\n              <p className=\"text-muted-foreground\">\n                คุณไม่มีสิทธิ์เข้าถึงระบบจัดการเจ้าหน้าที่\n              </p>\n              <div className=\"text-sm text-muted-foreground bg-muted/50 p-3 rounded\">\n                <p><strong>อีเมล:</strong> {user?.email}</p>\n                <p><strong>สถานะ:</strong> ไม่มีสิทธิ์เจ้าหน้าที่</p>\n              </div>\n              <p className=\"text-xs text-muted-foreground\">\n                หากคุณเป็นเจ้าหน้าที่ กรุณาติดต่อผู้ดูแลระบบเพื่อขอสิทธิ์การเข้าถึง\n              </p>\n            </div>\n            <div className=\"space-y-2\">\n              <Button\n                onClick={() => window.location.reload()}\n                className=\"w-full\"\n              >\n                <RefreshCw className=\"h-4 w-4 mr-2\" />\n                ลองใหม่\n              </Button>\n              <Button\n                onClick={handleSignOut}\n                variant=\"outline\"\n                className=\"w-full\"\n              >\n                <LogOut className=\"h-4 w-4 mr-2\" />\n                ออกจากระบบ\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-green-100/30 to-white\">\n      {/* Header */}\n      <div className=\"bg-white border-b shadow-sm sticky top-0 z-40\">\n        <div className=\"container mx-auto px-2 sm:px-4 py-3 sm:py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2 sm:gap-3 min-w-0 flex-1\">\n              <div className=\"w-10 h-10 sm:w-12 sm:h-12 rounded-xl overflow-hidden shadow-md flex-shrink-0 bg-gradient-to-br from-blue-50 to-blue-100 p-1\">\n                <img\n                  src={`${import.meta.env.BASE_URL}images/hospital-logo.png`}\n                  alt=\"โลโก้โรงพยาบาลโฮม\"\n                  className=\"w-full h-full object-contain\"\n                  onError={(e) => {\n                    // Fallback to other hospital logos\n                    const target = e.target as HTMLImageElement;\n                    const baseUrl = import.meta.env.BASE_URL || '/';\n                    if (target.src.includes('hospital-logo.png')) {\n                      target.src = `${baseUrl}images/home-hospital-logo.png`;\n                    } else if (target.src.includes('home-hospital-logo.png')) {\n                      target.src = `${baseUrl}favicon-hospital.png`;\n                    }\n                  }}\n                />\n              </div>\n              <div className=\"min-w-0 flex-1\">\n                <h1 className=\"text-lg sm:text-xl font-bold text-foreground truncate\">\n                  ระบบจัดการวัคซีน\n                </h1>\n                <p className=\"text-xs sm:text-sm text-muted-foreground truncate\">\n                  โรงพยาบาลโฮม\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2 sm:gap-4 flex-shrink-0\">\n              <div className=\"text-right hidden lg:block\">\n                <p className=\"text-sm font-medium truncate max-w-[200px]\" title={user.email}>\n                  {user.email}\n                </p>\n                <p className=\"text-xs text-muted-foreground\">\n                  {isAdmin ? 'ผู้ดูแลระบบ' : 'เจ้าหน้าที่'}\n                </p>\n              </div>\n              <div className=\"flex items-center gap-1 sm:gap-2\">\n                {/* Mobile user info button */}\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"lg:hidden p-2\"\n                  title={`${user.email} - ${isAdmin ? 'ผู้ดูแลระบบ' : 'เจ้าหน้าที่'}`}\n                >\n                  <User className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  onClick={handleSignOut}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"px-2 sm:px-4\"\n                >\n                  <LogOut className=\"h-4 w-4 sm:mr-2\" />\n                  <span className=\"hidden sm:inline\">ออกจากระบบ</span>\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-4 py-6\">\n        <Tabs defaultValue=\"staff-portal\" className=\"w-full\">\n          {/* Mobile: Scrollable tabs */}\n          <div className=\"block lg:hidden mb-6\">\n            <div className=\"overflow-x-auto\">\n              <TabsList className=\"flex w-max gap-1 p-1\">\n                <TabsTrigger value=\"staff-portal\" className=\"text-xs px-3 py-2 whitespace-nowrap\">\n                  นัดวันนี้\n                </TabsTrigger>\n                <TabsTrigger value=\"registrations\" className=\"text-xs px-3 py-2 whitespace-nowrap\">\n                  ลงทะเบียน\n                </TabsTrigger>\n                {!isKioskMode && (\n                  <>\n                    <TabsTrigger value=\"next-appointments\" className=\"text-xs px-3 py-2 whitespace-nowrap\">\n                      นัดถัดไป\n                    </TabsTrigger>\n                    <TabsTrigger value=\"past-vaccinations\" className=\"text-xs px-3 py-2 whitespace-nowrap\">\n                      ประวัติ\n                    </TabsTrigger>\n                    <TabsTrigger value=\"edit-appointments\" className=\"text-xs px-3 py-2 whitespace-nowrap\">\n                      แก้ไขนัด\n                    </TabsTrigger>\n                    <TabsTrigger value=\"vaccine-calculator\" className=\"text-xs px-3 py-2 whitespace-nowrap\">\n                      คำนวณ\n                    </TabsTrigger>\n                  </>\n                )}\n                {isAdmin && !isKioskMode && (\n                  <TabsTrigger value=\"user-roles\" className=\"text-xs px-3 py-2 whitespace-nowrap\">\n                    จัดการสิทธิ์\n                  </TabsTrigger>\n                )}\n                {isAdmin && !isKioskMode && (\n                  <TabsTrigger value=\"settings\" className=\"text-xs px-3 py-2 whitespace-nowrap\">\n                    ตั้งค่า\n                  </TabsTrigger>\n                )}\n              </TabsList>\n            </div>\n          </div>\n\n          {/* Desktop: Grid tabs */}\n          {isKioskMode ? (\n            <TabsList className=\"hidden lg:grid w-full mb-6 gap-1 grid-cols-2\">\n              <TabsTrigger value=\"staff-portal\" className=\"text-sm px-2 py-2\">\n                นัดวันนี้ / บันทึกการฉีด\n              </TabsTrigger>\n              <TabsTrigger value=\"registrations\" className=\"text-sm px-2 py-2\">\n                รายการลงทะเบียน\n              </TabsTrigger>\n            </TabsList>\n          ) : (\n            <TabsList className={`hidden lg:grid w-full mb-6 gap-1 ${isAdmin ? 'grid-cols-8' : 'grid-cols-6'}`}>\n              <TabsTrigger value=\"staff-portal\" className=\"text-sm px-2 py-2\">\n                นัดวันนี้\n              </TabsTrigger>\n              <TabsTrigger value=\"registrations\" className=\"text-sm px-2 py-2\">\n                รายการลงทะเบียน\n              </TabsTrigger>\n              <TabsTrigger value=\"next-appointments\" className=\"text-sm px-2 py-2\">\n                นัดครั้งถัดไป\n              </TabsTrigger>\n              <TabsTrigger value=\"past-vaccinations\" className=\"text-sm px-2 py-2\">\n                ประวัติการฉีด\n              </TabsTrigger>\n              <TabsTrigger value=\"edit-appointments\" className=\"text-sm px-2 py-2\">\n                แก้ไขนัด\n              </TabsTrigger>\n              <TabsTrigger value=\"vaccine-calculator\" className=\"text-sm px-2 py-2\">\n                คำนวณวัคซีน\n              </TabsTrigger>\n              {isAdmin && (\n                <TabsTrigger value=\"user-roles\" className=\"text-sm px-2 py-2\">\n                  จัดการสิทธิ์\n                </TabsTrigger>\n              )}\n              {isAdmin && (\n                <TabsTrigger value=\"settings\" className=\"text-sm px-2 py-2\">\n                  ตั้งค่า\n                </TabsTrigger>\n              )}\n            </TabsList>\n          )}\n\n          <TabsContent value=\"staff-portal\">\n            <StaffPortal />\n          </TabsContent>\n\n          <TabsContent value=\"registrations\">\n            <PatientRegistrationsList />\n          </TabsContent>\n\n          <TabsContent value=\"next-appointments\">\n            <NextAppointments />\n          </TabsContent>\n\n          <TabsContent value=\"past-vaccinations\">\n            <PastVaccinations />\n          </TabsContent>\n\n          <TabsContent value=\"edit-appointments\">\n            <EditPatientAppointment />\n          </TabsContent>\n\n          <TabsContent value=\"vaccine-calculator\">\n            <VaccineScheduleCalculator />\n          </TabsContent>\n\n          {isAdmin && (\n            <TabsContent value=\"user-roles\">\n              <UserRoleManager />\n            </TabsContent>\n          )}\n\n          {isAdmin && (\n            <TabsContent value=\"settings\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>ตั้งค่าระบบ</CardTitle>\n                  <CardDescription>\n                    จัดการการตั้งค่าระบบและสิทธิ์การเข้าถึง\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div className=\"p-4 border rounded-lg\">\n                      <h3 className=\"font-semibold mb-2\">การจัดการผู้ใช้</h3>\n                      <p className=\"text-sm text-muted-foreground\">อีเมล: {user.email}</p>\n                      <p className=\"text-sm text-muted-foreground\">สิทธิ์: {isAdmin ? 'ผู้ดูแลระบบ' : 'เจ้าหน้าที่'}</p>\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                      <h3 className=\"font-semibold mb-2\">การตั้งค่าวัคซีน</h3>\n                      <p className=\"text-sm text-muted-foreground\">จัดการประเภทวัคซีนและตารางการให้</p>\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                      <h3 className=\"font-semibold mb-2\">ระบบแจ้งเตือน</h3>\n                      <div className=\"mt-2 space-y-4\">\n                        <AutoNotificationSystem />\n                        <NotificationTestPanel />\n                      </div>\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                      <h3 className=\"font-semibold mb-2\">จัดการนัดหมายผู้ป่วย</h3>\n                      <div className=\"mt-2\">\n                        <PatientAppointmentManager />\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n          )}\n        </Tabs>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthenticatedStaffPortal;","import AuthenticatedStaffPortal from '@/components/AuthenticatedStaffPortal';\n\nconst StaffPortalPage = () => {\n  return <AuthenticatedStaffPortal />;\n};\n\nexport default StaffPortalPage;","import React from 'react';\n\ninterface HospitalLogoProps {\n  className?: string;\n  size?: number;\n}\n\nexport const HospitalLogo: React.FC<HospitalLogoProps> = ({\n  className = \"mx-auto\",\n  size = 128\n}) => {\n  // Get proper base URL for GitHub Pages\n  const baseUrl = import.meta.env.BASE_URL || '/'\n  const basePath = baseUrl.endsWith('/') ? baseUrl : baseUrl + '/'\n  \n  return (\n    <div className={className} style={{ width: size, height: size }}>\n      <div className=\"w-full h-full rounded-3xl overflow-hidden bg-gradient-to-br from-white/50 to-transparent p-2 backdrop-blur-sm\">\n        <img\n          src={basePath + \"images/hospital-logo.png\"}\n          alt=\"รพ.โฮม - VCHome Hospital Logo\"\n          className=\"w-full h-full object-contain drop-shadow-2xl\"\n          onError={(e) => {\n            // Fallback to other hospital logos if main logo fails\n            const target = e.target as HTMLImageElement;\n            const fallbacks = [\n              basePath + 'images/home-hospital-logo.png',\n              basePath + 'images/home-hospital-logo.svg',\n              basePath + 'favicon-hospital.png'\n            ];\n            \n            const currentSrc = target.src;\n            let nextIndex = -1;\n            \n            if (currentSrc.includes('hospital-logo.png')) {\n              nextIndex = 0;\n            } else if (currentSrc.includes('home-hospital-logo.png')) {\n              nextIndex = 1;\n            } else if (currentSrc.includes('home-hospital-logo.svg')) {\n              nextIndex = 2;\n            }\n            \n            if (nextIndex >= 0 && nextIndex < fallbacks.length) {\n              target.src = fallbacks[nextIndex];\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default HospitalLogo;\n","import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","import * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n  VariantProps<typeof sheetVariants> { }\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet, SheetClose,\n  SheetContent, SheetDescription, SheetFooter, SheetHeader, SheetOverlay, SheetPortal, SheetTitle, SheetTrigger\n}\n\n","import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar:state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContext>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden md:block text-sidebar-foreground\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"rounded-md h-8 flex gap-2 px-2 items-center\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 flex-1 max-w-[--skeleton-width]\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","import { useState, useEffect } from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { \n  Home, \n  Users, \n  Bot, \n  UserPlus, \n  Settings,\n  Calendar,\n  FileText,\n  Activity,\n  Shield,\n  Stethoscope\n} from 'lucide-react';\n\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n} from '@/components/ui/sidebar';\n\nconst navigationItems = [\n  {\n    title: 'หน้าหลัก',\n    url: '/',\n    icon: Home,\n    roles: ['admin']\n  },\n  {\n    title: 'จัดการเจ้าหน้าที่',\n    url: '/staff-portal',\n    icon: Users,\n    roles: ['admin', 'healthcare_staff']\n  },\n  {\n    title: 'LINE Bot',\n    url: '/LineBot',\n    icon: Bot,\n    roles: ['admin']\n  },\n  {\n    title: 'ลงทะเบียนผู้ป่วย',\n    url: '/PatientPortal',\n    icon: UserPlus,\n    roles: ['admin', 'healthcare_staff']\n  },\n];\n\nconst adminItems = [\n  {\n    title: 'ระบบผู้ดูแล',\n    url: '/admin',\n    icon: Shield,\n    roles: ['admin']\n  }\n];\n\nexport function AppSidebar() {\n  const location = useLocation();\n  const currentPath = location.pathname;\n\n  const isActive = (path: string) => {\n    if (path === '/') return currentPath === '/';\n    return currentPath.startsWith(path);\n  };\n\n  const getNavClassName = (path: string) => {\n    return isActive(path) \n      ? \"nav-link-active\" \n      : \"nav-link\";\n  };\n\n  return (\n    <Sidebar className=\"glass-sidebar border-r border-border/20\">\n      <SidebarContent className=\"bg-gradient-sidebar\">\n        {/* Logo Section */}\n        <div className=\"p-6 border-b border-border/20\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl overflow-hidden shadow-md\">\n              <img \n                src={`${import.meta.env.BASE_URL}images/hospital-logo.png`}\n                alt=\"โลโก้โรงพยาบาลโฮม\"\n                className=\"w-full h-full object-contain object-center\"\n              />\n            </div>\n            <div>\n              <h2 className=\"font-bold text-lg text-foreground\">โรงพยาบาลโฮม</h2>\n              <p className=\"text-xs text-muted-foreground\">ระบบจัดการวัคซีน</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Navigation */}\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"text-primary font-semibold\">\n            เมนูหลัก\n          </SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {navigationItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton asChild>\n                    <NavLink \n                      to={item.url} \n                      className={getNavClassName(item.url)}\n                    >\n                      <item.icon className=\"h-5 w-5\" />\n                      <span className=\"font-medium\">{item.title}</span>\n                    </NavLink>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n\n        {/* Admin Navigation */}\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"text-medical-error font-semibold\">\n            ผู้ดูแลระบบ\n          </SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {adminItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton asChild>\n                    <NavLink \n                      to={item.url} \n                      className={getNavClassName(item.url)}\n                    >\n                      <item.icon className=\"h-5 w-5\" />\n                      <span className=\"font-medium\">{item.title}</span>\n                    </NavLink>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n\n        {/* Quick Stats */}\n        <div className=\"mt-auto p-6\">\n          <div className=\"card-glass\">\n            <div className=\"text-center\">\n              <Activity className=\"h-8 w-8 mx-auto text-primary mb-2\" />\n              <h3 className=\"font-semibold text-sm text-foreground mb-1\">\n                ระบบทำงานปกติ\n              </h3>\n              <p className=\"text-xs text-muted-foreground\">\n                อัปเดตล่าสุด: วันนี้\n              </p>\n            </div>\n          </div>\n        </div>\n      </SidebarContent>\n    </Sidebar>\n  );\n}","import { useState } from 'react';\nimport { SidebarProvider, SidebarTrigger } from '@/components/ui/sidebar';\nimport { AppSidebar } from '@/components/AppSidebar';\nimport { Button } from '@/components/ui/button';\nimport { User, LogOut } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useNavigate } from 'react-router-dom';\n\ninterface AppLayoutUser {\n  email?: string;\n  id?: string;\n}\n\ninterface AppLayoutProps {\n  children: React.ReactNode;\n  user?: AppLayoutUser;\n  showSidebar?: boolean;\n  title?: string;\n}\n\nexport function AppLayout({ children, user, showSidebar = true, title }: AppLayoutProps) {\n  const { toast } = useToast();\n  const navigate = useNavigate();\n\n  const handleSignOut = async () => {\n    const { error } = await supabase.auth.signOut();\n    if (error) {\n      toast({\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถออกจากระบบได้\",\n        variant: \"destructive\",\n      });\n    } else {\n      navigate('/auth');\n      toast({\n        title: \"ออกจากระบบสำเร็จ\",\n        description: \"คุณได้ออกจากระบบเรียบร้อยแล้ว\",\n      });\n    }\n  };\n\n  if (!showSidebar) {\n    return (\n      <div className=\"min-h-screen bg-gradient-hero\">\n        {children}\n      </div>\n    );\n  }\n\n  return (\n    <SidebarProvider>\n      <div className=\"min-h-screen flex w-full bg-gradient-hero\">\n        <AppSidebar />\n        \n        <div className=\"flex-1 flex flex-col\">\n          {/* Mobile-optimized Header */}\n          <header className=\"h-14 md:h-16 bg-white/80 backdrop-blur-xl border-b border-border/50 shadow-sm\">\n            <div className=\"flex items-center justify-between h-full px-3 md:px-6\">\n              <div className=\"flex items-center gap-2 md:gap-4\">\n                <SidebarTrigger className=\"text-primary hover:bg-primary/10 transition-colors p-1 md:p-2\" />\n                {title && (\n                  <div>\n                    <h1 className=\"text-lg md:text-xl font-semibold text-foreground truncate\">{title}</h1>\n                  </div>\n                )}\n              </div>\n              \n              {user && (\n                <div className=\"flex items-center gap-2 md:gap-4\">\n                  <div className=\"hidden sm:flex items-center gap-3 px-3 md:px-4 py-1.5 md:py-2 rounded-lg md:rounded-xl bg-accent/50 border border-border/30\">\n                    <User className=\"h-4 w-4 text-primary\" />\n                    <div className=\"text-sm\">\n                      <p className=\"font-medium text-foreground truncate max-w-[120px] md:max-w-none\">{user.email}</p>\n                    </div>\n                  </div>\n                  <Button\n                    onClick={handleSignOut}\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"h-8 md:h-9 px-2 md:px-3 border-destructive/20 hover:bg-destructive/10 hover:text-destructive\"\n                  >\n                    <LogOut className=\"h-4 w-4 md:mr-2\" />\n                    <span className=\"hidden md:inline\">ออกจากระบบ</span>\n                  </Button>\n                </div>\n              )}\n            </div>\n          </header>\n\n          {/* Main Content */}\n          <main className=\"flex-1 p-3 md:p-6\">\n            <div className=\"max-w-7xl mx-auto\">\n              {children}\n            </div>\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Link } from 'react-router-dom';\nimport { Bot, UserPlus, Users, Shield, Activity, TrendingUp, Sparkles, Heart, Calendar, Settings, Bell, BarChart3, Download } from 'lucide-react';\nimport { HospitalLogo } from '@/components/HospitalLogo';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useToast } from '@/hooks/use-toast';\nimport { User as SupabaseUser, Session } from '@supabase/supabase-js';\nimport { AppLayout } from '@/components/AppLayout';\n\nconst HomePage = () => {\n  const [user, setUser] = useState<SupabaseUser | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isHealthcareStaff, setIsHealthcareStaff] = useState(false);\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  useEffect(() => {\n    // Show UI immediately, then check auth in background\n    setIsLoading(false);\n    setIsAdmin(true); // Default to admin for quick access\n    \n    // Set up auth state listener in background (non-blocking)\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        \n        if (session?.user) {\n          // Check roles in background without blocking UI\n          setTimeout(async () => {\n            try {\n              // Check if user is admin\n              const { data: adminCheck, error: adminError } = await supabase\n                .rpc('has_role', { _user_id: session.user.id, _role: 'admin' });\n              \n              // Check if user is healthcare staff\n              const { data: staffCheck, error: staffError } = await supabase\n                .rpc('is_healthcare_staff', { _user_id: session.user.id });\n              \n              if (!adminError && !staffError) {\n                setIsAdmin(adminCheck);\n                setIsHealthcareStaff(staffCheck);\n              }\n            } catch (error) {\n              console.error('Role check failed:', error);\n              // Continue with default admin access on error\n            }\n          }, 100);\n        }\n      }\n    );\n\n    // Check for existing session in background\n    setTimeout(() => {\n      supabase.auth.getSession().then(({ data: { session } }) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n      });\n    }, 50);\n\n    return () => subscription.unsubscribe();\n  }, [navigate]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-hero flex items-center justify-center\">\n        <div className=\"text-center max-w-md bg-white rounded-2xl p-8 shadow-lg\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <h3 className=\"text-lg font-semibold mb-2\">กำลังโหลดระบบ</h3>\n          <p className=\"text-muted-foreground\">โปรดรอสักครู่...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Only admins should see this page\n  if (!isAdmin) {\n    return null; // This shouldn't happen due to navigation logic above\n  }\n\n  return (\n    <AppLayout user={user} title=\"ระบบจัดการหลัก - ผู้ดูแลระบบ\">\n      {/* Hero Section */}\n      <div className=\"mb-8 text-center bg-gradient-to-br from-teal-50 via-white to-cyan-50 rounded-2xl p-8 border border-teal-200/50\">\n        <div className=\"mb-6\">\n          <HospitalLogo className=\"mx-auto\" size={140} />\n        </div>\n        \n        <div className=\"space-y-4 mb-8\">\n          <h1 className=\"text-4xl md:text-5xl font-bold bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 bg-clip-text text-transparent\">\n            ระบบจัดการวัคซีน\n          </h1>\n          \n          <div className=\"flex items-center justify-center gap-3 text-2xl md:text-3xl font-semibold text-gray-700\">\n            <Heart className=\"h-6 w-6 text-red-500\" />\n            <span>VCHome Hospital</span>\n            <Sparkles className=\"h-6 w-6 text-yellow-500\" />\n          </div>\n          \n          <p className=\"text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed\">\n            ระบบจัดการที่ครบครันสำหรับการดูแลผู้ป่วยและการจัดการวัคซีน \n            พร้อมเทคโนโลจีที่ทันสมัย ปลอดภัย และใช้งานง่าย\n          </p>\n        </div>\n        \n        <div className=\"flex flex-wrap justify-center gap-3\">\n          <div className=\"inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-medium\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n            ระบบพร้อมใช้งาน\n          </div>\n          <div className=\"inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-full text-sm font-medium\">\n            <Shield className=\"h-4 w-4\" />\n            ปลอดภัย 100%\n          </div>\n          <div className=\"inline-flex items-center gap-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-full text-sm font-medium\">\n            <Activity className=\"h-4 w-4\" />\n            24/7 Support\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <Card className=\"p-6 hover:shadow-lg transition-shadow\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">นัดหมายวันนี้</p>\n              <p className=\"text-3xl font-bold text-blue-600\">12</p>\n              <p className=\"text-xs text-green-600 mt-1\">+8.2% จากเมื่อวาน</p>\n            </div>\n            <Calendar className=\"h-8 w-8 text-blue-600\" />\n          </div>\n        </Card>\n        \n        <Card className=\"p-6 hover:shadow-lg transition-shadow\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">ผู้ป่วยทั้งหมด</p>\n              <p className=\"text-3xl font-bold text-green-600\">156</p>\n              <p className=\"text-xs text-green-600 mt-1\">+12.5% เดือนนี้</p>\n            </div>\n            <Users className=\"h-8 w-8 text-green-600\" />\n          </div>\n        </Card>\n        \n        <Card className=\"p-6 hover:shadow-lg transition-shadow\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">เจ้าหน้าที่</p>\n              <p className=\"text-3xl font-bold text-purple-600\">8</p>\n              <p className=\"text-xs text-gray-600 mt-1\">ออนไลน์</p>\n            </div>\n            <Shield className=\"h-8 w-8 text-purple-600\" />\n          </div>\n        </Card>\n        \n        <Card className=\"p-6 hover:shadow-lg transition-shadow\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">ความสำเร็จ</p>\n              <p className=\"text-3xl font-bold text-teal-600\">98.5%</p>\n              <p className=\"text-xs text-green-600 mt-1\">+2.1% ปรับปรุง</p>\n            </div>\n            <TrendingUp className=\"h-8 w-8 text-teal-600\" />\n          </div>\n        </Card>\n      </div>\n\n      {/* Main Navigation Cards */}\n      <div className=\"grid md:grid-cols-3 gap-8 mb-8\">\n        <Card className=\"hover:shadow-xl transition-all duration-300 hover:-translate-y-1\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-teal-100 rounded-xl\">\n                <Users className=\"h-6 w-6 text-teal-600\" />\n              </div>\n              จัดการนัดหมาย\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-muted-foreground mb-6 leading-relaxed\">\n              หน้าสำหรับเจ้าหน้าที่จัดการนัดหมายผู้ป่วยและติดตามการฉีดวัคซีน พร้อมระบบแจ้งเตือนและรายงานแบบเรียลไทม์\n            </p>\n            <Button asChild className=\"w-full\">\n              <Link to=\"/auth\">\n                <Activity className=\"h-4 w-4 mr-2\" />\n                เข้าสู่ระบบ\n              </Link>\n            </Button>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-xl transition-all duration-300 hover:-translate-y-1\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-blue-100 rounded-xl\">\n                <Bot className=\"h-6 w-6 text-blue-600\" />\n              </div>\n              LINE Bot Management\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-muted-foreground mb-6 leading-relaxed\">\n              จัดการการตั้งค่า LINE Bot และทดสอบการเชื่อมต่อกับผู้ป่วย รวมถึงการส่งข้อความแจ้งเตือนอัตโนมัติ\n            </p>\n            <Button asChild className=\"w-full\" variant=\"outline\">\n              <Link to=\"/LineBot\">\n                <Bot className=\"h-4 w-4 mr-2\" />\n                เข้าสู่ระบบ\n              </Link>\n            </Button>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-xl transition-all duration-300 hover:-translate-y-1\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-green-100 rounded-xl\">\n                <UserPlus className=\"h-6 w-6 text-green-600\" />\n              </div>\n              ลงทะเบียนผู้ป่วย\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-muted-foreground mb-6 leading-relaxed\">\n              หน้าสำหรับผู้ป่วยลงทะเบียนฉีดวัคซีนและจองนัดหมาย พร้อมระบบตรวจสอบประวัติและคำแนะนำ\n            </p>\n            <Button asChild className=\"w-full\" variant=\"outline\">\n              <Link to=\"/PatientPortal\">\n                <UserPlus className=\"h-4 w-4 mr-2\" />\n                เข้าสู่ระบบ\n              </Link>\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Admin Section */}\n      <div className=\"grid md:grid-cols-2 gap-8 mb-8\">\n        <Card className=\"bg-gradient-to-br from-teal-50 to-cyan-50 border-teal-200\">\n          <CardContent className=\"p-8\">\n            <div className=\"flex items-center gap-4 mb-6\">\n              <div className=\"p-4 bg-teal-600 rounded-2xl\">\n                <Shield className=\"h-8 w-8 text-white\" />\n              </div>\n              <div>\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-1\">\n                  สิทธิ์ผู้ดูแลระบบ\n                </h3>\n                <p className=\"text-gray-600\">Administrator Access</p>\n              </div>\n            </div>\n            \n            <p className=\"text-gray-700 leading-relaxed mb-6\">\n              คุณมีสิทธิ์เข้าถึงทุกระบบและจัดการข้อมูลทั้งหมด รวมถึงการตั้งค่าระบบ \n              จัดการผู้ใช้งาน และควบคุมการเข้าถึงข้อมูล\n            </p>\n            \n            <div className=\"flex flex-wrap gap-2\">\n              <div className=\"inline-flex items-center gap-2 bg-green-100 text-green-700 px-3 py-1.5 rounded-full text-sm font-medium\">\n                <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n                Full Access\n              </div>\n              <div className=\"inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-3 py-1.5 rounded-full text-sm font-medium\">\n                <Activity className=\"h-3 w-3\" />\n                System Active\n              </div>\n              <div className=\"inline-flex items-center gap-2 bg-purple-100 text-purple-700 px-3 py-1.5 rounded-full text-sm font-medium\">\n                <BarChart3 className=\"h-3 w-3\" />\n                Analytics\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-8\">\n            <h3 className=\"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2\">\n              <Settings className=\"h-5 w-5\" />\n              การดำเนินการด่วน\n            </h3>\n            \n            <div className=\"space-y-4\">\n              <Button \n                className=\"w-full justify-start h-12\"\n                variant=\"outline\"\n                onClick={() => navigate('/admin')}\n              >\n                <Settings className=\"h-4 w-4 mr-3\" />\n                ตั้งค่าระบบ\n              </Button>\n              \n              <Button \n                className=\"w-full justify-start h-12\"\n                variant=\"outline\"\n                onClick={() => navigate('/reports')}\n              >\n                <BarChart3 className=\"h-4 w-4 mr-3\" />\n                รายงานและสถิติ\n              </Button>\n              \n              <Button \n                className=\"w-full justify-start h-12\"\n                variant=\"outline\"\n                onClick={() => navigate('/notifications')}\n              >\n                <Bell className=\"h-4 w-4 mr-3\" />\n                จัดการการแจ้งเตือน\n              </Button>\n              \n              <Button \n                className=\"w-full justify-start h-12 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white\"\n                onClick={() => navigate('/download')}\n              >\n                <Download className=\"h-4 w-4 mr-3\" />\n                ดาวน์โหลด Desktop App\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Extra Content for Testing Scroll - ลบออกได้เมื่อมีเนื้อหาจริงเพียงพอ */}\n      <div className=\"mt-8 p-8 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl border border-blue-200\">\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">📊 ระบบรายงานและสถิติ</h2>\n        <div className=\"space-y-4\">\n          {[1, 2, 3, 4, 5, 6, 7, 8].map((i) => (\n            <Card key={i} className=\"p-6\">\n              <h3 className=\"font-semibold text-lg mb-2\">รายงานที่ {i}</h3>\n              <p className=\"text-muted-foreground\">\n                ข้อมูลสถิติและรายงานต่างๆ ของระบบ รวมถึงการวิเคราะห์ข้อมูลผู้ป่วย\n                การติดตามผลการฉีดวัคซีน และประสิทธิภาพของระบบโดยรวม ช่วยให้สามารถ\n                ตัดสินใจเชิงกลยุทธ์ได้อย่างมีประสิทธิภาพ\n              </p>\n            </Card>\n          ))}\n        </div>\n      </div>\n    </AppLayout>\n  );\n};\n\nexport default HomePage;","import { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useToast } from '@/hooks/use-toast';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { LogIn, UserPlus, Home } from 'lucide-react';\nimport type { User, Session } from '@supabase/supabase-js';\nimport { AuthApiError } from '@supabase/supabase-js';\n\n/** Build correct site URL for redirects (works on GitHub Pages and local dev) */\nconst BASE_URL = (import.meta.env.BASE_URL || '/');\nconst SITE_URL = (\n  import.meta.env.VITE_PUBLIC_SITE_URL // e.g. https://moradok.github.io/VaccineHomeBot\n    ?? (window.location.origin + BASE_URL)\n).replace(/\\/+$/, ''); // trim trailing slash(es)\n\nconst AuthPage = () => {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSignUp, setIsSignUp] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [showResetPassword, setShowResetPassword] = useState(false);\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  /** Guard flag to prevent redirects while in recovery flow */\n  const isRecoveryRef = useRef(false);\n\n  useEffect(() => {\n    const url = new URL(window.location.href);\n    const query = url.searchParams;\n    const hashParams = new URLSearchParams(url.hash.slice(1));\n\n    const type = query.get('type') || hashParams.get('type');\n    const code = query.get('code') || hashParams.get('code');\n    const accessToken = hashParams.get('access_token');\n    const refreshToken = hashParams.get('refresh_token');\n\n    // If coming from recovery link\n    if (type === 'recovery') {\n      isRecoveryRef.current = true;\n      setShowResetPassword(true);\n\n      // Newer flow: ?code=...\n      if (code) {\n        supabase.auth.exchangeCodeForSession(code).then(({ error }) => {\n          if (error) {\n            console.error('exchangeCodeForSession error:', error);\n            toast({\n              title: 'ลิงก์รีเซ็ตรหัสผ่านใช้ไม่ได้',\n              description: 'ลิงก์อาจหมดอายุหรือไม่ถูกต้อง',\n              variant: 'destructive',\n            });\n            setShowResetPassword(false);\n            isRecoveryRef.current = false;\n          }\n        });\n      }\n      // Legacy flow: #access_token & #refresh_token in hash\n      else if (accessToken && refreshToken) {\n        supabase.auth.setSession({\n          access_token: accessToken,\n          refresh_token: refreshToken,\n        }).then(({ error }) => {\n          if (error) {\n            console.error('setSession error:', error);\n            toast({\n              title: 'เกิดข้อผิดพลาด',\n              description: 'ลิงก์รีเซ็ตรหัสผ่านไม่ถูกต้องหรือหมดอายุแล้ว',\n              variant: 'destructive',\n            });\n            setShowResetPassword(false);\n            isRecoveryRef.current = false;\n          }\n        });\n      }\n    }\n\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, sess) => {\n        // Keep local states for possible use/display\n        setSession(sess);\n        setUser(sess?.user ?? null);\n\n        if (event === 'PASSWORD_RECOVERY') {\n          setShowResetPassword(true);\n          isRecoveryRef.current = true;\n          return;\n        }\n\n        // If already authenticated and not in recovery flow -> go to staff portal\n        if (sess?.user && !isRecoveryRef.current) {\n          navigate('/staff-portal', { replace: true });\n          toast({\n            title: 'เข้าสู่ระบบสำเร็จ',\n            description: 'ยินดีต้อนรับเข้าสู่ระบบจัดการนัดหมาย',\n          });\n        }\n      }\n    );\n\n    // Initial session check (e.g., reload while logged in)\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      if (session?.user && !isRecoveryRef.current) {\n        navigate('/staff-portal', { replace: true });\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, [navigate, toast]);\n\n  const handleSignIn = async () => {\n    setIsLoading(true);\n    try {\n      const { error } = await supabase.auth.signInWithPassword({ email, password });\n\n      if (error) {\n        if (error instanceof AuthApiError && error.status === 400) {\n          toast({\n            title: 'ข้อผิดพลาด',\n            description: 'อีเมลหรือรหัสผ่านไม่ถูกต้อง',\n            variant: 'destructive',\n          });\n        } else if (error.message?.toLowerCase().includes('email not confirmed')) {\n          toast({\n            title: 'ยืนยันอีเมล',\n            description: 'กรุณาตรวจสอบอีเมลและคลิกลิงก์ยืนยัน',\n            variant: 'destructive',\n          });\n        } else {\n          toast({\n            title: 'เกิดข้อผิดพลาด',\n            description: error.message,\n            variant: 'destructive',\n          });\n        }\n        return;\n      }\n      // Success will be handled by onAuthStateChange\n    } catch {\n      toast({\n        title: 'เกิดข้อผิดพลาด',\n        description: 'ไม่สามารถเข้าสู่ระบบได้ กรุณาลองใหม่',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSignUp = async () => {\n    setIsLoading(true);\n    try {\n      const redirectUrl = `${SITE_URL}/`; // after email confirmation\n      const { error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: { emailRedirectTo: redirectUrl },\n      });\n\n      if (error) {\n        if (error.message?.toLowerCase().includes('already registered')) {\n          toast({\n            title: 'ข้อผิดพลาด',\n            description: 'อีเมลนี้ได้รับการลงทะเบียนแล้ว กรุณาเข้าสู่ระบบ',\n            variant: 'destructive',\n          });\n        } else if (error.message?.toLowerCase().includes('password')) {\n          toast({\n            title: 'รหัสผ่านไม่ถูกต้อง',\n            description: 'รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร',\n            variant: 'destructive',\n          });\n        } else {\n          toast({\n            title: 'เกิดข้อผิดพลาด',\n            description: error.message,\n            variant: 'destructive',\n          });\n        }\n        return;\n      }\n\n      toast({\n        title: 'ลงทะเบียนสำเร็จ',\n        description: 'กรุณาตรวจสอบอีเมลเพื่อยืนยันบัญชี',\n      });\n      setIsSignUp(false);\n    } catch {\n      toast({\n        title: 'เกิดข้อผิดพลาด',\n        description: 'ไม่สามารถลงทะเบียนได้ กรุณาลองใหม่',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleForgotPassword = async () => {\n    if (!email) {\n      toast({\n        title: 'กรุณากรอกอีเมล',\n        description: 'กรุณากรอกอีเมลของคุณเพื่อรีเซ็ตรหัสผ่าน',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const { error } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: `${SITE_URL}/auth?type=recovery`,\n      });\n\n      if (error) {\n        toast({\n          title: 'เกิดข้อผิดพลาด',\n          description: error.message,\n          variant: 'destructive',\n        });\n      } else {\n        toast({\n          title: 'ส่งอีเมลรีเซ็ตรหัสผ่านแล้ว',\n          description: 'กรุณาตรวจสอบอีเมลของคุณและคลิกลิงก์เพื่อรีเซ็ตรหัสผ่าน',\n        });\n        setShowForgotPassword(false);\n      }\n    } catch {\n      toast({\n        title: 'เกิดข้อผิดพลาด',\n        description: 'ไม่สามารถส่งอีเมลรีเซ็ตรหัสผ่านได้ กรุณาลองใหม่',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUpdatePassword = async () => {\n    if (!newPassword || !confirmPassword) {\n      toast({\n        title: 'กรุณากรอกรหัสผ่าน',\n        description: 'กรุณากรอกรหัสผ่านใหม่และยืนยันรหัสผ่าน',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    if (newPassword !== confirmPassword) {\n      toast({\n        title: 'รหัสผ่านไม่ตรงกัน',\n        description: 'รหัสผ่านใหม่และการยืนยันรหัสผ่านไม่ตรงกัน',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    if (newPassword.length < 6) {\n      toast({\n        title: 'รหัสผ่านสั้นเกินไป',\n        description: 'รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const { error } = await supabase.auth.updateUser({ password: newPassword });\n\n      if (error) {\n        toast({\n          title: 'เกิดข้อผิดพลาด',\n          description: error.message,\n          variant: 'destructive',\n        });\n      } else {\n        toast({\n          title: 'เปลี่ยนรหัสผ่านสำเร็จ',\n          description: 'รหัสผ่านของคุณได้รับการอัปเดตแล้ว กำลังนำคุณเข้าสู่ระบบ',\n        });\n\n        // Clear URL params and move back to /auth cleanly\n        navigate('/auth', { replace: true });\n\n        // Small delay then go to portal\n        setTimeout(() => {\n          isRecoveryRef.current = false;\n          setShowResetPassword(false);\n          navigate('/staff-portal', { replace: true });\n        }, 800);\n      }\n    } catch {\n      toast({\n        title: 'เกิดข้อผิดพลาด',\n        description: 'ไม่สามารถเปลี่ยนรหัสผ่านได้ กรุณาลองใหม่',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (showResetPassword) {\n      handleUpdatePassword();\n    } else if (showForgotPassword) {\n      handleForgotPassword();\n    } else if (isSignUp) {\n      handleSignUp();\n    } else {\n      handleSignIn();\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-green-100/30 to-white flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md space-y-6\">\n        {/* Header */}\n        <div className=\"text-center space-y-6\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"w-32 h-32 bg-gradient-to-br from-primary/20 via-green-400/10 to-emerald-500/20 rounded-full blur-2xl animate-pulse\"></div>\n            </div>\n            <div className=\"relative z-10 space-y-3\">\n              <h1 className=\"text-5xl font-black bg-gradient-to-r from-primary via-green-600 to-emerald-600 bg-clip-text text-transparent animate-fade-in\">\n                โรงพยาบาลโฮม\n              </h1>\n              <div className=\"w-24 h-1 bg-gradient-to-r from-primary to-emerald-500 mx-auto rounded-full\"></div>\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <p className=\"text-xl font-semibold text-foreground/90\">ระบบจัดการการนัดหมายและวัคซีน</p>\n            <p className=\"text-sm text-muted-foreground font-medium\">เข้าสู่ระบบเพื่อจัดการข้อมูลอย่างปลอดภัย</p>\n          </div>\n        </div>\n\n        {showResetPassword ? (\n          <Card className=\"border-2 border-blue-200 shadow-xl bg-white/95 backdrop-blur-sm animate-scale-in\">\n            <CardHeader className=\"pb-2\">\n              <CardTitle className=\"text-center\">\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-center gap-3\">\n                    <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center\">\n                      <LogIn className=\"h-4 w-4 text-white\" />\n                    </div>\n                    <span className=\"text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent\">\n                      ตั้งรหัสผ่านใหม่\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground font-medium\">\n                    กรุณาสร้างรหัสผ่านใหม่สำหรับบัญชีของคุณ\n                  </p>\n                </div>\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <form onSubmit={handleSubmit} className=\"space-y-5\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-password\">รหัสผ่านใหม่</Label>\n                  <Input\n                    id=\"new-password\"\n                    type=\"password\"\n                    placeholder=\"รหัสผ่านใหม่ (อย่างน้อย 6 ตัวอักษร)\"\n                    value={newPassword}\n                    onChange={(e) => setNewPassword(e.target.value)}\n                    required\n                    minLength={6}\n                    className=\"border-2 border-blue-300 focus:border-blue-500\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"confirm-password\">ยืนยันรหัสผ่านใหม่</Label>\n                  <Input\n                    id=\"confirm-password\"\n                    type=\"password\"\n                    placeholder=\"ยืนยันรหัสผ่านใหม่\"\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    required\n                    minLength={6}\n                    className=\"border-2 border-blue-300 focus:border-blue-500\"\n                  />\n                </div>\n                <Button\n                  type=\"submit\"\n                  className=\"w-full h-12 text-base font-semibold bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-500/90 hover:to-purple-500/90 shadow-lg hover:shadow-xl transition-all duration-300\"\n                  disabled={isLoading}\n                  aria-busy={isLoading}\n                >\n                  {isLoading ? (\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3\"></div>\n                  ) : null}\n                  อัปเดตรหัสผ่าน\n                </Button>\n                <div className=\"text-center\">\n                  <Button\n                    type=\"button\"\n                    variant=\"link\"\n                    onClick={() => {\n                      setShowResetPassword(false);\n                      isRecoveryRef.current = false;\n                      navigate('/auth', { replace: true });\n                    }}\n                    className=\"text-sm text-muted-foreground hover:text-foreground font-medium\"\n                  >\n                    กลับไปเข้าสู่ระบบ\n                  </Button>\n                </div>\n              </form>\n            </CardContent>\n          </Card>\n        ) : (\n          <Card className=\"border-2 border-green-200 shadow-xl bg-white/95 backdrop-blur-sm animate-scale-in\">\n            <CardHeader className=\"pb-2\">\n              <CardTitle className=\"text-center\">\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-center gap-3\">\n                    <div className=\"w-8 h-8 bg-gradient-to-br from-primary to-emerald-500 rounded-lg flex items-center justify-center\">\n                      <LogIn className=\"h-4 w-4 text-white\" />\n                    </div>\n                    <span className=\"text-2xl font-bold bg-gradient-to-r from-primary to-emerald-600 bg-clip-text text-transparent\">\n                      เข้าสู่ระบบ\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground font-medium\">\n                    เลือกระหว่างเข้าสู่ระบบหรือสร้างบัญชีใหม่\n                  </p>\n                </div>\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              {!showForgotPassword ? (\n                <Tabs value={isSignUp ? 'signup' : 'signin'} onValueChange={(v) => setIsSignUp(v === 'signup')}>\n                  <TabsList className=\"grid w-full grid-cols-2 bg-green-50 p-1 rounded-xl border border-green-200\">\n                    <TabsTrigger\n                      value=\"signin\"\n                      className=\"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-green-200 rounded-lg font-semibold transition-all duration-300\"\n                    >\n                      <LogIn className=\"h-4 w-4\" />\n                      เข้าสู่ระบบ\n                    </TabsTrigger>\n                    <TabsTrigger\n                      value=\"signup\"\n                      className=\"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-green-200 rounded-lg font-semibold transition-all duration-300\"\n                    >\n                      <UserPlus className=\"h-4 w-4\" />\n                      ลงทะเบียน\n                    </TabsTrigger>\n                  </TabsList>\n\n                  <TabsContent value=\"signin\" className=\"mt-8 animate-fade-in\">\n                    <div className=\"mb-6 text-center\">\n                      <h3 className=\"text-lg font-semibold text-foreground mb-2\">ยินดีต้อนรับกลับ</h3>\n                      <p className=\"text-sm text-muted-foreground\">กรอกข้อมูลเพื่อเข้าสู่ระบบ</p>\n                    </div>\n                    <form onSubmit={handleSubmit} className=\"space-y-5\">\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"email\">อีเมล</Label>\n                        <Input\n                          id=\"email\"\n                          type=\"email\"\n                          placeholder=\"example@email.com\"\n                          value={email}\n                          onChange={(e) => setEmail(e.target.value)}\n                          required\n                          className=\"border-2 border-green-300 focus:border-primary\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"password\">รหัสผ่าน</Label>\n                        <Input\n                          id=\"password\"\n                          type=\"password\"\n                          placeholder=\"รหัสผ่าน\"\n                          value={password}\n                          onChange={(e) => setPassword(e.target.value)}\n                          required\n                          className=\"border-2 border-green-300 focus:border-primary\"\n                        />\n                      </div>\n                      <Button\n                        type=\"submit\"\n                        className=\"w-full h-12 text-base font-semibold bg-gradient-to-r from-primary to-emerald-500 hover:from-primary/90 hover:to-emerald-500/90 shadow-lg hover:shadow-xl transition-all duration-300\"\n                        disabled={isLoading}\n                        aria-busy={isLoading}\n                      >\n                        {isLoading ? (\n                          <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3\"></div>\n                        ) : (\n                          <LogIn className=\"h-5 w-5 mr-3\" />\n                        )}\n                        เข้าสู่ระบบ\n                      </Button>\n                      <div className=\"text-center mt-4\">\n                        <Button\n                          type=\"button\"\n                          variant=\"link\"\n                          onClick={() => setShowForgotPassword(true)}\n                          className=\"text-sm text-primary hover:text-primary/80 font-medium\"\n                        >\n                          ลืมรหัสผ่าน?\n                        </Button>\n                      </div>\n                    </form>\n                  </TabsContent>\n\n                  <TabsContent value=\"signup\" className=\"mt-8 animate-fade-in\">\n                    <div className=\"mb-6 text-center\">\n                      <h3 className=\"text-lg font-semibold text-foreground mb-2\">สร้างบัญชีใหม่</h3>\n                      <p className=\"text-sm text-muted-foreground\">เริ่มต้นใช้งานระบบจัดการการนัดหมาย</p>\n                    </div>\n                    <form onSubmit={handleSubmit} className=\"space-y-5\">\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"signup-email\">อีเมล</Label>\n                        <Input\n                          id=\"signup-email\"\n                          type=\"email\"\n                          placeholder=\"example@email.com\"\n                          value={email}\n                          onChange={(e) => setEmail(e.target.value)}\n                          required\n                          className=\"border-2 border-green-300 focus:border-primary\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"signup-password\">รหัสผ่าน</Label>\n                        <Input\n                          id=\"signup-password\"\n                          type=\"password\"\n                          placeholder=\"รหัสผ่าน (อย่างน้อย 6 ตัวอักษร)\"\n                          value={password}\n                          onChange={(e) => setPassword(e.target.value)}\n                          required\n                          minLength={6}\n                          className=\"border-2 border-green-300 focus:border-primary\"\n                        />\n                      </div>\n                      <Button\n                        type=\"submit\"\n                        className=\"w-full h-12 text-base font-semibold bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-500/90 hover:to-green-500/90 shadow-lg hover:shadow-xl transition-all duration-300\"\n                        disabled={isLoading}\n                        aria-busy={isLoading}\n                      >\n                        {isLoading ? (\n                          <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3\"></div>\n                        ) : (\n                          <UserPlus className=\"h-5 w-5 mr-3\" />\n                        )}\n                        ลงทะเบียน\n                      </Button>\n                    </form>\n                  </TabsContent>\n                </Tabs>\n              ) : (\n                <div className=\"mt-8 animate-fade-in\">\n                  <div className=\"mb-6 text-center\">\n                    <h3 className=\"text-lg font-semibold text-foreground mb-2\">รีเซ็ตรหัสผ่าน</h3>\n                    <p className=\"text-sm text-muted-foreground\">กรอกอีเมลของคุณเพื่อรับลิงก์รีเซ็ตรหัสผ่าน</p>\n                  </div>\n                  <form onSubmit={handleSubmit} className=\"space-y-5\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"reset-email\">อีเมล</Label>\n                      <Input\n                        id=\"reset-email\"\n                        type=\"email\"\n                        placeholder=\"example@email.com\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        required\n                        className=\"border-2 border-green-300 focus:border-primary\"\n                      />\n                    </div>\n                    <Button\n                      type=\"submit\"\n                      className=\"w-full h-12 text-base font-semibold bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-500/90 hover:to-purple-500/90 shadow-lg hover:shadow-xl transition-all duration-300\"\n                      disabled={isLoading}\n                      aria-busy={isLoading}\n                    >\n                      {isLoading ? (\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3\"></div>\n                      ) : null}\n                      ส่งลิงก์รีเซ็ตรหัสผ่าน\n                    </Button>\n                    <div className=\"text-center\">\n                      <Button\n                        type=\"button\"\n                        variant=\"link\"\n                        onClick={() => setShowForgotPassword(false)}\n                        className=\"text-sm text-muted-foreground hover:text-foreground font-medium\"\n                      >\n                        กลับไปเข้าสู่ระบบ\n                      </Button>\n                    </div>\n                  </form>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {!showResetPassword && (\n          <div className=\"text-center\">\n            <Button\n              variant=\"outline\"\n              onClick={() => navigate('/')}\n              className=\"flex items-center gap-2 border-2 border-green-200 hover:bg-green-50 hover:border-primary transition-all duration-300 font-medium\"\n            >\n              <Home className=\"h-4 w-4\" />\n              กลับหน้าหลัก\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AuthPage;\n","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst SimpleAuthPage = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleGuestAccess = () => {\n    setIsLoading(true);\n    // Simulate quick loading\n    setTimeout(() => {\n      navigate('/admin');\n    }, 500);\n  };\n\n  const handleStaffLogin = () => {\n    setIsLoading(true);\n    setTimeout(() => {\n      navigate('/auth'); // Redirect to login page\n    }, 500);\n  };\n\n  const handlePatientPortal = () => {\n    setIsLoading(true);\n    setTimeout(() => {\n      navigate('/patient-portal');\n    }, 500);\n  };\n\n  return (\n    <div style={{\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      minHeight: '100vh',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      background: 'hsl(210, 40%, 98%)'\n    }}>\n      <div style={{\n        textAlign: 'center',\n        color: 'hsl(210, 25%, 15%)',\n        maxWidth: '500px',\n        padding: '40px'\n      }}>\n        {/* Logo */}\n        <div style={{\n          width: '100px',\n          height: '100px',\n          background: 'hsl(170, 50%, 45%)',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          margin: '0 auto 30px',\n          fontSize: '50px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        }}>\n          🏥\n        </div>\n\n        {/* Title */}\n        <h1 style={{\n          margin: '0 0 10px 0',\n          fontSize: '32px',\n          fontWeight: '700',\n          color: 'hsl(170, 50%, 45%)'\n        }}>\n          VCHome Hospital\n        </h1>\n        \n        <h2 style={{\n          margin: '0 0 40px 0',\n          fontSize: '24px',\n          color: 'hsl(210, 25%, 15%)',\n          fontWeight: '600'\n        }}>\n          ระบบจัดการวัคซีน\n        </h2>\n\n        {/* Quick Access Buttons */}\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '15px',\n          marginBottom: '30px'\n        }}>\n          <button\n            onClick={handleGuestAccess}\n            disabled={isLoading}\n            style={{\n              padding: '15px 30px',\n              background: 'hsl(170, 50%, 45%)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '12px',\n              fontSize: '16px',\n              fontWeight: '600',\n              cursor: isLoading ? 'not-allowed' : 'pointer',\n              opacity: isLoading ? 0.7 : 1,\n              boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n              transition: 'all 0.2s'\n            }}\n          >\n            {isLoading ? 'กำลังเข้าสู่ระบบ...' : '🔧 เข้าสู่ระบบผู้ดูแล'}\n          </button>\n\n          <button\n            onClick={handleStaffLogin}\n            disabled={isLoading}\n            style={{\n              padding: '15px 30px',\n              background: 'white',\n              color: 'hsl(170, 50%, 45%)',\n              border: '2px solid hsl(170, 50%, 45%)',\n              borderRadius: '12px',\n              fontSize: '16px',\n              fontWeight: '600',\n              cursor: isLoading ? 'not-allowed' : 'pointer',\n              opacity: isLoading ? 0.7 : 1,\n              transition: 'all 0.2s'\n            }}\n          >\n            {isLoading ? 'กำลังเข้าสู่ระบบ...' : '👩‍⚕️ เจ้าหน้าที่'}\n          </button>\n\n          <button\n            onClick={handlePatientPortal}\n            disabled={isLoading}\n            style={{\n              padding: '15px 30px',\n              background: 'white',\n              color: 'hsl(170, 50%, 45%)',\n              border: '2px solid hsl(170, 50%, 45%)',\n              borderRadius: '12px',\n              fontSize: '16px',\n              fontWeight: '600',\n              cursor: isLoading ? 'not-allowed' : 'pointer',\n              opacity: isLoading ? 0.7 : 1,\n              transition: 'all 0.2s'\n            }}\n          >\n            {isLoading ? 'กำลังเข้าสู่ระบบ...' : '👤 ผู้ป่วย'}\n          </button>\n        </div>\n\n        {/* Info */}\n        <div style={{\n          padding: '20px',\n          background: 'white',\n          borderRadius: '12px',\n          boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n          marginBottom: '20px'\n        }}>\n          <h3 style={{\n            margin: '0 0 15px 0',\n            color: 'hsl(170, 50%, 45%)',\n            fontSize: '18px'\n          }}>\n            🚀 เข้าใช้งานด่วน\n          </h3>\n          <p style={{\n            margin: '0',\n            fontSize: '14px',\n            color: 'hsl(210, 25%, 40%)',\n            lineHeight: '1.5'\n          }}>\n            เลือกประเภทผู้ใช้งานเพื่อเข้าสู่ระบบ<br />\n            ระบบจะนำคุณไปยังหน้าที่เหมาะสม\n          </p>\n        </div>\n\n        <p style={{\n          margin: '0',\n          opacity: '0.5',\n          fontSize: '13px'\n        }}>\n          VCHome Hospital Management System v1.0.0\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default SimpleAuthPage;","import { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst LoadingPage = () => {\n  const [progress, setProgress] = useState(0);\n  const [status, setStatus] = useState('เริ่มต้นระบบ...');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const steps = [\n      { progress: 20, status: 'กำลังโหลดส่วนประกอบ...', delay: 300 },\n      { progress: 40, status: 'กำลังเตรียมระบบ...', delay: 500 },\n      { progress: 60, status: 'กำลังตรวจสอบการเชื่อมต่อ...', delay: 700 },\n      { progress: 80, status: 'เกือบเสร็จแล้ว...', delay: 900 },\n      { progress: 100, status: 'เสร็จสิ้น!', delay: 1200 }\n    ];\n\n    let currentStep = 0;\n    const interval = setInterval(() => {\n      if (currentStep < steps.length) {\n        const step = steps[currentStep];\n        setProgress(step.progress);\n        setStatus(step.status);\n        currentStep++;\n      } else {\n        clearInterval(interval);\n        // Navigate to auth page after loading\n        setTimeout(() => {\n          navigate('/auth');\n        }, 500);\n      }\n    }, 400);\n\n    return () => clearInterval(interval);\n  }, [navigate]);\n\n  return (\n    <div style={{\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      minHeight: '100vh',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      background: 'hsl(210, 40%, 98%)'\n    }}>\n      <div style={{\n        textAlign: 'center',\n        color: 'hsl(210, 25%, 15%)',\n        maxWidth: '400px',\n        padding: '40px'\n      }}>\n        {/* Logo */}\n        <div style={{\n          width: '80px',\n          height: '80px',\n          background: 'hsl(170, 50%, 45%)',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          margin: '0 auto 30px',\n          fontSize: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        }}>\n          🏥\n        </div>\n\n        {/* Title */}\n        <h1 style={{\n          margin: '0 0 10px 0',\n          fontSize: '28px',\n          fontWeight: '700',\n          color: 'hsl(170, 50%, 45%)'\n        }}>\n          VCHome Hospital\n        </h1>\n        \n        <h2 style={{\n          margin: '0 0 30px 0',\n          fontSize: '20px',\n          color: 'hsl(210, 25%, 15%)',\n          fontWeight: '600'\n        }}>\n          ระบบจัดการวัคซีน\n        </h2>\n\n        {/* Progress Bar */}\n        <div style={{\n          width: '100%',\n          height: '8px',\n          background: 'hsl(170, 50%, 45%, 0.2)',\n          borderRadius: '4px',\n          overflow: 'hidden',\n          marginBottom: '20px'\n        }}>\n          <div style={{\n            width: `${progress}%`,\n            height: '100%',\n            background: 'hsl(170, 50%, 45%)',\n            borderRadius: '4px',\n            transition: 'width 0.3s ease-out'\n          }} />\n        </div>\n\n        {/* Status */}\n        <p style={{\n          margin: '0 0 10px 0',\n          opacity: '0.7',\n          fontSize: '16px'\n        }}>\n          {status}\n        </p>\n\n        {/* Progress Percentage */}\n        <p style={{\n          margin: '0',\n          opacity: '0.5',\n          fontSize: '14px'\n        }}>\n          {progress}%\n        </p>\n\n        {/* Hospital Info */}\n        <div style={{\n          marginTop: '40px',\n          padding: '20px',\n          background: 'white',\n          borderRadius: '12px',\n          boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\n        }}>\n          <p style={{\n            margin: '0',\n            fontSize: '14px',\n            color: 'hsl(210, 25%, 40%)',\n            lineHeight: '1.5'\n          }}>\n            โรงพยาบาลโฮม<br />\n            ระบบจัดการวัคซีนและนัดหมายการฉีดวัคซีน\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoadingPage;","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst FastIndexPage = () => {\n  const [loading, setLoading] = useState(true);\n  const [progress, setProgress] = useState(0);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Fast loading simulation\n    const timer = setInterval(() => {\n      setProgress(prev => {\n        if (prev >= 100) {\n          clearInterval(timer);\n          setLoading(false);\n          return 100;\n        }\n        return prev + 20;\n      });\n    }, 200);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  const handleQuickAccess = (path: string) => {\n    navigate(path);\n  };\n\n  if (loading) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        minHeight: '100vh',\n        fontFamily: 'system-ui, sans-serif',\n        background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)'\n      }}>\n        <div style={{\n          textAlign: 'center',\n          padding: '40px',\n          background: 'white',\n          borderRadius: '16px',\n          boxShadow: '0 10px 40px rgba(0,0,0,0.1)',\n          maxWidth: '400px',\n          width: '90%'\n        }}>\n          {/* Logo */}\n          <div style={{\n            width: '80px',\n            height: '80px',\n            background: 'linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%)',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 20px',\n            fontSize: '40px'\n          }}>\n            🏥\n          </div>\n\n          <h1 style={{\n            margin: '0 0 10px 0',\n            fontSize: '24px',\n            fontWeight: '700',\n            color: '#0ea5e9'\n          }}>\n            VCHome Hospital\n          </h1>\n\n          <p style={{\n            margin: '0 0 30px 0',\n            color: '#64748b',\n            fontSize: '16px'\n          }}>\n            ระบบจัดการวัคซีน\n          </p>\n\n          {/* Progress Bar */}\n          <div style={{\n            width: '100%',\n            height: '8px',\n            background: '#e2e8f0',\n            borderRadius: '4px',\n            overflow: 'hidden',\n            marginBottom: '15px'\n          }}>\n            <div style={{\n              width: `${progress}%`,\n              height: '100%',\n              background: 'linear-gradient(90deg, #0ea5e9 0%, #06b6d4 100%)',\n              transition: 'width 0.2s ease'\n            }} />\n          </div>\n\n          <p style={{\n            margin: '0',\n            color: '#0ea5e9',\n            fontSize: '18px',\n            fontWeight: '600'\n          }}>\n            {progress}%\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      fontFamily: 'system-ui, sans-serif',\n      background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n      padding: '40px 20px'\n    }}>\n      <div style={{\n        maxWidth: '1000px',\n        margin: '0 auto'\n      }}>\n        {/* Header */}\n        <div style={{\n          textAlign: 'center',\n          marginBottom: '40px'\n        }}>\n          <div style={{\n            width: '100px',\n            height: '100px',\n            background: 'linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%)',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 20px',\n            fontSize: '50px',\n            boxShadow: '0 10px 30px rgba(0,0,0,0.1)'\n          }}>\n            🏥\n          </div>\n\n          <h1 style={{\n            margin: '0 0 10px 0',\n            fontSize: '36px',\n            fontWeight: '700',\n            color: '#0ea5e9'\n          }}>\n            VCHome Hospital\n          </h1>\n\n          <h2 style={{\n            margin: '0 0 20px 0',\n            fontSize: '20px',\n            color: '#64748b',\n            fontWeight: '500'\n          }}>\n            ระบบจัดการวัคซีน\n          </h2>\n\n          <p style={{\n            margin: '0 auto',\n            fontSize: '16px',\n            color: '#64748b',\n            maxWidth: '500px'\n          }}>\n            เลือกระบบที่คุณต้องการเข้าใช้งาน\n          </p>\n        </div>\n\n        {/* Quick Access Cards */}\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',\n          gap: '20px',\n          marginBottom: '40px'\n        }}>\n          {/* Admin Card */}\n          <div\n            onClick={() => handleQuickAccess('/admin')}\n            style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '30px',\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              border: '1px solid #e2e8f0'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 8px 30px rgba(0,0,0,0.12)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\n            }}\n          >\n            <div style={{ fontSize: '40px', marginBottom: '15px' }}>🔧</div>\n            <h3 style={{\n              margin: '0 0 10px 0',\n              fontSize: '20px',\n              fontWeight: '600',\n              color: '#0ea5e9'\n            }}>\n              ระบบผู้ดูแล\n            </h3>\n            <p style={{\n              margin: '0',\n              color: '#64748b',\n              fontSize: '14px',\n              lineHeight: '1.5'\n            }}>\n              จัดการระบบและตั้งค่าทั่วไป\n            </p>\n          </div>\n\n          {/* Staff Card */}\n          <div\n            onClick={() => handleQuickAccess('/staff-portal')}\n            style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '30px',\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              border: '1px solid #e2e8f0'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 8px 30px rgba(0,0,0,0.12)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\n            }}\n          >\n            <div style={{ fontSize: '40px', marginBottom: '15px' }}>👩‍⚕️</div>\n            <h3 style={{\n              margin: '0 0 10px 0',\n              fontSize: '20px',\n              fontWeight: '600',\n              color: '#10b981'\n            }}>\n              เจ้าหน้าที่\n            </h3>\n            <p style={{\n              margin: '0',\n              color: '#64748b',\n              fontSize: '14px',\n              lineHeight: '1.5'\n            }}>\n              จัดการนัดหมายและข้อมูลผู้ป่วย\n            </p>\n          </div>\n\n          {/* Patient Card */}\n          <div\n            onClick={() => handleQuickAccess('/patient-portal')}\n            style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '30px',\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              border: '1px solid #e2e8f0'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 8px 30px rgba(0,0,0,0.12)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\n            }}\n          >\n            <div style={{ fontSize: '40px', marginBottom: '15px' }}>👤</div>\n            <h3 style={{\n              margin: '0 0 10px 0',\n              fontSize: '20px',\n              fontWeight: '600',\n              color: '#8b5cf6'\n            }}>\n              ผู้ป่วย\n            </h3>\n            <p style={{\n              margin: '0',\n              color: '#64748b',\n              fontSize: '14px',\n              lineHeight: '1.5'\n            }}>\n              ลงทะเบียนและตรวจสอบสถานะวัคซีน\n            </p>\n          </div>\n\n          {/* LINE Bot Card */}\n          <div\n            onClick={() => handleQuickAccess('/line-bot')}\n            style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '30px',\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              border: '1px solid #e2e8f0'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 8px 30px rgba(0,0,0,0.12)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\n            }}\n          >\n            <div style={{ fontSize: '40px', marginBottom: '15px' }}>🤖</div>\n            <h3 style={{\n              margin: '0 0 10px 0',\n              fontSize: '20px',\n              fontWeight: '600',\n              color: '#f59e0b'\n            }}>\n              LINE Bot\n            </h3>\n            <p style={{\n              margin: '0',\n              color: '#64748b',\n              fontSize: '14px',\n              lineHeight: '1.5'\n            }}>\n              ระบบแชทบอทและการแจ้งเตือน\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div style={{\n          textAlign: 'center',\n          padding: '20px',\n          background: 'white',\n          borderRadius: '12px',\n          boxShadow: '0 4px 20px rgba(0,0,0,0.08)'\n        }}>\n          <p style={{\n            margin: '0',\n            color: '#64748b',\n            fontSize: '14px'\n          }}>\n            VCHome Hospital Management System v1.0.0\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FastIndexPage;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/integrations/supabase/client';\nimport { User, CheckCircle, Smartphone, AlertCircle } from 'lucide-react';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\n\n// LIFF Type Definitions\ndeclare global {\n  interface Window {\n    liff: any;\n  }\n}\n\ninterface PatientData {\n  fullName: string;\n  phone: string;\n  lineUserId?: string;\n  lineDisplayName?: string;\n  linePictureUrl?: string;\n}\n\ninterface LiffProfile {\n  userId: string;\n  displayName: string;\n  pictureUrl?: string;\n  statusMessage?: string;\n}\n\nconst LiffPatientPortal = () => {\n  const WEBHOOK_URL = import.meta.env.VITE_WEBHOOK_URL || 'https://firstprojecthome.onrender.com/webhook-test/Webhook-Vaccine';\n  const LIFF_ID = import.meta.env.VITE_LIFF_ID || 'your-liff-id';\n  \n  const [patientData, setPatientData] = useState<PatientData>({\n    fullName: '',\n    phone: ''\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [liffReady, setLiffReady] = useState(false);\n  const [inLineApp, setInLineApp] = useState(false);\n  const [liffProfile, setLiffProfile] = useState<LiffProfile | null>(null);\n  const [liffError, setLiffError] = useState<string | null>(null);\n  const { toast } = useToast();\n\n  // Initialize LIFF\n  useEffect(() => {\n    const initializeLiff = async () => {\n      try {\n        if (typeof window !== 'undefined' && window.liff) {\n          console.log('LIFF SDK found, initializing...');\n          \n          await window.liff.init({ liffId: LIFF_ID });\n          setLiffReady(true);\n          setInLineApp(window.liff.isInClient());\n          \n          if (window.liff.isLoggedIn()) {\n            try {\n              const profile = await window.liff.getProfile();\n              setLiffProfile(profile);\n              setPatientData(prev => ({\n                ...prev,\n                lineUserId: profile.userId,\n                lineDisplayName: profile.displayName,\n                linePictureUrl: profile.pictureUrl,\n                fullName: profile.displayName || prev.fullName\n              }));\n              \n              console.log('LIFF Profile loaded:', profile);\n              toast({\n                title: \"เชื่อมต่อ LINE สำเร็จ\",\n                description: `ยินดีต้อนรับ ${profile.displayName}`,\n              });\n            } catch (profileError) {\n              console.error('Error getting LIFF profile:', profileError);\n              setLiffError('ไม่สามารถดึงข้อมูลโปรไฟล์ LINE ได้');\n            }\n          } else {\n            console.log('User not logged in to LINE');\n            if (window.liff.isInClient()) {\n              window.liff.login();\n            }\n          }\n        } else {\n          console.log('LIFF SDK not found, loading...');\n          await loadLiffSDK();\n        }\n      } catch (error) {\n        console.error('LIFF initialization failed:', error);\n        setLiffError(`LIFF เริ่มต้นไม่สำเร็จ: ${error}`);\n      }\n    };\n\n    initializeLiff();\n  }, [LIFF_ID, toast]);\n\n  // Load LIFF SDK dynamically\n  const loadLiffSDK = (): Promise<void> => {\n    return new Promise((resolve, reject) => {\n      const script = document.createElement('script');\n      script.src = 'https://static.line-scdn.net/liff/edge/2/sdk.js';\n      script.onload = async () => {\n        try {\n          await window.liff.init({ liffId: LIFF_ID });\n          setLiffReady(true);\n          setInLineApp(window.liff.isInClient());\n          \n          if (window.liff.isLoggedIn()) {\n            const profile = await window.liff.getProfile();\n            setLiffProfile(profile);\n            setPatientData(prev => ({\n              ...prev,\n              lineUserId: profile.userId,\n              lineDisplayName: profile.displayName,\n              linePictureUrl: profile.pictureUrl,\n              fullName: profile.displayName || prev.fullName\n            }));\n          }\n          resolve();\n        } catch (error) {\n          reject(error);\n        }\n      };\n      script.onerror = reject;\n      document.head.appendChild(script);\n    });\n  };\n\n  const handleInputChange = (field: keyof PatientData, value: string) => {\n    setPatientData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const submitRegistration = async () => {\n    if (!patientData.fullName || !patientData.phone) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"กรุณากรอกข้อมูลให้ครบถ้วน\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // ตรวจสอบรูปแบบเบอร์โทรศัพท์\n    const phoneRegex = /^[0-9]{9,10}$/;\n    if (!phoneRegex.test(patientData.phone.replace(/[-\\s]/g, ''))) {\n      toast({\n        title: \"ข้อผิดพลาด\",\n        description: \"กรุณากรอกหมายเลขโทรศัพท์ให้ถูกต้อง\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      // Save to Supabase database instead of webhook\n      const appointmentId = `HOM-${Date.now().toString().slice(-6)}`;\n      const appointmentDate = new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n\n      const { data, error } = await supabase\n        .from('appointments')\n        .insert({\n          appointment_id: appointmentId,\n          patient_name: patientData.fullName,\n          patient_phone: patientData.phone,\n          patient_id_number: patientData.lineUserId,\n          vaccine_type: 'general_service',\n          appointment_date: appointmentDate,\n          appointment_time: '09:00',\n          status: 'scheduled',\n          scheduled_by: 'patient_liff',\n          line_user_id: patientData.lineUserId,\n          notes: `ลงทะเบียนผ่าน LINE LIFF - ${patientData.lineDisplayName}`\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setIsRegistered(true);\n      toast({\n        title: \"ลงทะเบียนสำเร็จ\",\n        description: `ลงทะเบียนรับบริการสำเร็จแล้ว (ID: ${appointmentId})`,\n      });\n\n      // ส่งข้อความยืนยันผ่าน LINE Bot API (ถ้ามี LINE User ID)\n      if (patientData.lineUserId) {\n        try {\n          await supabase.functions.invoke('send-line-message', {\n            body: {\n              userId: patientData.lineUserId,\n              message: `✅ ลงทะเบียนรับบริการสำเร็จ\\n\\n📋 รายละเอียด:\\n• ชื่อ: ${patientData.fullName}\\n• เบอร์โทร: ${patientData.phone}\\n• วันที่: ${appointmentDate}\\n• รหัสนัดหมาย: ${appointmentId}\\n\\n🏥 โรงพยาบาลโฮม\\nเจ้าหน้าที่จะติดต่อกลับเพื่อยืนยันนัดหมาย`,\n              type: 'template',\n              templateData: {\n                appointmentId,\n                patientName: patientData.fullName,\n                appointmentDate\n              }\n            }\n          });\n        } catch (messageError) {\n          console.error('Error sending LINE message:', messageError);\n          // ไม่ต้อง throw error เพราะการลงทะเบียนสำเร็จแล้ว\n        }\n      }\n\n      // ส่งข้อความใน LINE Chat (ถ้าอยู่ใน LINE App)\n      if (inLineApp && window.liff) {\n        try {\n          await window.liff.sendMessages([\n            {\n              type: 'text',\n              text: `✅ ลงทะเบียนรับบริการสำเร็จ\\n\\nชื่อ: ${patientData.fullName}\\nเบอร์: ${patientData.phone}\\nรหัส: ${appointmentId}\\n\\nโรงพยาบาลโฮม\\nเจ้าหน้าที่จะติดต่อกลับเพื่อยืนยันนัดหมาย`\n            }\n          ]);\n        } catch (messageError) {\n          console.error('Error sending LINE chat message:', messageError);\n        }\n      }\n\n      // ตั้งเวลาปิดหน้าจออัตโนมัติ (8 วินาที)\n      setTimeout(() => {\n        if (inLineApp && window.liff) {\n          window.liff.closeWindow();\n        }\n      }, 8000);\n    } catch (error) {\n      console.error('Registration error:', error);\n      toast({\n        title: \"ลงทะเบียนไม่สำเร็จ\",\n        description: `เกิดข้อผิดพลาด: ${error}`,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const resetForm = () => {\n    setPatientData({\n      fullName: liffProfile?.displayName || '',\n      phone: '',\n      lineUserId: liffProfile?.userId,\n      lineDisplayName: liffProfile?.displayName,\n      linePictureUrl: liffProfile?.pictureUrl\n    });\n    setIsRegistered(false);\n  };\n\n  const closeLiff = () => {\n    if (window.liff && window.liff.isInClient()) {\n      window.liff.closeWindow();\n    }\n  };\n\n  // Success Screen\n  if (isRegistered) {\n    return (\n      <div className=\"min-h-screen bg-background p-6\">\n        <div className=\"max-w-md mx-auto\">\n          <Card className=\"border-green-200 bg-green-50\">\n            <CardContent className=\"p-8 text-center\">\n              <CheckCircle className=\"h-16 w-16 text-green-600 mx-auto mb-4\" />\n              <h2 className=\"text-2xl font-bold text-green-800 mb-2\">\n                ลงทะเบียนสำเร็จ!\n              </h2>\n              <p className=\"text-green-700 mb-6\">\n                ขอบคุณที่ลงทะเบียน เจ้าหน้าที่จะติดต่อกลับเพื่อยืนยันนัดหมาย\n                {inLineApp && (\n                  <span className=\"block mt-2 text-sm font-medium\">\n                    ⏰ หน้าต่างจะปิดอัตโนมัติใน 8 วินาที\n                  </span>\n                )}\n              </p>\n              \n              <div className=\"bg-white p-4 rounded-lg border mb-6 text-left\">\n                <h3 className=\"font-semibold mb-2\">ข้อมูลที่ลงทะเบียน:</h3>\n                <div className=\"space-y-1 text-sm\">\n                  <p><strong>ชื่อ:</strong> {patientData.fullName}</p>\n                  <p><strong>เบอร์โทร:</strong> {patientData.phone}</p>\n                  <p><strong>สถานที่:</strong> โรงพยาบาลโฮม</p>\n                  {patientData.lineUserId && (\n                    <p><strong>LINE ID:</strong> {patientData.lineUserId}</p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                {!inLineApp && (\n                  <Button onClick={resetForm} variant=\"outline\" className=\"w-full\">\n                    ลงทะเบียนใหม่\n                  </Button>\n                )}\n                {inLineApp && (\n                  <Button onClick={closeLiff} className=\"w-full\">\n                    ปิดหน้าต่าง\n                  </Button>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background p-6\">\n      <div className=\"max-w-md mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-bold\">ลงทะเบียนรับบริการ</h1>\n          <h2 className=\"text-xl text-muted-foreground mt-2 font-semibold\">\n            โรงพยาบาลโฮม\n          </h2>\n          <p className=\"text-muted-foreground mt-1 text-sm\">\n            กรุณากรอกข้อมูลเพื่อลงทะเบียนรับบริการ\n          </p>\n        </div>\n\n        {/* LIFF Status */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Smartphone className=\"h-5 w-5\" />\n              สถานะ LINE App\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {liffError ? (\n              <Alert variant=\"destructive\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{liffError}</AlertDescription>\n              </Alert>\n            ) : (\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span>LIFF พร้อมใช้:</span>\n                  <span className={liffReady ? \"text-green-600\" : \"text-red-600\"}>\n                    {liffReady ? \"✓ พร้อม\" : \"✗ ไม่พร้อม\"}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>ใน LINE App:</span>\n                  <span className={inLineApp ? \"text-green-600\" : \"text-yellow-600\"}>\n                    {inLineApp ? \"✓ ใช่\" : \"✗ เบราว์เซอร์\"}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>โปรไฟล์:</span>\n                  <span className={liffProfile ? \"text-green-600\" : \"text-yellow-600\"}>\n                    {liffProfile ? \"✓ เชื่อมต่อแล้ว\" : \"✗ ยังไม่เชื่อมต่อ\"}\n                  </span>\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* LINE Profile Display */}\n        {liffProfile && (\n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center gap-3\">\n                {liffProfile.pictureUrl && (\n                  <img \n                    src={liffProfile.pictureUrl} \n                    alt=\"LINE Profile\" \n                    className=\"w-12 h-12 rounded-full\"\n                  />\n                )}\n                <div>\n                  <p className=\"font-semibold\">{liffProfile.displayName}</p>\n                  <p className=\"text-sm text-muted-foreground\">เชื่อมต่อจาก LINE</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Patient Registration Form */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <User className=\"h-5 w-5\" />\n              ข้อมูลผู้ลงทะเบียน\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"fullName\">ชื่อ-นามสกุล</Label>\n              <Input\n                id=\"fullName\"\n                placeholder=\"นาย/นาง/นางสาว ชื่อ นามสกุล\"\n                value={patientData.fullName}\n                onChange={(e) => handleInputChange('fullName', e.target.value)}\n                className=\"mt-1\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"phone\">หมายเลขโทรศัพท์</Label>\n              <Input\n                id=\"phone\"\n                placeholder=\"08x-xxx-xxxx\"\n                value={patientData.phone}\n                onChange={(e) => handleInputChange('phone', e.target.value)}\n                className=\"mt-1\"\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Submit Button */}\n        <Button \n          onClick={submitRegistration}\n          disabled={isLoading}\n          className=\"w-full\"\n          size=\"lg\"\n        >\n          {isLoading ? 'กำลังลงทะเบียน...' : 'ลงทะเบียนรับบริการ'}\n        </Button>\n\n        <Alert>\n          <AlertDescription>\n            หลังจากลงทะเบียน เจ้าหน้าที่จะติดต่อกลับเพื่อยืนยันนัดหมาย\n            และแจ้งข้อมูลบริการที่ต้องการ\n            {inLineApp && \" ข้อความยืนยันจะถูกส่งไปที่แชท LINE ของคุณ\"}\n          </AlertDescription>\n        </Alert>\n      </div>\n    </div>\n  );\n};\n\nexport default LiffPatientPortal;","import LiffPatientPortal from '@/components/LiffPatientPortal';\n\nconst LiffPatientPortalPage = () => {\n  return <LiffPatientPortal />;\n};\n\nexport default LiffPatientPortalPage;","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Calendar, User, Syringe, Clock, CheckCircle, AlertCircle, Search } from 'lucide-react';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useToast } from '@/hooks/use-toast';\n\nconst VaccineStatusChecker = () => {\n  const [patients, setPatients] = useState([]);\n  const [filteredPatients, setFilteredPatients] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingPatients, setIsLoadingPatients] = useState(true);\n  const [vaccineData, setVaccineData] = useState(null);\n  const { toast } = useToast();\n\n  // Load all patients on component mount\n  useEffect(() => {\n    loadPatients();\n  }, []);\n\n  // Filter patients based on search term\n  useEffect(() => {\n    if (!searchTerm.trim()) {\n      setFilteredPatients(patients);\n    } else {\n      const filtered = patients.filter(patient => \n        patient.full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        patient.phone.includes(searchTerm) ||\n        patient.registration_id.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n      setFilteredPatients(filtered);\n    }\n  }, [searchTerm, patients]);\n\n  const loadPatients = async () => {\n    try {\n      setIsLoadingPatients(true);\n      const { data, error } = await supabase\n        .from('patient_registrations')\n        .select('*')\n        .order('full_name', { ascending: true });\n\n      if (error) throw error;\n      setPatients(data || []);\n    } catch (error) {\n      toast({\n        variant: \"destructive\",\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดรายชื่อผู้ป่วยได้\"\n      });\n    } finally {\n      setIsLoadingPatients(false);\n    }\n  };\n\n  const fetchPatientVaccineData = async (patient) => {\n    setIsLoading(true);\n    setSelectedPatient(patient);\n\n    try {\n      // Use secure Edge Function for vaccine status lookup\n      const SUPABASE_URL = \"https://fljyjbrgfzervxofrilo.supabase.co\";\n      const SUPABASE_ANON_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsanlqYnJnZnplcnZ4b2ZyaWxvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxMDE1MDUsImV4cCI6MjA2OTY3NzUwNX0.2_rGfy-3UA4cPnRsg8Lm8uvj9KBCOoz5IhwCbSWYIq4\";\n      \n      const response = await fetch(`${SUPABASE_URL}/functions/v1/secure-vaccine-status-lookup`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,\n        },\n        body: JSON.stringify({\n          searchType: 'phone',\n          searchValue: patient.phone\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'เกิดข้อผิดพลาดในการค้นหาข้อมูล');\n      }\n\n      const data = await response.json();\n      \n      setVaccineData({\n        appointments: data.appointments || [],\n        logs: data.vaccineLogs || [],\n        registrations: data.registrations || [],\n      });\n\n      toast({\n        title: \"โหลดข้อมูลสำเร็จ\",\n        description: `โหลดข้อมูลของ ${patient.full_name} สำเร็จ`\n      });\n\n    } catch (error) {\n      console.error('Error:', error);\n      toast({\n        variant: \"destructive\",\n        title: \"เกิดข้อผิดพลาด\",\n        description: \"ไม่สามารถโหลดข้อมูลวัคซีนได้\"\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusMap = {\n      'completed': { label: 'เสร็จสิ้น', variant: 'default', icon: CheckCircle },\n      'in_progress': { label: 'กำลังดำเนินการ', variant: 'secondary', icon: Clock },\n      'scheduled': { label: 'นัดหมายแล้ว', variant: 'outline', icon: Calendar },\n      'cancelled': { label: 'ยกเลิก', variant: 'destructive', icon: AlertCircle },\n    };\n    \n    const config = statusMap[status] || statusMap.in_progress;\n    const Icon = config.icon;\n    \n    return (\n      <Badge variant={config.variant} className=\"flex items-center gap-1\">\n        <Icon className=\"h-3 w-3\" />\n        {config.label}\n      </Badge>\n    );\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return '-';\n    return new Date(dateString).toLocaleDateString('th-TH', {\n      year: 'numeric',\n      month: 'long', \n      day: 'numeric'\n    });\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 max-w-6xl\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Syringe className=\"h-5 w-5\" />\n            ตรวจสอบสถานะการฉีดวัคซีน\n          </CardTitle>\n          <CardDescription>\n            เลือกผู้ป่วยเพื่อดูข้อมูลการฉีดวัคซีนและประวัติการรักษา\n          </CardDescription>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-6\">\n          {!selectedPatient ? (\n            <div className=\"space-y-4\">\n              {/* Search Box */}\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"ค้นหาด้วยชื่อ เบอร์โทร หรือรหัสลงทะเบียน\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n\n              {/* Patient List */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg\">รายชื่อผู้ป่วย ({filteredPatients.length} คน)</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  {isLoadingPatients ? (\n                    <div className=\"text-center py-8\">กำลังโหลดรายชื่อผู้ป่วย...</div>\n                  ) : filteredPatients.length === 0 ? (\n                    <div className=\"text-center py-8 text-muted-foreground\">\n                      {patients.length === 0 ? 'ไม่พบข้อมูลผู้ป่วยในระบบ' : 'ไม่พบผู้ป่วยที่ตรงกับการค้นหา'}\n                    </div>\n                  ) : (\n                    <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n                      {filteredPatients.map((patient) => (\n                        <div \n                          key={patient.id}\n                          className=\"border rounded-lg p-3 hover:bg-muted/50 cursor-pointer transition-colors\"\n                          onClick={() => fetchPatientVaccineData(patient)}\n                        >\n                          <div className=\"flex justify-between items-start\">\n                            <div className=\"flex-1\">\n                              <h3 className=\"font-semibold\">{patient.full_name}</h3>\n                              <div className=\"flex items-center gap-4 text-sm text-muted-foreground mt-1\">\n                                <div className=\"flex items-center gap-1\">\n                                  <User className=\"h-3 w-3\" />\n                                  {patient.phone}\n                                </div>\n                                <div className=\"flex items-center gap-1\">\n                                  <Clock className=\"h-3 w-3\" />\n                                  {formatDate(patient.created_at)}\n                                </div>\n                              </div>\n                              <div className=\"text-xs text-muted-foreground mt-1\">\n                                รหัส: {patient.registration_id}\n                              </div>\n                            </div>\n                            <Badge variant={patient.status === 'pending' ? 'secondary' : 'default'} className=\"ml-2\">\n                              {patient.status === 'pending' ? 'รอการนัดหมาย' : patient.status}\n                            </Badge>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              {/* Selected Patient Header */}\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2 text-lg font-medium\">\n                  <User className=\"h-5 w-5\" />\n                  ข้อมูลผู้ป่วย: {selectedPatient.full_name}\n                </div>\n                <Button \n                  variant=\"outline\" \n                  onClick={() => {\n                    setSelectedPatient(null);\n                    setVaccineData(null);\n                  }}\n                >\n                  กลับไปยังรายชื่อ\n                </Button>\n              </div>\n\n              {isLoading ? (\n                <div className=\"text-center py-8\">กำลังโหลดข้อมูลวัคซีน...</div>\n              ) : vaccineData && (\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  {/* Patient Registration Info */}\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">ข้อมูลการลงทะเบียน</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-3\">\n                      <div className=\"grid grid-cols-1 gap-2 text-sm\">\n                        <div>\n                          <span className=\"text-muted-foreground\">ชื่อ-นามสกุล:</span>\n                          <span className=\"ml-2 font-medium\">{selectedPatient.full_name}</span>\n                        </div>\n                        <div>\n                          <span className=\"text-muted-foreground\">เบอร์โทร:</span>\n                          <span className=\"ml-2\">{selectedPatient.phone}</span>\n                        </div>\n                        <div>\n                          <span className=\"text-muted-foreground\">โรงพยาบาล:</span>\n                          <span className=\"ml-2\">{selectedPatient.hospital}</span>\n                        </div>\n                        <div>\n                          <span className=\"text-muted-foreground\">รหัสลงทะเบียน:</span>\n                          <span className=\"ml-2\">{selectedPatient.registration_id}</span>\n                        </div>\n                        <div>\n                          <span className=\"text-muted-foreground\">วันที่ลงทะเบียน:</span>\n                          <span className=\"ml-2\">{formatDate(selectedPatient.created_at)}</span>\n                        </div>\n                        {selectedPatient.notes && (\n                          <div>\n                            <span className=\"text-muted-foreground\">หมายเหตุ:</span>\n                            <p className=\"text-sm mt-1\">{selectedPatient.notes}</p>\n                          </div>\n                        )}\n                      </div>\n                    </CardContent>\n                  </Card>\n\n                  {/* Appointments */}\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">นัดหมายการฉีดวัคซีน</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      {vaccineData.appointments && vaccineData.appointments.length > 0 ? (\n                        <div className=\"space-y-3 max-h-64 overflow-y-auto\">\n                          {vaccineData.appointments.map((appointment) => (\n                            <div key={appointment.id} className=\"border rounded-lg p-3\">\n                              <div className=\"flex justify-between items-start mb-2\">\n                                <div>\n                                  <h4 className=\"font-medium\">{appointment.vaccine_type}</h4>\n                                  <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                                    <Calendar className=\"h-3 w-3\" />\n                                    {formatDate(appointment.appointment_date)}\n                                    {appointment.appointment_time && (\n                                      <>\n                                        <Clock className=\"h-3 w-3 ml-1\" />\n                                        {appointment.appointment_time.substring(0, 5)}\n                                      </>\n                                    )}\n                                  </div>\n                                </div>\n                                {getStatusBadge(appointment.status)}\n                              </div>\n                              {appointment.notes && (\n                                <p className=\"text-sm text-muted-foreground\">{appointment.notes}</p>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <div className=\"text-center py-4 text-muted-foreground\">ไม่มีนัดหมาย</div>\n                      )}\n                    </CardContent>\n                  </Card>\n\n                  {/* Vaccine History - Full Width */}\n                  <Card className=\"lg:col-span-2\">\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">ประวัติการฉีดวัคซีน</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      {vaccineData.logs && vaccineData.logs.length > 0 ? (\n                        <div className=\"space-y-3\">\n                          {vaccineData.logs.map((log) => (\n                            <div key={log.id} className=\"border rounded-lg p-4\">\n                              <div className=\"flex items-center gap-2 mb-3\">\n                                <h4 className=\"font-medium\">{log.vaccine_type}</h4>\n                                <Badge variant=\"outline\">เข็มที่ {log.dose_number}</Badge>\n                              </div>\n                              \n                              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm\">\n                                <div>\n                                  <span className=\"text-muted-foreground\">วันที่ฉีด:</span>\n                                  <p className=\"font-medium\">{formatDate(log.administered_date)}</p>\n                                </div>\n                                <div>\n                                  <span className=\"text-muted-foreground\">ฉีดโดย:</span>\n                                  <p className=\"font-medium\">{log.administered_by}</p>\n                                </div>\n                                {log.batch_number && (\n                                  <div>\n                                    <span className=\"text-muted-foreground\">Batch:</span>\n                                    <p className=\"font-medium\">{log.batch_number}</p>\n                                  </div>\n                                )}\n                                {log.side_effects && (\n                                  <div>\n                                    <span className=\"text-muted-foreground\">ผลข้างเคียง:</span>\n                                    <p className=\"font-medium\">{log.side_effects}</p>\n                                  </div>\n                                )}\n                              </div>\n                              \n                              {log.notes && (\n                                <div className=\"mt-3\">\n                                  <span className=\"text-sm text-muted-foreground\">หมายเหตุ:</span>\n                                  <p className=\"text-sm mt-1\">{log.notes}</p>\n                                </div>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <div className=\"text-center py-8 text-muted-foreground\">\n                          ไม่มีประวัติการฉีดวัคซีน\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                </div>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default VaccineStatusChecker;","import VaccineStatusChecker from '@/components/VaccineStatusChecker';\n\nconst VaccineStatusPage = () => {\n  return <VaccineStatusChecker />;\n};\n\nexport default VaccineStatusPage;","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Download, CheckCircle, AlertCircle, Monitor, Smartphone } from 'lucide-react';\nimport { HospitalLogo } from '@/components/HospitalLogo';\n\ninterface ReleaseInfo {\n  version: string;\n  downloadUrl: string;\n  size: string;\n  releaseDate: string;\n  changelog: string[];\n}\n\nconst DownloadPage = () => {\n  const [releaseInfo, setReleaseInfo] = useState<ReleaseInfo | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [downloadProgress, setDownloadProgress] = useState(0);\n  const [isDownloading, setIsDownloading] = useState(false);\n\n  useEffect(() => {\n    // Fetch release information from GitHub Pages\n    fetchReleaseInfo();\n  }, []);\n\n  const fetchReleaseInfo = async () => {\n    try {\n      // Simulate fetching from GitHub Pages API or static JSON\n      const response = await fetch('https://moradok.github.io/VaccineHomeBot/release-info.json');\n      \n      if (response.ok) {\n        const data = await response.json();\n        setReleaseInfo(data);\n      } else {\n        // Fallback to default info\n        setReleaseInfo({\n          version: '1.0.0',\n          downloadUrl: 'https://moradok.github.io/VaccineHomeBot/downloads/VCHome-Hospital-Setup.exe',\n          size: '186.8 MB',\n          releaseDate: '9 ตุลาคม 2025',\n          changelog: [\n            'ระบบจัดการวัคซีนครบครัน',\n            'หน้าต่างผู้ดูแลระบบ',\n            'ระบบเจ้าหน้าที่และผู้ป่วย',\n            'การเชื่อมต่อ LINE Bot',\n            'ฐานข้อมูล Supabase'\n          ]\n        });\n      }\n    } catch (error) {\n      console.error('Failed to fetch release info:', error);\n      // Use fallback data\n      setReleaseInfo({\n        version: '1.0.0',\n        downloadUrl: '#',\n        size: '186.8 MB',\n        releaseDate: '9 ตุลาคม 2025',\n        changelog: ['ระบบจัดการวัคซีนครบครัน']\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDownload = async () => {\n    if (!releaseInfo) return;\n    \n    setIsDownloading(true);\n    setDownloadProgress(0);\n\n    try {\n      // Simulate download progress\n      const progressInterval = setInterval(() => {\n        setDownloadProgress(prev => {\n          if (prev >= 100) {\n            clearInterval(progressInterval);\n            setIsDownloading(false);\n            return 100;\n          }\n          return prev + 10;\n        });\n      }, 200);\n\n      // Trigger actual download\n      const link = document.createElement('a');\n      link.href = releaseInfo.downloadUrl;\n      link.download = `VCHome-Hospital-Setup-${releaseInfo.version}.exe`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n    } catch (error) {\n      console.error('Download failed:', error);\n      setIsDownloading(false);\n      setDownloadProgress(0);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-hero flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">กำลังตรวจสอบเวอร์ชันล่าสุด...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-hero\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <HospitalLogo className=\"mx-auto mb-6\" size={120} />\n          <h1 className=\"text-4xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent\">\n            ดาวน์โหลด VCHome Hospital\n          </h1>\n          <p className=\"text-xl text-muted-foreground max-w-2xl mx-auto\">\n            ระบบจัดการวัคซีนสำหรับโรงพยาบาลโฮม\n          </p>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"grid md:grid-cols-2 gap-8\">\n            {/* Download Card */}\n            <Card className=\"card-balanced\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-3\">\n                  <Monitor className=\"h-6 w-6 text-primary\" />\n                  Windows Desktop App\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                {releaseInfo && (\n                  <div className=\"space-y-4\">\n                    {/* Version Info */}\n                    <div className=\"flex justify-between items-center p-4 bg-muted rounded-lg\">\n                      <div>\n                        <p className=\"font-semibold\">เวอร์ชัน {releaseInfo.version}</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          อัพเดท: {releaseInfo.releaseDate}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className=\"font-semibold\">{releaseInfo.size}</p>\n                        <p className=\"text-sm text-muted-foreground\">ขนาดไฟล์</p>\n                      </div>\n                    </div>\n\n                    {/* System Requirements */}\n                    <div className=\"space-y-2\">\n                      <h4 className=\"font-semibold\">ความต้องการของระบบ:</h4>\n                      <ul className=\"text-sm text-muted-foreground space-y-1\">\n                        <li>• Windows 10/11 (64-bit หรือ 32-bit)</li>\n                        <li>• RAM 4GB ขั้นต่ำ (แนะนำ 8GB)</li>\n                        <li>• พื้นที่ว่าง 500MB</li>\n                        <li>• การเชื่อมต่ออินเทอร์เน็ต</li>\n                      </ul>\n                    </div>\n\n                    {/* Download Button */}\n                    <div className=\"space-y-3\">\n                      {isDownloading ? (\n                        <div className=\"space-y-2\">\n                          <div className=\"w-full bg-muted rounded-full h-3\">\n                            <div \n                              className=\"bg-primary h-3 rounded-full transition-all duration-300\"\n                              style={{ width: `${downloadProgress}%` }}\n                            />\n                          </div>\n                          <p className=\"text-sm text-center text-muted-foreground\">\n                            กำลังดาวน์โหลด... {downloadProgress}%\n                          </p>\n                        </div>\n                      ) : (\n                        <Button \n                          onClick={handleDownload}\n                          className=\"w-full btn-primary\"\n                          size=\"lg\"\n                        >\n                          <Download className=\"mr-2 h-5 w-5\" />\n                          ดาวน์โหลดตัวติดตั้ง\n                        </Button>\n                      )}\n                      \n                      <p className=\"text-xs text-center text-muted-foreground\">\n                        ดาวน์โหลดจาก: moradok.github.io/VaccineHomeBot\n                      </p>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Installation Guide */}\n            <Card className=\"card-balanced\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-3\">\n                  <CheckCircle className=\"h-6 w-6 text-medical-success\" />\n                  วิธีการติดตั้ง\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-bold\">\n                        1\n                      </div>\n                      <div>\n                        <p className=\"font-medium\">ดาวน์โหลดไฟล์</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          คลิกปุ่ม \"ดาวน์โหลดตัวติดตั้ง\" ด้านซ้าย\n                        </p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-bold\">\n                        2\n                      </div>\n                      <div>\n                        <p className=\"font-medium\">รันไฟล์ติดตั้ง</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          เปิดไฟล์ .exe ที่ดาวน์โหลดมา\n                        </p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-bold\">\n                        3\n                      </div>\n                      <div>\n                        <p className=\"font-medium\">ทำตามขั้นตอน</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          ติดตั้งตามขั้นตอนที่แสดงบนหน้าจอ\n                        </p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-6 h-6 bg-medical-success text-white rounded-full flex items-center justify-center text-sm font-bold\">\n                        ✓\n                      </div>\n                      <div>\n                        <p className=\"font-medium\">เริ่มใช้งาน</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          เปิดแอปจาก Start Menu หรือ Desktop\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Security Note */}\n                  <div className=\"p-3 bg-amber-50 border border-amber-200 rounded-lg\">\n                    <div className=\"flex items-start gap-2\">\n                      <AlertCircle className=\"h-4 w-4 text-amber-600 mt-0.5\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-amber-800\">\n                          หมายเหตุด้านความปลอดภัย\n                        </p>\n                        <p className=\"text-xs text-amber-700\">\n                          Windows อาจแสดงคำเตือนเนื่องจากไฟล์ยังไม่ได้ลงนามดิจิทัล\n                          คลิก \"More info\" → \"Run anyway\" เพื่อติดตั้ง\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Changelog */}\n          {releaseInfo && (\n            <Card className=\"card-balanced mt-8\">\n              <CardHeader>\n                <CardTitle>🆕 ฟีเจอร์ในเวอร์ชันนี้</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-2\">\n                  {releaseInfo.changelog.map((item, index) => (\n                    <li key={index} className=\"flex items-center gap-2\">\n                      <CheckCircle className=\"h-4 w-4 text-medical-success\" />\n                      <span>{item}</span>\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Alternative Options */}\n          <Card className=\"card-balanced mt-8\">\n            <CardHeader>\n              <CardTitle>🌐 ตัวเลือกอื่น</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div className=\"p-4 border rounded-lg\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <Monitor className=\"h-5 w-5 text-primary\" />\n                    <h4 className=\"font-semibold\">เว็บแอปพลิเคชัน</h4>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground mb-3\">\n                    ใช้งานผ่านเว็บเบราว์เซอร์โดยไม่ต้องติดตั้ง\n                  </p>\n                  <Button \n                    variant=\"outline\" \n                    size=\"sm\"\n                    onClick={() => window.open('https://moradok.github.io/VaccineHomeBot/', '_blank')}\n                  >\n                    เปิดเว็บแอป\n                  </Button>\n                </div>\n\n                <div className=\"p-4 border rounded-lg\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <Smartphone className=\"h-5 w-5 text-medical-success\" />\n                    <h4 className=\"font-semibold\">LINE Bot</h4>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground mb-3\">\n                    ใช้งานผ่าน LINE สำหรับผู้ป่วย\n                  </p>\n                  <Button \n                    variant=\"outline\" \n                    size=\"sm\"\n                    onClick={() => window.open('https://line.me/R/ti/p/@vchome', '_blank')}\n                  >\n                    เพิ่มเพื่อน LINE\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Support */}\n          <div className=\"text-center mt-8 p-6 bg-card rounded-lg border\">\n            <h3 className=\"font-semibold mb-2\">ต้องการความช่วยเหลือ?</h3>\n            <p className=\"text-muted-foreground mb-4\">\n              หากมีปัญหาในการติดตั้งหรือใช้งาน กรุณาติดต่อทีมสนับสนุน\n            </p>\n            <div className=\"flex justify-center gap-4\">\n              <Button \n                variant=\"outline\"\n                onClick={() => window.open('https://github.com/moradok/VaccineHomeBot/issues', '_blank')}\n              >\n                รายงานปัญหา\n              </Button>\n              <Button \n                variant=\"outline\"\n                onClick={() => window.open('mailto:support@vchome.hospital', '_blank')}\n              >\n                ติดต่อสนับสนุน\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DownloadPage;","// App.tsx — stable Router placement + BASE_URL basename\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { Toaster as Sonner } from \"@/components/ui/sonner\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { BrowserRouter, HashRouter, Routes, Route } from \"react-router-dom\";\nimport ErrorBoundary from \"@/components/ErrorBoundary\";\n\nimport Index from \"./pages/Index\";\nimport NotFound from \"./pages/NotFound\";\nimport LineBotPage from \"./pages/LineBotPage\";\nimport PatientPortalPage from \"./pages/PatientPortalPage\";\nimport StaffPortalPage from \"./pages/StaffPortalPage\";\nimport HomePage from \"./pages/HomePage\";\nimport AuthPage from \"./pages/AuthPage\";\nimport SimpleAuthPage from \"./pages/SimpleAuthPage\";\nimport LoadingPage from \"./pages/LoadingPage\";\nimport FastIndexPage from \"./pages/FastIndexPage\";\nimport LiffPatientPortalPage from \"./pages/LiffPatientPortalPage\";\nimport VaccineStatusPage from \"./pages/VaccineStatusPage\";\nimport DownloadPage from \"./pages/DownloadPage\";\n\nconst queryClient = new QueryClient();\n\n// Electron uses file:// protocol - use HashRouter\n// Web uses http(s):// - use BrowserRouter with basename\nconst isElectron = window.location.protocol === 'file:';\nconst BASENAME = import.meta.env.BASE_URL;\n\nconsole.log('[App] Protocol:', window.location.protocol);\nconsole.log('[App] Using', isElectron ? 'HashRouter' : 'BrowserRouter');\nconsole.log('[App] Basename:', BASENAME);\n\nconst App = () => {\n  // Choose router based on environment\n  const Router = isElectron ? HashRouter : BrowserRouter;\n  const routerProps = isElectron ? {} : { basename: BASENAME };\n\n  return (\n    <ErrorBoundary>\n      <QueryClientProvider client={queryClient}>\n        <TooltipProvider>\n          <Toaster />\n          <Sonner />\n\n          <Router {...routerProps}>\n          <div className=\"min-h-screen flex flex-col bg-background text-foreground\">\n            <main className=\"flex-1 scroll-area\">\n              <Routes>\n                {/* Home */}\n                <Route path=\"/\" element={<HomePage />} />\n                <Route path=\"/home\" element={<HomePage />} />\n                <Route path=\"/loading\" element={<LoadingPage />} />\n\n                {/* Auth */}\n                <Route path=\"/auth\" element={<AuthPage />} />            {/* ✅ ใช้หน้าเต็ม */}\n                <Route path=\"/Auth\" element={<AuthPage />} />            {/* เผื่อพิมพ์ตัวใหญ่ */}\n                <Route path=\"/auth-simple\" element={<SimpleAuthPage />} /> {/* เก็บหน้าแบบย่อไว้ใช้งานอื่น */}\n\n                {/* Admin/Staff */}\n                <Route path=\"/admin\" element={<Index />} />\n                <Route path=\"/staff-portal\" element={<StaffPortalPage />} />\n                <Route path=\"/StaffPortal\" element={<StaffPortalPage />} />\n\n                {/* Patient */}\n                <Route path=\"/patient-portal\" element={<PatientPortalPage />} />\n                <Route path=\"/PatientPortal\" element={<PatientPortalPage />} />\n                <Route path=\"/liff-patient-portal\" element={<LiffPatientPortalPage />} />\n                <Route path=\"/vaccine-status\" element={<VaccineStatusPage />} />\n\n                {/* Line bot (รองรับทั้งตัวเล็ก/ใหญ่) */}\n                <Route path=\"/line-bot\" element={<LineBotPage />} />\n                <Route path=\"/LineBot\" element={<LineBotPage />} />\n\n                {/* Download */}\n                <Route path=\"/download\" element={<DownloadPage />} />\n\n                {/* Optional fast page */}\n                <Route path=\"/fast\" element={<FastIndexPage />} />\n\n                {/* Catch-all */}\n                <Route path=\"*\" element={<NotFound />} />\n              </Routes>\n            </main>\n          </div>\n        </Router>\n      </TooltipProvider>\n    </QueryClientProvider>\n  </ErrorBoundary>\n  );\n};\n\nexport default App;\n","import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport './index.css'\nimport './styles/responsive-ui.css'\nimport App from './App'\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n)\n"],"names":["m","require$$0","createRoot","TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","toastTimeouts","addToRemoveQueue","toastId","timeout","dispatch","reducer","state","action","t","toast","listeners","memoryState","listener","props","id","update","dismiss","open","useToast","setState","React.useState","React.useEffect","index","PROVIDER_NAME","Collection","useCollection","createCollectionScope","createCollection","createToastContext","createContextScope","ToastProviderProvider","useToastProviderContext","ToastProvider","__scopeToast","label","duration","swipeDirection","swipeThreshold","children","viewport","setViewport","toastCount","setToastCount","isFocusedToastEscapeKeyDownRef","React.useRef","isClosePausedRef","jsx","React.useCallback","prevCount","VIEWPORT_NAME","VIEWPORT_DEFAULT_HOTKEY","VIEWPORT_PAUSE","VIEWPORT_RESUME","ToastViewport","React.forwardRef","forwardedRef","hotkey","viewportProps","context","getItems","wrapperRef","headFocusProxyRef","tailFocusProxyRef","ref","composedRefs","useComposedRefs","hotkeyLabel","hasToasts","handleKeyDown","event","key","_a","wrapper","handlePause","pauseEvent","handleResume","resumeEvent","handleFocusOutResume","handlePointerLeaveResume","getSortedTabbableCandidates","tabbingDirection","tabbableCandidates","toastItem","toastNode","toastTabbableCandidates","getTabbableCandidates","isMetaKey","focusedElement","isTabbingBackwards","sortedCandidates","candidate","focusFirst","_b","_c","jsxs","DismissableLayer.Branch","FocusProxy","Primitive","FOCUS_PROXY_NAME","onFocusFromOutsideViewport","proxyProps","VisuallyHidden","prevFocusedElement","TOAST_NAME","TOAST_SWIPE_START","TOAST_SWIPE_MOVE","TOAST_SWIPE_CANCEL","TOAST_SWIPE_END","Toast","forceMount","openProp","defaultOpen","onOpenChange","toastProps","setOpen","useControllableState","Presence","ToastImpl","useCallbackRef","composeEventHandlers","x","y","ToastInteractiveProvider","useToastInteractiveContext","type","durationProp","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd","node","setNode","node2","pointerStartRef","swipeDeltaRef","closeTimerStartTimeRef","closeTimerRemainingTimeRef","closeTimerRef","onToastAdd","onToastRemove","handleClose","startTimer","duration2","elapsedTime","announceTextContent","React.useMemo","getAnnounceTextContent","Fragment","ToastAnnounce","ReactDOM.createPortal","DismissableLayer.Root","hasSwipeMoveStarted","isHorizontalSwipe","clamp","clampedX","clampedY","moveStartBuffer","delta","eventDetail","handleAndDispatchCustomEvent","isDeltaInDirection","target","event2","announceProps","renderAnnounceText","setRenderAnnounceText","isAnnounced","setIsAnnounced","useNextFrame","timer","Portal","TITLE_NAME","ToastTitle","titleProps","DESCRIPTION_NAME","ToastDescription","descriptionProps","ACTION_NAME","ToastAction","altText","actionProps","ToastAnnounceExclude","ToastClose","CLOSE_NAME","closeProps","interactiveContext","announceExcludeProps","container","textContent","isHTMLElement","isHidden","isExcluded","name","handler","detail","discrete","currentTarget","dispatchDiscreteCustomEvent","direction","threshold","deltaX","deltaY","isDeltaX","callback","fn","useLayoutEffect","raf1","raf2","nodes","walker","isHiddenInput","candidates","previouslyFocusedElement","Provider","Viewport","Root2","Title","Description","Action","Close","falsyToString","value","cx","clsx","cva","base","config","_config_compoundVariants","variants","defaultVariants","getVariantClassNames","variant","variantProp","defaultVariantProp","variantKey","propsWithoutUndefined","acc","param","getCompoundVariantClassNames","cvClass","cvClassName","compoundVariantOptions","CLASS_PART_SEPARATOR","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","className","classParts","getGroupRecursive","getGroupIdForArbitraryProperty","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","classGroupFromNextClassPart","classRest","validator","arbitraryPropertyRegex","arbitraryPropertyClassName","property","theme","prefix","getPrefixedClassGroupEntries","classGroup","processClassesRecursively","classDefinition","classPartObjectToEdit","getPart","isThemeGetter","path","currentClassPartObject","pathPart","func","classGroupEntries","prefixedClassGroup","createLruCache","maxCacheSize","cacheSize","cache","previousCache","IMPORTANT_MODIFIER","createParseClassName","separator","experimentalParseClassName","isSeparatorSingleCharacter","firstSeparatorCharacter","separatorLength","parseClassName","modifiers","bracketDepth","modifierStart","postfixModifierPosition","currentCharacter","baseClassNameWithImportantModifier","hasImportantModifier","baseClassName","maybePostfixModifierPosition","sortModifiers","sortedModifiers","unsortedModifiers","modifier","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","getClassGroupId","getConflictingClassGroupIds","classGroupsInConflict","classNames","result","originalClassName","variantModifier","modifierId","classId","conflictGroups","i","group","twJoin","argument","resolvedValue","string","toValue","mix","k","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","cachedResult","fromTheme","themeGetter","arbitraryValueRegex","fractionRegex","stringLengths","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isLength","isNumber","isArbitraryLength","getIsArbitraryValue","isLengthOnly","isArbitraryNumber","isInteger","isPercent","isArbitraryValue","isTshirtSize","sizeLabels","isArbitrarySize","isNever","isArbitraryPosition","imageLabels","isArbitraryImage","isImage","isArbitraryShadow","isShadow","isAny","testValue","getDefaultConfig","colors","spacing","blur","brightness","borderColor","borderRadius","borderSpacing","borderWidth","contrast","grayscale","hueRotate","invert","gap","gradientColorStops","gradientColorStopPositions","inset","margin","opacity","padding","saturate","scale","sepia","skew","space","translate","getOverscroll","getOverflow","getSpacingWithAutoAndArbitrary","getSpacingWithArbitrary","getLengthWithEmptyAndArbitrary","getNumberWithAutoAndArbitrary","getPositions","getLineStyles","getBlendModes","getAlign","getZeroAndEmpty","getBreaks","getNumberAndArbitrary","twMerge","cn","inputs","ToastPrimitives.Provider","ToastPrimitives.Viewport","toastVariants","ToastPrimitives.Root","ToastPrimitives.Action","ToastPrimitives.Close","X","ToastPrimitives.Title","ToastPrimitives.Description","Toaster","toasts","title","description","P","E","L","t.createContext","D","e","j","t.useContext","t.memo","a","n","g","c","o","h","w","u","d","l","R","f","p","$","S","t.createElement","Ct","s","$t","_t","Wt","Ut","Ft","It","Dt","kt","ct","ut","b","Ot","v","Vt","Kt","Xt","ft","U","qt","Qt","Zt","te","ee","oe","ae","ne","se","yt","xt","vt","wt","Tt","St","Rt","Et","Nt","Pt","q","V","Q","O","K","Z","tt","et","ot","W","r","I","at","T","z","nt","H","st","N","M","rt","A","_","J","Mt","At","G","Lt","mt","it","Y","pt","F","gt","zt","ht","bt","jt","lt","B","C","Yt","dt","Bt","Ht","Te","Gt","useTheme","Sonner","originalEventHandler","ourEventHandler","checkForDefaultPrevented","setRef","composeRefs","refs","hasCleanup","cleanups","cleanup","scopeName","createContextScopeDeps","defaultContexts","createContext3","rootComponentName","defaultContext","BaseContext","React.createContext","scope","Context","useContext2","consumerName","React.useContext","createScope","scopeContexts","contexts","composeContextScopes","scopes","baseScope","scopeHooks","createScope2","overrideScopes","nextScopes","nextScopes2","useScope","currentScope","createSlot","ownerName","SlotClone","createSlotClone","Slot2","slotProps","childrenArray","React.Children","slottable","isSlottable","newElement","newChildren","child","React.isValidElement","React.cloneElement","childrenRef","getElementRef","props2","mergeProps","React.Fragment","SLOTTABLE_IDENTIFIER","createSlottable","Slottable2","Fragment2","childProps","overrideProps","propName","slotPropValue","childPropValue","args","element","getter","mayWarn","NODES","primitive","Slot","Node","asChild","primitiveProps","Comp","ReactDOM.flushSync","callbackRef","useEscapeKeydown","onEscapeKeyDownProp","ownerDocument","DISMISSABLE_LAYER_NAME","CONTEXT_UPDATE","POINTER_DOWN_OUTSIDE","FOCUS_OUTSIDE","originalBodyPointerEvents","DismissableLayerContext","DismissableLayer","disableOutsidePointerEvents","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","layerProps","force","layers","highestLayerWithOutsidePointerEventsDisabled","highestLayerWithOutsidePointerEventsDisabledIndex","isBodyPointerEventsDisabled","isPointerEventsEnabled","pointerDownOutside","usePointerDownOutside","isPointerDownOnBranch","branch","focusOutside","useFocusOutside","dispatchUpdate","handleUpdate","BRANCH_NAME","DismissableLayerBranch","handlePointerDownOutside","isPointerInsideReactTreeRef","handleClickRef","handlePointerDown","handleAndDispatchPointerDownOutsideEvent2","timerId","handleFocusOutside","isFocusInsideReactTreeRef","handleFocus","useLayoutEffect2","React.useLayoutEffect","useReactId","React","useId","deterministicId","setId","reactId","NAME","Arrow","width","height","arrowProps","Root","useSize","size","setSize","resizeObserver","entries","entry","borderSizeEntry","borderSize","POPPER_NAME","createPopperContext","createPopperScope","PopperProvider","usePopperContext","Popper","__scopePopper","anchor","setAnchor","ANCHOR_NAME","PopperAnchor","virtualRef","anchorProps","anchorRef","previousAnchor","CONTENT_NAME","PopperContentProvider","useContentContext","PopperContent","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPaddingProp","sticky","hideWhenDetached","updatePositionStrategy","onPlaced","contentProps","content","setContent","arrow","setArrow","arrowSize","arrowWidth","arrowHeight","desiredPlacement","collisionPadding","boundary","hasExplicitBoundaries","detectOverflowOptions","isNotNull","floatingStyles","placement","isPositioned","middlewareData","useFloating","autoUpdate","offset","shift","limitShift","flip","elements","rects","availableWidth","availableHeight","anchorWidth","anchorHeight","contentStyle","floatingUIarrow","transformOrigin","hide","placedSide","placedAlign","getSideAndAlignFromPlacement","handlePlaced","arrowX","arrowY","cannotCenterArrow","contentZIndex","setContentZIndex","_d","_e","_f","ARROW_NAME","OPPOSITE_SIDE","PopperArrow","contentContext","baseSide","ArrowPrimitive.Root","options","data","isArrowHidden","noArrowAlign","arrowXCenter","arrowYCenter","Anchor","Content","useStateMachine","initialState","machine","React.useReducer","present","presence","usePresence","React2.Children","React2.cloneElement","React2.useState","stylesRef","React2.useRef","prevPresentRef","prevAnimationNameRef","send","React2.useEffect","currentAnimationName","getAnimationName","styles","wasPresent","prevAnimationName","timeoutId","ownerWindow","handleAnimationEnd","isCurrentAnimation","currentFillMode","handleAnimationStart","React2.useCallback","useInsertionEffect","prop","defaultProp","onChange","caller","uncontrolledProp","setUncontrolledProp","onChangeRef","useUncontrolledState","isControlled","isControlledRef","wasControlled","setValue","nextValue","value2","isFunction","prevValueRef","VISUALLY_HIDDEN_STYLES","createTooltipContext","usePopperScope","DEFAULT_DELAY_DURATION","TOOLTIP_OPEN","TooltipProviderContextProvider","useTooltipProviderContext","TooltipProvider","__scopeTooltip","delayDuration","skipDelayDuration","disableHoverableContent","isOpenDelayedRef","isPointerInTransitRef","skipDelayTimerRef","skipDelayTimer","inTransit","TOOLTIP_NAME","TooltipContextProvider","useTooltipContext","Tooltip","disableHoverableContentProp","delayDurationProp","providerContext","popperScope","trigger","setTrigger","contentId","openTimerRef","wasOpenDelayedRef","open2","stateAttribute","handleOpen","handleDelayedOpen","PopperPrimitive.Root","TRIGGER_NAME","TooltipTrigger","triggerProps","isPointerDownRef","hasPointerMoveOpenedRef","handlePointerUp","PopperPrimitive.Anchor","PORTAL_NAME","PortalProvider","usePortalContext","TooltipContent","portalContext","TooltipContentImpl","TooltipContentHoverable","pointerGraceArea","setPointerGraceArea","onPointerInTransitChange","handleRemoveGraceArea","handleCreateGraceArea","hoverTarget","exitPoint","exitSide","getExitSideFromRect","paddedExitPoints","getPaddedExitPoints","hoverTargetPoints","getPointsFromRect","graceArea","getHull","handleTriggerLeave","handleContentLeave","handleTrackPointerGrace","pointerPosition","hasEnteredTarget","isPointerOutsideGraceArea","isPointInPolygon","VisuallyHiddenContentContextProvider","useVisuallyHiddenContentContext","Slottable","ariaLabel","handleScroll","PopperPrimitive.Content","VisuallyHiddenPrimitive.Root","TooltipArrow","PopperPrimitive.Arrow","point","rect","top","bottom","right","left","polygon","inside","ii","jj","xi","yi","xj","yj","points","newPoints","getHullPresorted","upperHull","lowerHull","Root3","Trigger","Content2","TooltipPrimitive.Provider","TooltipPrimitive.Root","TooltipPrimitive.Trigger","TooltipPrimitive.Content","Card","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","buttonVariants","Button","alertVariants","Alert","AlertTitle","AlertDescription","ErrorBoundary","Component","__publicField","error","errorInfo","AlertTriangle","RefreshCw","Tabs","TabsPrimitive.Root","TabsList","TabsPrimitive.List","TabsTrigger","TabsPrimitive.Trigger","TabsContent","TabsPrimitive.Content","badgeVariants","Badge","Textarea","DEFAULT_ORIENTATION","ORIENTATIONS","Separator","decorative","orientationProp","domProps","orientation","isValidOrientation","semanticProps","SeparatorPrimitive.Root","SmartRoutingGenerator","workflowNodes","generatedNodes","setGeneratedNodes","useState","copiedNodeId","setCopiedNodeId","generateSmartRouting","routingNodes","completeWorkflow","copyToClipboard","code","nodeId","textArea","err","downloadAsFile","filename","blob","url","downloadWorkflowJSON","workflowJSON","getNodeIcon","Bot","Zap","Settings","Code","getNodeColor","CheckCircle","FileDown","Copy","replaced","Download","ArrowRight","WorkflowAnalyzer","workflowData","setWorkflowData","issues","setIssues","jsonInput","setJsonInput","isAnalyzing","setIsAnalyzing","analyzeWorkflow","foundIssues","nodeIds","connectedNodes","connections","outputConnections","outputIndex","connection","webhookNodes","switchNodes","httpNodes","switchNode","output","totalRules","_g","httpNode","hasErrorHandling","isCriticalAPI","hasWebhook","lineResponseNodes","lineNode","aiNode","sheetsNode","handleAnalyze","parsed","getNodeTypeIcon","MessageSquare","Database","getNodeTypeColor","getIssueIcon","XCircle","Info","issue","VaccineWorkflowDesigner","selectedTab","setSelectedTab","workflowSteps","Users","UserPlus","Syringe","Calendar","generateWorkflowJSON","workflow","step","getNodeType","getNodeParameters","generateConnections","idToName","map","conn","text","downloadJSON","Bell","IconComponent","FileText","Input","Label","labelVariants","LabelPrimitive.Root","Select","SelectPrimitive.Root","SelectValue","SelectPrimitive.Value","SelectTrigger","SelectPrimitive.Trigger","SelectPrimitive.Icon","ChevronDown","SelectScrollUpButton","SelectPrimitive.ScrollUpButton","ChevronUp","SelectScrollDownButton","SelectPrimitive.ScrollDownButton","SelectContent","position","SelectPrimitive.Portal","SelectPrimitive.Content","SelectPrimitive.Viewport","SelectLabel","SelectPrimitive.Label","SelectItem","SelectPrimitive.Item","SelectPrimitive.ItemIndicator","Check","SelectPrimitive.ItemText","SelectSeparator","SelectPrimitive.Separator","StaffDashboard","activeTab","setActiveTab","patients","setPatients","appointments","setAppointments","searchTerm","setSearchTerm","selectedPatient","setSelectedPatient","showAppointmentForm","setShowAppointmentForm","vaccineTypes","useEffect","mockPatients","mockAppointments","filteredPatients","patient","handleCreateAppointment","formData","newAppointment","prev","sendLineNotification","appointment","Search","UserCheck","Plus","Edit","vaccine","PatientRegistration","showQR","setShowQR","lineCode","setLineCode","isLoading","setIsLoading","lineBot","generateLineCode","webhookCode","sendToN8n","patientData","testPatientRegistration","Link","Send","QrCode","ExternalLink","Smartphone","SetupGuide","showApiKey","setShowApiKey","Shield","Globe","EyeOff","Eye","LineBot","webhookUrl","setWebhookUrl","channelAccessToken","setChannelAccessToken","channelSecret","setChannelSecret","testMessage","setTestMessage","connectionStatus","setConnectionStatus","testConnection","response","sendTestMessage","copyWebhookUrl","lineWebhookUrl","AlertCircle","SUPABASE_URL","SUPABASE_ANON_KEY","supabase","createClient","PatientNextAppointment","nextAppointments","setNextAppointments","upcomingAppointments","setUpcomingAppointments","lineUserId","setLineUserId","profile","loadNextAppointments","loadUpcomingAppointments","userId","appointmentData","apptError","completedAppointments","scheduledAppointments","vaccineSchedules","allNextAppointments","scheduledAppt","completedDoses","schedule","vs","latest","current","vaccineMap","appt","latestDose","nextAppointmentPromises","existingFutureAppointment","intervals","nextDoseDate","intervalIndex","intervalDays","nextDoseNumber","validNewAppointments","allAppointments","status","refreshData","formatThaiDate","dateString","getStatusColor","getDaysUntilDue","dueDate","today","diffTime","Clock","MapPin","daysUntil","isOverdue","isUrgent","PatientPortal","setPatientData","isRegistered","setIsRegistered","autoCloseTimer","setAutoCloseTimer","handleInputChange","field","submitRegistration","registrationId","messageError","resetForm","User","ADMIN_PERMISSIONS","SUPER_ADMIN_PERMISSIONS","ADMIN_USERS","isAdminUser","email","useAdminAuth","user","setUser","setError","session","adminUser","savedUser","parsedUser","subscription","login","password","authError","logout","hasPermission","permission","AdminLogin","onSuccess","setEmail","setPassword","showPassword","setShowPassword","handleSubmit","Loader2","ProtectedRoute","requiredPermission","fallback","showLoginForm","isAdmin","Lock","LogOut","VaccineSettings","vaccines","setVaccines","loading","setLoading","editingId","setEditingId","showAddForm","setShowAddForm","setFormData","loadVaccines","handleSave","handleEdit","handleToggleActive","currentActive","handleDelete","vaccineName","handleCancel","Save","Trash2","DomainManagementErrorBoundary","FallbackComponent","StaffPortal","todayAppointments","setTodayAppointments","selectedDate","setSelectedDate","vaccineOptions","setVaccineOptions","patientRegistrations","setPatientRegistrations","walkInForm","setWalkInForm","loadAppointmentsByDate","date","loadTodayAppointments","loadVaccineOptions","loadPatientRegistrations","updateAppointmentStatus","appointmentId","getStatusText","createWalkInVaccination","selectedVaccine","doseNum","currentTime","doseText","handleDateChange","getStatusIcon","completedToday","scheduledToday","totalToday","isToday","dateLabel","Stethoscope","tomorrow","TrendingUp","maxDoses","doseOptions","PatientAppointmentManager","setAppointment","loadPatients","formattedPatients","syncPatientsToSheets","saveAppointment","supabaseError","syncError","sendNotification","message","handlePatientSelect","patientId","syncExistingAppointments","FileSpreadsheet","Index","GoogleSheetsIntegration","NotFound","location","useLocation","LineBotPage","PatientPortalPage","CHECKBOX_NAME","createCheckboxContext","CheckboxProvider","useCheckboxContext","Checkbox","__scopeCheckbox","checkedProp","defaultChecked","required","disabled","onCheckedChange","form","checkboxProps","button","setButton","hasConsumerStoppedPropagationRef","isFormControl","checked","setChecked","initialCheckedStateRef","form2","reset","isIndeterminate","getState","prevChecked","BubbleInput","INDICATOR_NAME","CheckboxIndicator","indicatorProps","control","bubbles","inputProps","usePrevious","controlSize","input","inputProto","defaultCheckedRef","Indicator","CheckboxPrimitive.Root","CheckboxPrimitive.Indicator","toDate","argStr","constructFrom","addDays","amount","_date","addMonths","dayOfMonth","endOfDesiredMonth","daysInMonth","millisecondsInWeek","millisecondsInDay","millisecondsInMinute","millisecondsInHour","defaultOptions","getDefaultOptions","startOfWeek","weekStartsOn","day","diff","startOfISOWeek","getISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfDay","getTimezoneOffsetInMilliseconds","utcDate","differenceInCalendarDays","dateLeft","dateRight","startOfDayLeft","startOfDayRight","timestampLeft","timestampRight","startOfISOWeekYear","fourthOfJanuary","addWeeks","days","addYears","max","dates","dirtyDate","currentDate","min","isSameDay","dateLeftStartOfDay","dateRightStartOfDay","isDate","isValid","differenceInCalendarMonths","_dateLeft","_dateRight","yearDiff","monthDiff","differenceInCalendarWeeks","startOfWeekLeft","startOfWeekRight","differenceInDays","sign","compareLocalAsc","difference","isLastDayNotFull","endOfMonth","month","startOfMonth","startOfYear","cleanDate","endOfWeek","endOfISOWeek","formatDistanceLocale","formatDistance","token","tokenValue","buildFormatLongFn","dateFormats","timeFormats","dateTimeFormats","formatLong","formatRelativeLocale","formatRelative","_baseDate","_options","buildLocalizeFn","valuesArray","defaultWidth","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","number","rem100","localize","quarter","buildMatchFn","matchPattern","matchResult","matchedString","parsePatterns","findIndex","pattern","findKey","rest","object","predicate","array","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","enUS","getDayOfYear","getISOWeek","getWeekYear","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfWeekYear","firstWeek","getWeek","addLeadingZeros","targetLength","lightFormatters","signedYear","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","dayPeriodEnum","formatters","era","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","timestamp","delimiter","absOffset","minutes","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","dayOfYearTokenRE","weekYearTokenRE","throwTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","warnOrThrowProtectedError","format","_message","subject","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","formatStr","locale","defaultLocale","_h","originalDate","parts","substring","firstCharacter","longFormatter","cleanEscapedString","formatterOptions","part","formatter","matched","getDaysInMonth","monthIndex","lastDayOfMonth","getUnixTime","getWeeksInMonth","isAfter","dateToCompare","_dateToCompare","isBefore","isSameMonth","isSameYear","subDays","parseISO","dateStrings","splitDateString","parseYearResult","parseYear","parseDate","time","parseTime","parseTimezone","patterns","dateRegex","timeRegex","timezoneRegex","timeString","additionalDigits","regex","captures","century","isWeekDate","parseDateUnit","validateWeekDate","dayOfISOWeekYear","validateDate","validateDayOfYearDate","parseTimeUnit","seconds","validateTime","timezoneString","validateTimezone","fourthOfJanuaryDay","daysInMonths","isLeapYearIndex","_year","_hours","setMonth","dateWithDesiredMonth","setYear","th","__assign","__rest","__spreadArray","to","from","pack","ar","isDayPickerMultiple","isDayPickerRange","isDayPickerSingle","defaultClassNames","formatCaption","formatDay","formatMonthCaption","formatWeekNumber","weekNumber","formatWeekdayName","weekday","formatYearCaption","labelDay","activeModifiers","labelMonthDropdown","labelNext","labelPrevious","labelWeekday","labelWeekNumber","labelYearDropdown","labels","getDefaultContextValues","captionLayout","modifiersClassNames","numberOfMonths","parseFromToProps","fromYear","toYear","fromMonth","toMonth","fromDate","DayPickerContext","createContext","DayPickerProvider","initialProps","defaultContextValues","onSelect","useDayPicker","useContext","CaptionLabel","IconDropdown","Dropdown","caption","style","dayPicker","IconDropdownComponent","MonthsDropdown","components","dropdownMonths","handleChange","selectedMonth","newMonth","DropdownComponent","YearsDropdown","displayMonth","years","useControlledValue","defaultValue","controlledValue","uncontrolledValue","getInitialMonth","defaultMonth","initialMonth","useNavigationState","goToMonth","getDisplayMonths","reverseMonths","start","end","monthsDiff","months","nextMonth","getNextMonth","startingMonth","pagedNavigation","getPreviousMonth","NavigationContext","NavigationProvider","currentMonth","displayMonths","previousMonth","isDateDisplayed","goToDate","refDate","useNavigation","CaptionDropdowns","handleMonthChange","CaptionLabelComponent","captionLabel","IconLeft","IconRight","forwardRef","classNamesArr","Navigation","dir","previousLabel","previousClassName","nextLabel","nextClassName","IconRightComponent","IconLeftComponent","CaptionNavigation","displayIndex","isFirst","isLast","hideNext","hidePrevious","handlePreviousClick","handleNextClick","Caption","disableNavigation","Footer","footer","tfoot","getWeekdays","ISOWeek","HeadRow","showWeekNumber","weekdays","Head","HeadRowComponent","DayContent","SelectMultipleContext","SelectMultipleProvider","emptyContextValue","SelectMultipleProviderInternal","selected","onDayClick","isMinSelected","isMaxSelected","selectedDays","selectedDay","isSelected","contextValue","useSelectMultiple","addToRange","range","SelectRangeContext","SelectRangeProvider","SelectRangeProviderInternal","selectedFrom","selectedTo","newRange","selectedCount","useSelectRange","matcherToArray","matcher","getCustomModifiers","dayModifiers","customModifiers","InternalModifier","Selected","Disabled","Hidden","Today","RangeEnd","RangeMiddle","RangeStart","Outside","getInternalModifiers","selectMultiple","selectRange","internalModifiers","ModifiersContext","ModifiersProvider","useModifiers","isDateInterval","isDateRange","isDateAfterType","isDateBeforeType","isDayOfWeekType","isDateInRange","isRangeInverted","isInRange","isDateType","isArrayOfDates","isMatch","matchers","diffBefore","diffAfter","isDayBefore","isDayAfter","isClosedInterval","getActiveModifiers","matchedModifiers","getInitialFocusTarget","firstDayInMonth","lastDayInMonth","firstFocusableDay","isFocusable","MAX_RETRY","getNextFocus","focusedDay","moveBy","retry","moveFns","newFocusedDay","FocusContext","FocusProvider","navigation","setFocusedDay","lastFocused","setLastFocused","initialFocusTarget","focusTarget","focus","moveFocus","nextFocused","useFocusContext","useActiveModifiers","SelectSingleContext","SelectSingleProvider","SelectSingleProviderInternal","useSelectSingle","useDayEventHandlers","single","multiple","focusDayAfter","focusDayBefore","focusWeekAfter","focusWeekBefore","focusMonthBefore","focusMonthAfter","focusYearBefore","focusYearAfter","focusStartOfWeek","focusEndOfWeek","onClick","onFocus","onBlur","onMouseEnter","onMouseLeave","onPointerEnter","onPointerLeave","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onKeyUp","onKeyDown","eventHandlers","useSelectedDays","isInternalModifier","getDayClassNames","customClassName","internalClassName","getDayStyle","useDayRender","buttonRef","focusContext","isButton","DayContentComponent","divProps","isFocusTarget","isFocused","buttonProps","dayRender","Day","useRef","WeekNumber","onWeekNumberClick","handleClick","Row","DayComponent","WeeknumberComponent","weekNumberCell","daysToMonthWeeks","toWeek","fromWeek","nOfDays","weeksInMonth","existingWeek","getMonthWeeks","nrOfMonthWeeks","lastWeek","lastDate","extraWeeks","Table","hideHead","fixedWeeks","weeks","HeadComponent","RowComponent","FooterComponent","canUseDOM","useIsomorphicLayoutEffect","serverHandoffComplete","providedId","initialId","Month","captionId","tableId","isStart","isEnd","isCenter","CaptionComponent","Months","hasInitialFocus","setHasInitialFocus","dataAttributes","attrs","MonthsComponent","RootProvider","DayPicker","showOutsideDays","_props","ChevronLeft","ChevronRight","VaccineScheduleCalculator","schedules","setSchedules","tracking","setTracking","selectedSchedule","setSelectedSchedule","selectedPatientId","setSelectedPatientId","patientName","setPatientName","patientConditions","setPatientConditions","contraindicationResult","setContraindicationResult","calculatedSchedule","setCalculatedSchedule","loadVaccineSchedules","loadPatientTracking","patientVaccineMap","patientKey","firstDose","earliest","trackingData","completionStatus","nextDate","checkContraindications","scheduleId","calculateVaccineSchedule","scheduleArray","boosterDate","createPatientTracking","createNotificationSchedule","reminderDate","updatePatientCondition","condition","getStatusBadge","statusConfig","Target","indication","contraindication","item","track","daysLeft","effect","PatientRegistrationsList","registrations","setRegistrations","loadRegistrations","updateRegistrationStatus","filteredRegistrations","reg","registration","Phone","NextAppointments","creatingAppointment","setCreatingAppointment","sendingReminder","setSendingReminder","scheduleAppointment","patientTracking","existingAppointments","prevAppointments","sendReminder","sessionError","isStaff","roleError","errorMessage","interval","filteredAppointments","getDueBadge","CalendarPlus","PastVaccinations","vaccinations","setVaccinations","loadVaccinations","filteredVaccinations","vac","exportData","csvContent","link","History","vaccination","AutoNotificationSystem","notifications","setNotifications","lastRunResult","setLastRunResult","loadNotificationHistory","runAutoNotifications","getNotificationTypeIcon","getNotificationTypeText","Activity","notification","EditPatientAppointment","setVaccineSchedules","selectedAppointment","setSelectedAppointment","editForm","setEditForm","existingFutureAppointments","setExistingFutureAppointments","saving","setSaving","loadAppointments","transformed","calculateNextDoseDate","lastDoseDate","vaccineType","doseNumber","handleAppointmentSelect","futureAppointments","handleLastDoseDateChange","handleDoseNumberChange","saveChanges","searchError","oldAppt","cancelError","updateError","insertError","cancelledCount","NotificationTestPanel","testing","setTesting","testResults","setTestResults","runTests","results","tomorrowStr","overdueAppointments","recentNotifications","notificationJobs","pendingJobs","job","successCount","errorCount","warningCount","TestTube","UserRoleManager","users","setUsers","newUserEmail","setNewUserEmail","newUserRole","setNewUserRole","loadUsers","userRoles","rolesError","userRoleMap","ur","usersWithRoles","roles","assignRole","userEmail","role","currentUser","targetUserId","getRoleDisplayName","handleAssignRole","filteredUsers","getRoleBadgeColor","AuthenticatedStaffPortal","setSession","isAuthorized","setIsAuthorized","setIsAdmin","navigate","useNavigate","staffError","isHospitalEmail","isDemoAccount","hasAdminRole","adminError","isAdminEmail","handleSignOut","navigateToAuth","baseUrl","StaffPortalPage","HospitalLogo","basePath","fallbacks","currentSrc","nextIndex","MOBILE_BREAKPOINT","useIsMobile","isMobile","setIsMobile","mql","Sheet","SheetPrimitive.Root","SheetPortal","SheetPrimitive.Portal","SheetOverlay","SheetPrimitive.Overlay","sheetVariants","SheetContent","SheetPrimitive.Content","SheetPrimitive.Close","SheetTitle","SheetPrimitive.Title","SheetDescription","SheetPrimitive.Description","Skeleton","SIDEBAR_COOKIE_NAME","SIDEBAR_COOKIE_MAX_AGE","SIDEBAR_WIDTH","SIDEBAR_WIDTH_MOBILE","SIDEBAR_WIDTH_ICON","SIDEBAR_KEYBOARD_SHORTCUT","SidebarContext","useSidebar","SidebarProvider","setOpenProp","openMobile","setOpenMobile","_open","_setOpen","openState","toggleSidebar","Sidebar","collapsible","SidebarTrigger","PanelLeft","SidebarRail","SidebarInset","SidebarInput","SidebarHeader","SidebarFooter","SidebarSeparator","SidebarContent","SidebarGroup","SidebarGroupLabel","SidebarGroupAction","SidebarGroupContent","SidebarMenu","SidebarMenuItem","sidebarMenuButtonVariants","SidebarMenuButton","isActive","tooltip","SidebarMenuAction","showOnHover","SidebarMenuBadge","SidebarMenuSkeleton","showIcon","SidebarMenuSub","SidebarMenuSubItem","SidebarMenuSubButton","navigationItems","Home","adminItems","AppSidebar","currentPath","getNavClassName","NavLink","AppLayout","showSidebar","HomePage","isHealthcareStaff","setIsHealthcareStaff","adminCheck","staffCheck","Heart","Sparkles","BarChart3","BASE_URL","SITE_URL","AuthPage","isSignUp","setIsSignUp","showForgotPassword","setShowForgotPassword","showResetPassword","setShowResetPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","isRecoveryRef","query","hashParams","accessToken","refreshToken","sess","handleSignIn","AuthApiError","handleSignUp","redirectUrl","handleForgotPassword","handleUpdatePassword","LogIn","SimpleAuthPage","handleGuestAccess","handleStaffLogin","handlePatientPortal","LoadingPage","progress","setProgress","setStatus","steps","currentStep","FastIndexPage","handleQuickAccess","LiffPatientPortal","LIFF_ID","liffReady","setLiffReady","inLineApp","setInLineApp","liffProfile","setLiffProfile","liffError","setLiffError","profileError","loadLiffSDK","resolve","reject","script","appointmentDate","closeLiff","LiffPatientPortalPage","VaccineStatusChecker","setFilteredPatients","isLoadingPatients","setIsLoadingPatients","vaccineData","setVaccineData","filtered","fetchPatientVaccineData","errorData","statusMap","Icon","formatDate","log","VaccineStatusPage","DownloadPage","releaseInfo","setReleaseInfo","downloadProgress","setDownloadProgress","isDownloading","setIsDownloading","fetchReleaseInfo","handleDownload","progressInterval","Monitor","queryClient","QueryClient","isElectron","BASENAME","App","Router","HashRouter","BrowserRouter","routerProps","QueryClientProvider","Routes","Route","StrictMode"],"mappings":"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,uBAAuB,EAClC,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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","x_google_ignoreList":[0,2,3,4,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,36,42,62,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131]}